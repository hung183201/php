/*!
 * VERSION: 0.10.0
 * DATE: 2016-07-12
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(a,b,c,d){var e,f,g,h,i=function(b,c){a.call(this,"throwProps"),this._overwriteProps.length=0},j=999999999999999,k=1e-10,l=_gsScope._gsDefine.globals,m=!1,n={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},o=function(a,b,c,d){for(var e,f,g=b.length,h=0,i=j;--g>-1;)e=b[g],f=e-a,0>f&&(f=-f),i>f&&e>=d&&c>=e&&(h=g,i=f);return b[h]},p=function(a,b,c,d){if("auto"===a.end)return a;c=isNaN(c)?j:c,d=isNaN(d)?-j:d;var e="function"==typeof a.end?a.end(b):a.end instanceof Array?o(b,a.end,c,d):Number(a.end);return e>c?e=c:d>e&&(e=d),{max:e,min:e,unitFactor:a.unitFactor}},q=function(a,b,c){for(var d in b)void 0===a[d]&&d!==c&&(a[d]=b[d]);return a},r=i.calculateChange=function(a,d,e,f){null==f&&(f=.05);var g=d instanceof c?d:d?new c(d):b.defaultEase;return e*f*a/g.getRatio(f)},s=i.calculateDuration=function(a,d,e,f,g){g=g||.05;var h=f instanceof c?f:f?new c(f):b.defaultEase;return Math.abs((d-a)*h.getRatio(g)/e/g)},t=i.calculateTweenDuration=function(a,e,f,g,h,j){if("string"==typeof a&&(a=b.selector(a)),!a)return 0;null==f&&(f=10),null==g&&(g=.2),null==h&&(h=1),a.length&&(a=a[0]||a);var l,n,o,t,u,v,w,x,y,z,A=0,B=9999999999,C=e.throwProps||e,D=e.ease instanceof c?e.ease:e.ease?new c(e.ease):b.defaultEase,E=isNaN(C.checkpoint)?.05:Number(C.checkpoint),F=isNaN(C.resistance)?i.defaultResistance:Number(C.resistance);for(l in C)"resistance"!==l&&"checkpoint"!==l&&"preventOvershoot"!==l&&(n=C[l],"object"!=typeof n&&(y=y||d.getByTarget(a),y&&y.isTrackingProp(l)?n="number"==typeof n?{velocity:n}:{velocity:y.getVelocity(l)}:(t=Number(n)||0,o=t*F>0?t/F:t/-F)),"object"==typeof n&&(void 0!==n.velocity&&"number"==typeof n.velocity?t=Number(n.velocity)||0:(y=y||d.getByTarget(a),t=y&&y.isTrackingProp(l)?y.getVelocity(l):0),u=isNaN(n.resistance)?F:Number(n.resistance),o=t*u>0?t/u:t/-u,v="function"==typeof a[l]?a[l.indexOf("set")||"function"!=typeof a["get"+l.substr(3)]?l:"get"+l.substr(3)]():a[l]||0,w=v+r(t,D,o,E),void 0!==n.end&&(n=p(n,w,n.max,n.min),(j||m)&&(C[l]=q(n,C[l],"end"))),void 0!==n.max&&w>Number(n.max)+k?(z=n.unitFactor||i.defaultUnitFactors[l]||1,x=v>n.max&&n.min!==n.max||t*z>-15&&45>t*z?g+.1*(f-g):s(v,n.max,t,D,E),B>x+h&&(B=x+h)):void 0!==n.min&&w<Number(n.min)-k&&(z=n.unitFactor||i.defaultUnitFactors[l]||1,x=v<n.min&&n.min!==n.max||t*z>-45&&15>t*z?g+.1*(f-g):s(v,n.min,t,D,E),B>x+h&&(B=x+h)),x>A&&(A=x)),o>A&&(A=o));return A>B&&(A=B),A>f?f:g>A?g:A},u=i.prototype=new a("throwProps");return u.constructor=i,i.version="0.10.0",i.API=2,i._autoCSS=!0,i.defaultResistance=100,i.defaultUnitFactors={time:1e3,totalTime:1e3},i.track=function(a,b,c){return d.track(a,b,c)},i.untrack=function(a,b){d.untrack(a,b)},i.isTracking=function(a,b){return d.isTracking(a,b)},i.getVelocity=function(a,b){var c=d.getByTarget(a);return c?c.getVelocity(b):NaN},i._cssRegister=function(){var a=l.com.greensock.plugins.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,g=b._setPluginRatio,h=b.CSSPropTween;b._registerComplexSpecialProp("throwProps",{parser:function(a,b,j,k,l,m){m=new i;var o,p,q,r,s,t={},u={},v={},w={},x={},y={};f={};for(q in b)"resistance"!==q&&"preventOvershoot"!==q&&(p=b[q],"object"==typeof p?(void 0!==p.velocity&&"number"==typeof p.velocity?t[q]=Number(p.velocity)||0:(s=s||d.getByTarget(a),t[q]=s&&s.isTrackingProp(q)?s.getVelocity(q):0),void 0!==p.end&&(w[q]=p.end),void 0!==p.min&&(u[q]=p.min),void 0!==p.max&&(v[q]=p.max),p.preventOvershoot&&(y[q]=!0),void 0!==p.resistance&&(o=!0,x[q]=p.resistance)):"number"==typeof p?t[q]=p:(s=s||d.getByTarget(a),s&&s.isTrackingProp(q)?t[q]=s.getVelocity(q):t[q]=p||0),n[q]&&k._enableTransforms(2===n[q]));r=c(a,t,k,l,m),e=r.proxy,t=r.end;for(q in e)f[q]={velocity:t[q],min:u[q],max:v[q],end:w[q],resistance:x[q],preventOvershoot:y[q]};return null!=b.resistance&&(f.resistance=b.resistance),b.preventOvershoot&&(f.preventOvershoot=!0),l=new h(a,"throwProps",0,0,r.pt,2),k._overwriteProps.pop(),l.plugin=m,l.setRatio=g,l.data=r,m._onInitTween(e,f,k._tween),l}})}},i.to=function(a,c,d,i,j){c.throwProps||(c={throwProps:c}),0===j&&(c.throwProps.preventOvershoot=!0),m=!0;var k=new b(a,i||1,c);return k.render(0,!0,!0),k.vars.css?(k.duration(t(e,{throwProps:f,ease:c.ease},d,i,j)),k._delay&&!k.vars.immediateRender?k.invalidate():g._onInitTween(e,h,k),m=!1,k):(k.kill(),k=new b(a,t(a,c,d,i,j),c),m=!1,k)},u._onInitTween=function(a,b,c,e){this.target=a,this._props=[],g=this,h=b;var f,i,j,k,l,n,o,s,t,u=c._ease,v=isNaN(b.checkpoint)?.05:Number(b.checkpoint),w=c._duration,x=b.preventOvershoot,y=0;for(f in b)if("resistance"!==f&&"checkpoint"!==f&&"preventOvershoot"!==f){if(i=b[f],"function"==typeof i&&(i=i(e,a)),"number"==typeof i)l=Number(i)||0;else if("object"!=typeof i||isNaN(i.velocity)){if(t=t||d.getByTarget(a),!t||!t.isTrackingProp(f))throw"ERROR: No velocity was defined in the throwProps tween of "+a+" property: "+f;l=t.getVelocity(f)}else l=Number(i.velocity);n=r(l,u,w,v),s=0,k="function"==typeof a[f],j=k?a[f.indexOf("set")||"function"!=typeof a["get"+f.substr(3)]?f:"get"+f.substr(3)]():a[f],"object"==typeof i&&(o=j+n,void 0!==i.end&&(i=p(i,o,i.max,i.min),m&&(b[f]=q(i,b[f],"end"))),void 0!==i.max&&Number(i.max)<o?x||i.preventOvershoot?n=i.max-j:s=i.max-j-n:void 0!==i.min&&Number(i.min)>o&&(x||i.preventOvershoot?n=i.min-j:s=i.min-j-n)),this._overwriteProps[y]=f,this._props[y++]={p:f,s:j,c1:n,c2:s,f:k,r:!1}}return!0},u._kill=function(b){for(var c=this._props.length;--c>-1;)null!=b[this._props[c].p]&&this._props.splice(c,1);return a.prototype._kill.call(this,b)},u._mod=function(a){for(var b,c=this._props,d=c.length;--d>-1;)b=a[c[d].p]||a.throwProps,"function"==typeof b&&(c[d].m=b)},u.setRatio=function(a){for(var b,c,d=this._props.length;--d>-1;)b=this._props[d],c=b.s+b.c1*a+b.c2*a*a,b.m?c=b.m(c,this.target):1===a&&(c=(1e4*c+(0>c?-.5:.5)|0)/1e4),b.f?this.target[b.p](c):this.target[b.p]=c},a.activate([i]),i},!0),_gsScope._gsDefine("utils.VelocityTracker",["TweenLite"],function(a){var b,c,d,e,f=/([A-Z])/g,g={},h={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},i=document.defaultView?document.defaultView.getComputedStyle:function(){},j=function(a,b,c){var d=(a._gsTransform||g)[b];return d||0===d?d:(a.style[b]?d=a.style[b]:(c=c||i(a,null))?d=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(f,"-$1").toLowerCase()):a.currentStyle&&(d=a.currentStyle[b]),parseFloat(d)||0)},k=a.ticker,l=function(a,b,c){this.p=a,this.f=b,this.v1=this.v2=0,this.t1=this.t2=k.time,this.css=!1,this.type="",this._prev=null,c&&(this._next=c,c._prev=this)},m=function(){var a,c,f=b,g=k.time;if(g-d>=.03)for(e=d,d=g;f;){for(c=f._firstVP;c;)a=c.css?j(f.target,c.p):c.f?f.target[c.p]():f.target[c.p],(a!==c.v1||g-c.t1>.15)&&(c.v2=c.v1,c.v1=a,c.t2=c.t1,c.t1=g),c=c._next;f=f._next}},n=function(a){this._lookup={},this.target=a,this.elem=a.style&&a.nodeType?!0:!1,c||(k.addEventListener("tick",m,null,!1,-100),d=e=k.time,c=!0),b&&(this._next=b,b._prev=this),b=this},o=n.getByTarget=function(a){for(var c=b;c;){if(c.target===a)return c;c=c._next}},p=n.prototype;return p.addProp=function(b,c){if(!this._lookup[b]){var d=this.target,e="function"==typeof d[b],f=e?this._altProp(b):b,g=this._firstVP;this._firstVP=this._lookup[b]=this._lookup[f]=g=new l(f!==b&&0===b.indexOf("set")?f:b,e,g),g.css=this.elem&&(void 0!==this.target.style[g.p]||h[g.p]),g.css&&h[g.p]&&!d._gsTransform&&a.set(d,{x:"+=0",overwrite:!1}),g.type=c||g.css&&0===b.indexOf("rotation")?"deg":"",g.v1=g.v2=g.css?j(d,g.p):e?d[g.p]():d[g.p]}},p.removeProp=function(a){var b=this._lookup[a];b&&(b._prev?b._prev._next=b._next:b===this._firstVP&&(this._firstVP=b._next),b._next&&(b._next._prev=b._prev),this._lookup[a]=0,b.f&&(this._lookup[this._altProp(a)]=0))},p.isTrackingProp=function(a){return this._lookup[a]instanceof l},p.getVelocity=function(a){var b,c,d,e=this._lookup[a],f=this.target;if(!e)throw"The velocity of "+a+" is not being tracked.";return b=e.css?j(f,e.p):e.f?f[e.p]():f[e.p],c=b-e.v2,("rad"===e.type||"deg"===e.type)&&(d="rad"===e.type?2*Math.PI:360,c%=d,c!==c%(d/2)&&(c=0>c?c+d:c-d)),c/(k.time-e.t2)},p._altProp=function(a){var b=a.substr(0,3),c=("get"===b?"set":"set"===b?"get":b)+a.substr(3);return"function"==typeof this.target[c]?c:a},n.getByTarget=function(c){var d=b;for("string"==typeof c&&(c=a.selector(c)),c.length&&c!==window&&c[0]&&c[0].style&&!c.nodeType&&(c=c[0]);d;){if(d.target===c)return d;d=d._next}},n.track=function(a,b,c){var d=o(a),e=b.split(","),f=e.length;for(c=(c||"").split(","),d||(d=new n(a));--f>-1;)d.addProp(e[f],c[f]||c[0]);return d},n.untrack=function(a,c){var d=o(a),e=(c||"").split(","),f=e.length;if(d){for(;--f>-1;)d.removeProp(e[f]);d._firstVP&&c||(d._prev?d._prev._next=d._next:d===b&&(b=d._next),d._next&&(d._next._prev=d._prev))}},n.isTracking=function(a,b){var c=o(a);return c?!b&&c._firstVP?!0:c.isTrackingProp(b):!1},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=b())}("ThrowPropsPlugin");
/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.5.1",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(D).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,j=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ae(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,Ce)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=Te.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click",Ce),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){S.event.remove(this,e,n,t)})}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function Pe(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&De.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Pe(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Le)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,He),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(je,""),u,l))}return n}function Re(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Oe(o[r],a[r]);else Oe(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},We=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Fe=new RegExp(ne.join("|"),"i");function Be(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ie(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Me.test(a)&&Fe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=3<parseInt(r.height),re.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ze=E.createElement("div").style,Ue={};function Xe(e){var t=S.cssProps[e]||Ue[e];return t||(e in ze?e:Ue[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=_e.length;while(n--)if((e=_e[n]+t)in ze)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Ie(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ge.test(t),l=e.style;if(u||(t=Xe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ge.test(t)||(t=Xe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ve.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):We(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Ie(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",y.checkOn=""!==rt.value,y.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",y.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(P)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))});if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))});if(!arguments.length)return this.attr("class","");if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=mt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=yt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+vt(yt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:vt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Dt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)Dt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)Dt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var jt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Bt(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Bt(Rt,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ot.test(v.type),f=v.url.replace(qt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(jt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Et.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+It+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Bt(Mt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();y.cors=!!zt&&"withCredentials"in zt,y.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(y.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t)return t=Be(e,n),Me.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});

/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/

// t: current time, b: begInnIng value, c: change In value, d: duration
(function($,undefined){$.easing.jswing=$.easing.swing;$.extend($.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return $.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return $.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}})})(jQuery)

/*
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2001 Robert Penner
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */
'use strict';
!function(e,t){function n(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=f[e[h]];return t||(t={},d++,e[h]=d,f[d]=t),t}function a(e,n,a){return n||(n=t),l?n.createElement(e):(a||(a=r(n)),n=a.cache[e]?a.cache[e].cloneNode():u.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e),n.canHaveChildren&&!s.test(e)?a.frag.appendChild(n):n)}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function o(e){e||(e=t);var n=r(e);if(g.shivCSS&&!i&&!n.hasCSS){var a,o=e;a=o.createElement("p"),o=o.getElementsByTagName("head")[0]||o.documentElement,a.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>",a=o.insertBefore(a.lastChild,o.firstChild),n.hasCSS=!!a}return l||c(e,n),e}var i,l,m=e.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",d=0,f={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",i="hidden"in e;var n;if(!(n=1==e.childNodes.length)){t.createElement("a");var r=t.createDocumentFragment();n="undefined"==typeof r.cloneNode||"undefined"==typeof r.createDocumentFragment||"undefined"==typeof r.createElement}l=n}catch(a){l=i=!0}}();var g={elements:m.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2pre",shivCSS:!1!==m.shivCSS,supportsUnknownElements:l,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:o,createElement:a,createDocumentFragment:function(e,a){if(e||(e=t),l)return e.createDocumentFragment();for(var a=a||r(e),c=a.frag.cloneNode(),o=0,i=n(),m=i.length;m>o;o++)c.createElement(i[o]);return c}};e.html5=g,o(t)}(this,document);
function owlOnClick(t,e,i){var s=0,n=0;function o(t){("mouseup"===t.type&&t.which<=1||"touchend"===t.type)&&i(t),("mousemove"!==t.type&&"touchmove"!==t.type||Math.abs(t.pageX-s)+Math.abs(t.pageY-n)!==0)&&$(t.target).off("mouseup touchend",o).off("mousemove touchmove",o)}t.on("mousedown touchstart",e,function(t){s=t.pageX,n=t.pageY,$(t.target).on("mouseup touchend",o).on("mousemove touchmove",o)})}!function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r>0;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h,r-=1;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],n.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},n.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},n.prototype.initialize=function(){var t,e,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",void 0!==o[t+1]?o[t+1]:r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?s=e=this.minimum():this.op(e,"<",o[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){if(e=this._items.length)for(i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;if(void 0===e)return t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this));if(this.settings.center)this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s;else{i=this._coordinates[n]||0;for(var o=this.settings,r=this._items.length,a=this._items[--r].width(),h=this.$element.width(),l=!0;r--;)if((a+=this._items[r].width()+this.settings.margin)>h){l=!1;break}if(l)i=0;else if((o.autoWidth||o.merge)&&!o.loop&&r>=0&&e>0&&e>r){for(var c=e,p=0;c<this._items.length;)p+=this._items[c++].width()+this.settings.margin;i+=(o.rtl?-1:1)*(h-p+this.settings.margin)}}return i=Math.ceil(i)},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){for(var s in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;for(t in e.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type||"resized"==e.type)){var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);for(i.lazyLoadEager>0&&(s+=i.lazyLoadEager,i.loop&&(o-=i.lazyLoadEager,s++));n++<s;)this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o++}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1,lazyLoadEager:0},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src")||o.attr("data-srcset");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):o.is("source")?o.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("srcset",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(i){this._core=i,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var s=this;t(e).on("load",function(){s._core.settings.autoHeight&&s.update()}),t(e).resize(function(){s._core.settings.autoHeight&&(null!=s._intervalId&&clearTimeout(s._intervalId),s._intervalId=setTimeout(function(){s.update()},250))})};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.settings.lazyLoad,n=this._core.$stage.children().toArray().slice(e,i),o=[],r=0;t.each(n,function(e,i){o.push(t(i).height())}),(r=Math.max.apply(null,o))<=1&&s&&this._previousHeight&&(r=this._previousHeight),this._previousHeight=r,this._core.$stage.parent().height(r).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",r=e.find("img"),a="src",h="",l=this._core.settings,c=function(i){'<div class="owl-video-play-icon"></div>',s=l.lazyLoad?t("<div/>",{class:"owl-video-tn "+h,srcType:i}):t("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),e.after(s),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:o})),this._core.settings.lazyLoad&&(a="data-src",h="owl-lazy"),r.length)return c(r.attr(a)),r.remove(),!1;"youtube"===i.type?(n="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",c(n)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t[0].thumbnail_large,c(n)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t.framegrab_url,c(n)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),(i=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",r),i.attr("width",o),"youtube"===n.type?i.attr("src","//www.youtube.com/embed/"+n.id+"?autoplay=1&rel=0&v="+n.id):"vimeo"===n.type?i.attr("src","//player.vimeo.com/video/"+n.id+"?autoplay=1"):"vzaar"===n.type&&i.attr("src","//view.vzaar.com/"+n.id+"/player?autoplay=true"),t(i).wrap('<div class="owl-video-frame" />').insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype._next=function(s){this._call=e.setTimeout(t.proxy(this._next,this,s),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(s||this._core.settings.autoplaySpeed)},n.prototype.read=function(){return(new Date).getTime()-this._time},n.prototype.play=function(i,s){var n;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,n=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%i-n,this._timeout=i,this._call=e.setTimeout(t.proxy(this._next,this,s),i-n)},n.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},n.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;for(e in this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t('<button role="button">').addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this)),this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s,n;for(t in n=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&n.navContainer?this._controls[e].html(""):this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0,0;t<s;t++){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),s=this._core.$stage.children(),n=this._hashes[i]&&s.index(this._hashes[i]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;for(i in t(e).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=t("<support>").get(0).style,o="Webkit Moz O ms".split(" "),r={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},a=function(){return!!c("transform")},h=function(){return!!c("perspective")},l=function(){return!!c("animation")};function c(e,i){var r=!1,a=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+o.join(a+" ")+a).split(" "),function(t,e){if(n[e]!==s)return r=!i||e,!1}),r}function p(t){return c(t,!0)}(function(){return!!c("transition")})()&&(t.support.transition=new String(p("transition")),t.support.transition.end=r.transition.end[t.support.transition]),l()&&(t.support.animation=new String(p("animation")),t.support.animation.end=r.animation.end[t.support.animation]),a()&&(t.support.transform=new String(p("transform")),t.support.transform3d=h())}(window.Zepto||window.jQuery,window,document),jQuery.event.special.touchstart={setup:function(t,e,i){e.includes&&e.includes("noPreventDefault")?this.addEventListener("touchstart",i,{passive:!1}):this.addEventListener("touchstart",i,{passive:!0})}};
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});
/*! Select2 4.0.5 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return v.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=t.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,t.nodeIdCompat&&x.test(a[g])&&(a[g]=a[g].replace(x,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=w.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),o.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){r[a]=b}}function j(a){if(e(s,a)){var c=s[a];delete s[a],u[a]=!0,n.apply(b,c)}if(!e(r,a)&&!e(u,a))throw new Error("No "+a);return r[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return a?k(a):[]}function m(a){return function(){return t&&t.config&&t.config[a]||{}}}var n,o,p,q,r={},s={},t={},u={},v=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(a,b){var c,d=k(a),e=d[0],g=b[1];return a=d[1],e&&(e=f(e,g),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(g)):f(a,g):(a=f(a,g),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},q={require:function(a){return g(a)},exports:function(a){var b=r[a];return void 0!==b?b:r[a]={}},module:function(a){return{id:a,uri:"",exports:r[a],config:m(a)}}},n=function(a,c,d,f){var h,k,m,n,o,t,v,w=[],x=typeof d;if(f=f||a,t=l(f),"undefined"===x||"function"===x){for(c=!c.length&&d.length?["require","exports","module"]:c,o=0;o<c.length;o+=1)if(n=p(c[o],t),"require"===(k=n.f))w[o]=q.require(a);else if("exports"===k)w[o]=q.exports(a),v=!0;else if("module"===k)h=w[o]=q.module(a);else if(e(r,k)||e(s,k)||e(u,k))w[o]=j(k);else{if(!n.p)throw new Error(a+" missing "+k);n.p.load(n.n,g(f,!0),i(k),{}),w[o]=r[k]}m=d?d.apply(r[a],w):void 0,a&&(h&&h.exports!==b&&h.exports!==r[a]?r[a]=h.exports:m===b&&v||(r[a]=m))}else a&&(r[a]=d)},a=c=o=function(a,c,d,e,f){if("string"==typeof a)return q[a]?q[a](c):j(p(a,l(c)).f);if(!a.splice){if(t=a,t.deps&&o(t.deps,t.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?n(b,a,c,d):setTimeout(function(){n(b,a,c,d)},4),o},o.config=function(a){return o(a)},a._defined=r,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(r,a)||e(s,a)||(s[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){"function"==typeof b[d]&&("constructor"!==d&&c.push(d))}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){return Array.prototype.unshift.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;c<a;c++){b+=Math.floor(36*Math.random()).toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return(e!==f||"hidden"!==f&&"visible"!==f)&&("scroll"===e||"scroll"===f||(d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth))},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){b.find(".select2-results").append(a)},c.prototype.sort=function(a){return this.options.get("sorter")(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()});b.$results.find(".select2-results__option[aria-selected]").each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";a(h);this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):h-g<0&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");if("true"===c.attr("aria-selected"))return void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{}));d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),c<=2?this.$results.scrollTop(0):(g>this.$results.outerHeight()||g<0)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a,b){var d=this,e=(a.id,a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2");a(".select2.select2-container--open").each(function(){var b=a(this);this!=d[0]&&b.data("element").select2("close")})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){b.find(".selection").append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection");return this.options.get("escapeMarkup")(c(a,b))},d.prototype.selectionContainer=function(){return a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id;if(b.length>1||c)return a.call(this,b);this.clear();var d=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(d)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||c.which!=b.DELETE&&c.which!=b.BACKSPACE||this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){if(a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented(),a.which===c.BACKSPACE&&""===e.$search.val()){var b=e.$searchContainer.prev(".select2-selection__choice");if(b.length>0){var d=b.data("data");e.searchRemoveChoice(d),a.preventDefault()}}});var f=document.documentMode,g=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(g)return void e.$selection.off("input.search input.searchcheck");e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)return void e.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{a=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G"," ":"G","":"G"," ":"G","":"G","":"G","":"G","":"G"," ":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L"," ":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N"," ":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O"," ":"O","":"O","":"O"," ":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S"," ":"S"," ":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V"," ":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a"," ":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g"," ":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p"," ":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),null!=c.id?d+="-"+c.id.toString():d+="-"+a.generateChars(4),d},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple")){if(a.selected=!1,c(a.element).is("option"))return a.element.selected=!1,void this.$element.trigger("change");this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})}},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this;this.$element.children().each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),void 0!==a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(null!=(b=c.data(a[0],"data")))return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){return this.options.get("matcher")(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0);if((i.text||"").toUpperCase()===(b.term||"").toUpperCase()||j)return!f&&(a.data=g,void c(a))}if(f)return!0;var k=e.createTag(b);if(null!=k){var l=e.option(k);l.attr("data-select2-tag",!0),e.addOptions([l]),e.insertTag(g,k)}a.results=g,c(a)}var e=this;if(this._removeOldTags(),null==b.term||null!=b.page)return void a.call(this,b,c);a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b);if(!g.$element.find("option").filter(function(){return a(this).val()===c.id}).length){var d=g.option(c);d.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([d])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",b.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){if(b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;if(d.maximumSelectionLength>0&&f>=d.maximumSelectionLength)return void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()||e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){e.showSearch(a)?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){e.$results.offset().top+e.$results.outerHeight(!1)+50>=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1)&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id;this.$container.parents().filter(b.hasScroll).off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return!(a(c.data.results)<this.minimumResultsForSearch)&&b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){return"Please enter "+(a.minimum-a.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}return D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(a){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(a){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var O=k.loadPath(this.defaults.amdLanguageBase+"en"),P=new k(l.language);P.extend(O),l.translations=P}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){null==c(d,e.children[g])&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var h=b(e.text).toUpperCase(),i=b(d.term).toUpperCase();return h.indexOf(i)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)},new D}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return e<=0?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;h<i;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=a&&0!==a.length||(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("jquery-mousewheel",["jquery"],function(a){return a}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if("object"==typeof(b=b||{}))return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c});
/*! selectize.js - v0.12.6 | https://github.com/selectize/selectize.js | Apache License (v2) */

!function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(!(a=e(String(a||"").toLowerCase()))||!a.length)return[];var b,c,d,g,i=[],j=a.split(/ +/);for(b=0,c=j.length;b<c;b++){if(d=f(j[b]),this.settings.diacritics)for(g in h)h.hasOwnProperty(g)&&(d=d.replace(new RegExp(g,"g"),h[g]));i.push({string:j[b],regex:new RegExp(d,"i")})}return i},a.prototype.iterator=function(a,b){var c;c=g(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var c,e,f,g,h;c=this,a=c.prepareSearch(a,b),f=a.tokens,e=a.options.fields,g=f.length,h=a.options.nesting;var i=function(a,b){var c,d;return a?(a=String(a||""),-1===(d=a.search(b.regex))?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},j=function(){var a=e.length;return a?1===a?function(a,b){return i(d(b,e[0],h),a)}:function(b,c){for(var f=0,g=0;f<a;f++)g+=i(d(c,e[f],h),b);return g/a}:function(){return 0}}();return g?1===g?function(a){return j(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<g;c++){if((b=j(f[c],a))<=0)return 0;d+=b}return d/g}:function(a){for(var b=0,c=0;b<g;b++)c+=j(f[b],a);return c/g}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var e,f,g,h,i,j,k,l,m,n,o;if(g=this,a=g.prepareSearch(a,c),o=!a.query&&c.sort_empty||c.sort,m=function(a,b){return"$score"===a?b.score:d(g.items[b.id],a,c.nesting)},i=[],o)for(e=0,f=o.length;e<f;e++)(a.query||"$score"!==o[e].field)&&i.push(o[e]);if(a.query){for(n=!0,e=0,f=i.length;e<f;e++)if("$score"===i[e].field){n=!1;break}n&&i.unshift({field:"$score",direction:"desc"})}else for(e=0,f=i.length;e<f;e++)if("$score"===i[e].field){i.splice(e,1);break}for(l=[],e=0,f=i.length;e<f;e++)l.push("desc"===i[e].direction?-1:1);return j=i.length,j?1===j?(h=i[0].field,k=l[0],function(a,c){return k*b(m(h,a),m(h,c))}):function(a,c){var d,e,f;for(d=0;d<j;d++)if(f=i[d].field,e=l[d]*b(m(f,a),m(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=c({},b);var d=b.fields,e=b.sort,f=b.sort_empty;return d&&!g(d)&&(b.fields=[d]),e&&!g(e)&&(b.sort=[e]),f&&!g(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(!1===b.filter||c>0)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),e=g.getSortFunction(d,b),e&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=i(String(a||"")),b=i(String(b||"")),a>b?1:b>a?-1:0)},c=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},d=function(a,b,c){if(a&&b){if(!c)return a[b];for(var d=b.split(".");d.length&&(a=a[d.shift()]););return a}},e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g=Array.isArray||"undefined"!=typeof $&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},i=function(){var a,b,c,d,e="",f={};for(c in h)if(h.hasOwnProperty(c))for(d=h[c].substring(2,h[c].length-1),e+=d,a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={};a.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;c<d;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&("highlight"!==a.className||"SPAN"!==a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}};a.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()};var e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=f?91:17,h=f?18:17,i=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,j=function(a){return void 0!==a},k=function(a){return void 0===a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""},l=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},m={};m.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},m.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var n=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},o=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},p=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];if(-1===b.indexOf(c))return e.apply(a,arguments);f[c]=arguments},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},q=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},r=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},s=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;d<e;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},t=function(b,c){return b?(w.$testInput||(w.$testInput=a("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),w.$testInput.text(b),s(c,w.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),w.$testInput.width()):0},u=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||!1!==a.data("grow"))&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=48&&f<=57||f>=65&&f<=90||f>=96&&f<=111||f>=186&&f<=222||32===f,46===f||8===f?(l=r(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):8===f&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):46===f&&void 0!==l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),(i=t(e,a)+4)!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},v=function(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML},w=function(c,d){var e,f,g,h,i=this;h=c[0],h.selectize=i;var j=window.getComputedStyle&&window.getComputedStyle(h,null);if(g=j?j.getPropertyValue("direction"):h.currentStyle&&h.currentStyle.direction,g=g||c.parents("[dir]:first").attr("dir")||"",a.extend(i,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===h.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++w.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?i.onSearchChange:o(i.onSearchChange,d.loadThrottle)}),i.sifter=new b(this.options,{diacritics:d.diacritics}),i.settings.options){for(e=0,f=i.settings.options.length;e<f;e++)i.registerOption(i.settings.options[e]);delete i.settings.options}if(i.settings.optgroups){for(e=0,f=i.settings.optgroups.length;e<f;e++)i.registerOptionGroup(i.settings.optgroups[e]);delete i.settings.optgroups}i.settings.mode=i.settings.mode||(1===i.settings.maxItems?"single":"multi"),"boolean"!=typeof i.settings.hideSelected&&(i.settings.hideSelected="multi"===i.settings.mode),i.initializePlugins(i.settings.plugins),i.setupCallbacks(),i.setupTemplates(),i.setup()};return e.mixin(w),void 0!==c?c.mixin(w):function(a,b){b||(b={});console.error("Selectize: "+a),b.explanation&&(console.group&&console.group(),console.error(b.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),a.extend(w.prototype,{setup:function(){var b,c,d,e,j,k,l,m,n,o,p=this,r=p.settings,s=p.eventNS,t=a(window),v=a(document),w=p.$input;if(l=p.settings.mode,m=w.attr("class")||"",b=a("<div>").addClass(r.wrapperClass).addClass(m).addClass(l),c=a("<div>").addClass(r.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",w.is(":disabled")?"-1":p.tabIndex),k=a(r.dropdownParent||b),e=a("<div>").addClass(r.dropdownClass).addClass(l).hide().appendTo(k),j=a("<div>").addClass(r.dropdownContentClass).appendTo(e),(o=w.attr("id"))&&(d.attr("id",o+"-selectized"),a("label[for='"+o+"']").attr("for",o+"-selectized")),p.settings.copyClassesToDropdown&&e.addClass(m),b.css({width:w[0].style.width}),p.plugins.names.length&&(n="plugin-"+p.plugins.names.join(" plugin-"),b.addClass(n),e.addClass(n)),(null===r.maxItems||r.maxItems>1)&&1===p.tagType&&w.attr("multiple","multiple"),p.settings.placeholder&&d.attr("placeholder",r.placeholder),!p.settings.splitOn&&p.settings.delimiter){var x=p.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");p.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}w.attr("autocorrect")&&d.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&d.attr("autocapitalize",w.attr("autocapitalize")),d[0].type=w[0].type,p.$wrapper=b,p.$control=c,p.$control_input=d,p.$dropdown=e,p.$dropdown_content=j,e.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(a){a.stopImmediatePropagation()}),e.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),e.on("mousedown click","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),q(c,"mousedown","*:not(input)",function(){return p.onItemSelect.apply(p,arguments)}),u(d),c.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),v.on("keydown"+s,function(a){p.isCmdDown=a[f?"metaKey":"ctrlKey"],p.isCtrlDown=a[f?"altKey":"ctrlKey"],p.isShiftDown=a.shiftKey}),v.on("keyup"+s,function(a){a.keyCode===h&&(p.isCtrlDown=!1),16===a.keyCode&&(p.isShiftDown=!1),a.keyCode===g&&(p.isCmdDown=!1)}),v.on("mousedown"+s,function(a){if(p.isFocused){if(a.target===p.$dropdown[0]||a.target.parentNode===p.$dropdown[0])return!1;p.$control.has(a.target).length||a.target===p.$control[0]||p.blur(a.target)}}),t.on(["scroll"+s,"resize"+s].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),t.on("mousemove"+s,function(){p.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(p.$wrapper),a.isArray(r.items)&&(p.setValue(r.items),delete r.items),i&&w.on("invalid"+s,function(a){a.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,w.is(":disabled")&&p.disable(),p.on("change",this.onChange),w.data("selectize",p),w.addClass("selectized"),p.trigger("initialize"),!0===r.preload&&p.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]])&&this.on(a,b)},onClick:function(a){var b=this;b.isFocused&&b.isOpen||(b.focus(),a.preventDefault())},onMouseDown:function(b){var c=this,d=b.isDefaultPrevented();a(b.target);if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;if(c.isFull()||c.isInputHidden||c.isLocked)return void b.preventDefault();c.settings.splitOn&&setTimeout(function(){var b=c.$control_input.val();if(b.match(c.settings.splitOn))for(var d=a.trim(b).split(c.settings.splitOn),e=0,f=d.length;e<f;e++)c.createItem(d[e])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var b=(a.target,this.$control_input[0],this);if(b.isLocked)return void(9!==a.keyCode&&a.preventDefault());switch(a.keyCode){case 65:if(b.isCmdDown)return void b.selectAll();break;case 27:return void(b.isOpen&&(a.preventDefault(),a.stopPropagation(),b.close()));case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case 80:if(!a.ctrlKey||a.altKey)break;case 38:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case 13:return void(b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()));case 37:return void b.advanceSelection(-1,a);case 39:return void b.advanceSelection(1,a);case 9:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),b.isFull()||a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case 8:case 46:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;if(b.isDisabled)return b.blur(),a&&a.preventDefault(),!1;b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState())},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),b&&b.focus&&b.focus(),c.isBlurring=!1,c.ignoreFocus=!1,c.trigger("blur")};c.isBlurring=!0,c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?e.createItem(null,function(){e.settings.closeAfterSelect&&e.close()}):void 0!==(c=d.attr("data-value"))&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),e.settings.closeAfterSelect?e.close():!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c)))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){p(this,b?[]:["change"],function(){this.clear(b),this.addItems(a,b)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(b=a(b),!b.length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if("mousedown"===(d=c&&c.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]),g>h&&(j=g,g=h,h=j),e=g;e<=h;e++)i=l.$control[0].childNodes[e],-1===l.$activeItems.indexOf(i)&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,k=this;k.$activeOption&&k.$activeOption.removeClass("active"),k.$activeOption=null,b=a(b),b.length&&(k.$activeOption=b.addClass("active"),!c&&j(c)||(e=k.$dropdown_content.height(),f=k.$activeOption.outerHeight(!0),c=k.$dropdown_content.scrollTop()||0,g=k.$activeOption.offset().top-k.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?k.$dropdown_content.stop().animate({scrollTop:i},d?k.settings.scrollDuration:0):g<c&&k.$dropdown_content.stop().animate({scrollTop:h},d?k.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b,nesting:a.nesting}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&"function"!=typeof(e=f.settings.score.apply(this,[b])))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;c>=0;c--)-1!==f.items.indexOf(k(d.items[c].id))&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t;void 0===b&&(b=!0);var u=this,w=a.trim(u.$control_input.val()),x=u.search(w),y=u.$dropdown_content,z=u.$activeOption&&k(u.$activeOption.attr("data-value"));for(g=x.items.length,"number"==typeof u.settings.maxOptions&&(g=Math.min(g,u.settings.maxOptions)),h={},i=[],c=0;c<g;c++)for(j=u.options[x.items[c].id],l=u.render("option",j),m=j[u.settings.optgroupField]||"",n=a.isArray(m)?m:[m],e=0,f=n&&n.length;e<f;e++)m=n[e],u.optgroups.hasOwnProperty(m)||(m=""),h.hasOwnProperty(m)||(h[m]=document.createDocumentFragment(),i.push(m)),h[m].appendChild(l);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){return(u.optgroups[a].$order||0)-(u.optgroups[b].$order||0)}),o=document.createDocumentFragment(),c=0,g=i.length;c<g;c++)m=i[c],u.optgroups.hasOwnProperty(m)&&h[m].childNodes.length?(p=document.createDocumentFragment(),p.appendChild(u.render("optgroup_header",u.optgroups[m])),p.appendChild(h[m]),o.appendChild(u.render("optgroup",a.extend({},u.optgroups[m],{html:v(p),dom:p})))):o.appendChild(h[m]);if(y.html(o),u.settings.highlight&&(y.removeHighlight(),x.query.length&&x.tokens.length))for(c=0,g=x.tokens.length;c<g;c++)d(y,x.tokens[c].regex);if(!u.settings.hideSelected)for(c=0,g=u.items.length;c<g;c++)u.getOption(u.items[c]).addClass("selected");q=u.canCreate(w),q&&(y.prepend(u.render("option_create",{input:w})),t=a(y[0].childNodes[0])),u.hasOptions=x.items.length>0||q,u.hasOptions?(x.items.length>0?(s=z&&u.getOption(z),s&&s.length?r=s:"single"===u.settings.mode&&u.items.length&&(r=u.getOption(u.items[0])),r&&r.length||(r=t&&!u.settings.addPrecedence?u.getAdjacentOption(t,1):y.find("[data-selectable]:first"))):r=t,u.setActiveOption(r),b&&!u.isOpen&&u.open()):(u.setActiveOption(null),b&&u.isOpen&&u.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;c<d;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=k(a[this.settings.valueField]);return void 0!==b&&null!==b&&!this.options.hasOwnProperty(b)&&(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=k(a[this.settings.optgroupValueField]);return!!b&&(a.$order=a.$order||++this.order,this.optgroups[b]=a,b)},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var d,e,f,g,h,i,j,l=this;if(b=k(b),f=k(c[l.settings.valueField]),null!==b&&l.options.hasOwnProperty(b)){if("string"!=typeof f)throw new Error("Value must be set in option data");j=l.options[b].$order,f!==b&&(delete l.options[b],-1!==(g=l.items.indexOf(b))&&l.items.splice(g,1,f)),c.$order=c.$order||j,l.options[f]=c,h=l.renderCache.item,i=l.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),-1!==l.items.indexOf(f)&&(d=l.getItem(b),e=a(l.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),l.lastQuery=null,l.isOpen&&l.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=k(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var b=this;b.loadedSearches={},b.userOptions={},b.renderCache={};var c=b.options;a.each(b.options,function(a,d){-1==b.items.indexOf(a)&&delete c[a]}),b.options=b.sifter.items=c,b.lastQuery=null,b.trigger("option_clear")},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(void 0!==(b=k(b))&&null!==b)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){this.buffer=document.createDocumentFragment();for(var d=this.$control[0].childNodes,e=0;e<d.length;e++)this.buffer.appendChild(d[e]);for(var f=a.isArray(b)?b:[b],e=0,g=f.length;e<g;e++)this.isPending=e<g-1,this.addItem(f[e],c);var h=this.$control[0];h.insertBefore(this.buffer,h.firstChild),this.buffer=null},addItem:function(b,c){p(this,c?[]:["change"],function(){var d,e,f,g,h,i=this,j=i.settings.mode;if(b=k(b),-1!==i.items.indexOf(b))return void("single"===j&&i.close());i.options.hasOwnProperty(b)&&("single"===j&&i.clear(c),"multi"===j&&i.isFull()||(d=a(i.render("item",i.options[b])),h=i.isFull(),i.items.splice(i.caretPos,0,b),i.insertAtCaret(d),(!i.isPending||!h&&i.isFull())&&i.refreshState(),i.isSetup&&(f=i.$dropdown_content.find("[data-selectable]"),i.isPending||(e=i.getOption(b),g=i.getAdjacentOption(e,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==j),g&&i.setActiveOption(i.getOption(g))),!f.length||i.isFull()?i.close():i.isPending||i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",b,d),i.isPending||i.updateOriginalInput({silent:c}))))})},removeItem:function(b,c){var d,e,f,g=this;d=b instanceof a?b:g.getItem(b),b=k(d.attr("data-value")),-1!==(e=g.items.indexOf(b))&&(d.remove(),d.hasClass("active")&&(f=g.$activeItems.indexOf(d[0]),g.$activeItems.splice(f,1)),g.items.splice(e,1),g.lastQuery=null,!g.settings.persist&&g.userOptions.hasOwnProperty(b)&&g.removeOption(b,c),e<g.caretPos&&g.setCaret(g.caretPos-1),g.refreshState(),g.updatePlaceholder(),g.updateOriginalInput({silent:c}),g.positionDropdown(),g.trigger("item_remove",b,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=n(function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=k(a[d.settings.valueField]);if("string"!=typeof b)return f();d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),f(a)}),i=g.apply(this,[b,h]);return void 0!==i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var a=!this.items.length;this.isInvalid=a,this.$control_input.prop("required",a),this.$input.prop("required",!a)},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){
return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},1===f.tagType){for(d=[],b=0,c=f.items.length;b<c;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+l(f.items[b])+'" selected="selected">'+l(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&(a.hideInput(),a.isBlurring||a.$control_input.blur()),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a[0].getBoundingClientRect().width,top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length),c=a[0],d=this.buffer||this.$control[0];0===b?d.insertBefore(c,d.firstChild):d.insertBefore(c,d.childNodes[b]),this.setCaret(b+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&8===b.keyCode?-1:1,f=r(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;c<d;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(e<0&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&!1===l.settings.onDelete.apply(l,[g]))return!1;for(void 0!==h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h=this;0!==a&&(h.rtl&&(a*=-1),c=a>0?"last":"first",d=r(h.$control_input[0]),h.isFocused&&!h.isInputHidden?(f=h.$control_input.val().length,(a<0?0===d.start&&0===d.length:d.start===f)&&!f&&h.advanceCaret(a,b)):(g=h.$control.children(".active:"+c),g.length&&(e=h.$control.children(":not(input)").index(g),h.setActiveItem(null),h.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=a>0?"next":"prev",e.isShiftDown?(d=e.$control_input[c](),d.length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault())):e.setCaret(e.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,f,g;for(f=c.$control.children(":not(input)"),d=0,e=f.length;d<e;d++)g=a(f[d]).detach(),d<b?c.$control_input.before(g):c.$control.append(g)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),0==--w.count&&w.$testInput&&(w.$testInput.remove(),w.$testInput=void 0),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(b,c){var d,e,f="",g=!1,h=this;return"option"!==b&&"item"!==b||(d=k(c[h.settings.valueField]),g=!!d),g&&(j(h.renderCache[b])||(h.renderCache[b]={}),h.renderCache[b].hasOwnProperty(d))?h.renderCache[b][d]:(f=a(h.settings.render[b].apply(this,[c,l])),"option"===b||"option_create"===b?c[h.settings.disabledField]||f.attr("data-selectable",""):"optgroup"===b&&(e=c[h.settings.optgroupValueField]||"",f.attr("data-group",e),c[h.settings.disabledField]&&f.attr("data-disabled","")),"option"!==b&&"item"!==b||f.attr("data-value",d||""),g&&(h.renderCache[b][d]=f[0]),f[0])},clearCache:function(a){var b=this;void 0===a?b.renderCache={}:delete b.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return a.length&&("function"!=typeof c||c.apply(b,[a]))&&("string"!=typeof c||new RegExp(c).test(a))&&(!(c instanceof RegExp)||c.test(a))}}),w.count=0,w.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.disabledField,i=d.optgroupField,j=d.optgroupLabelField,l=d.optgroupValueField,m=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;h<i;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(j=m.split(d.delimiter),h=0,i=j.length;h<i;h++)k={},k[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},n=function(b,c){var m,n,o,p,q=c.options,r={},s=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},t=function(b,e){b=a(b);var j=k(b.val());if(j||d.allowEmptyOption)if(r.hasOwnProperty(j)){if(e){var l=r[j][i];l?a.isArray(l)?l.push(e):r[j][i]=[l,e]:r[j][i]=e}}else{var m=s(b)||{};m[f]=m[f]||b.text(),m[g]=m[g]||j,m[h]=m[h]||b.prop("disabled"),m[i]=m[i]||e,r[j]=m,q.push(m),b.is(":selected")&&c.items.push(j)}};for(c.maxItems=b.attr("multiple")?null:1,p=b.children(),m=0,n=p.length;m<n;m++)o=p[m].tagName.toLowerCase(),"optgroup"===o?function(b){var d,e,f,g,i;for(b=a(b),f=b.attr("label"),f&&(g=s(b)||{},g[j]=f,g[l]=f,g[h]=b.prop("disabled"),c.optgroups.push(g)),i=a("option",b),d=0,e=i.length;d<e;d++)t(i[d],f)}(p[m]):"option"===o&&t(p[m])};return this.each(function(){if(!this.selectize){var e=a(this),f=this.tagName.toLowerCase(),g=e.attr("placeholder")||e.attr("data-placeholder");g||d.allowEmptyOption||(g=e.children('option[value=""]').text());var h={placeholder:g,options:[],optgroups:[],items:[]};"select"===f?n(e,h):m(e,h),new w(e,a.extend(!0,{},c,h,b))}})},a.fn.selectize.defaults=w.defaults,a.fn.selectize.support={validity:i},w.define("drag_drop",function(b){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),w.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),w.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||37!==b.keyCode&&39!==b.keyCode?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=37===b.keyCode?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),void(e.length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return void 0===b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),(f=k.length)&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;e<f;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(m.after(this,"positionDropdown",e),m.after(this,"refreshOptions",e))}),w.define("remove_button",function(b){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);if("single"===this.settings.mode)return void function(b,c){c.className="remove-single";var d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+l(c.title)+'">'+c.label+"</a>",f=function(b,c){return a("<span>").append(b).append(c)};b.setup=function(){var g=d.setup;return function(){if(c.append){var h=a(d.$input.context).attr("id"),i=(a("#"+h),d.settings.render.item);d.settings.render.item=function(a){return f(i.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(a){a.preventDefault(),d.isLocked||d.clear()})}}()}(this,b);!function(b,c){var d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+l(c.title)+'">'+c.label+"</a>",f=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};b.setup=function(){var g=d.setup;return function(){if(c.append){var h=d.settings.render.item;d.settings.render.item=function(a){return f(h.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(b){if(b.preventDefault(),!d.isLocked){var c=a(b.currentTarget).parent();d.setActiveItem(c),d.deleteSelection()&&d.setCaret(d.items.length)}})}}()}(this,b)}),w.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return 8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1)>=0&&d<this.items.length?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)}}()}),w});
// ==================================================
// fancyBox v3.5.2
//
// Licensed GPLv3 for open source use
// or fancyBox Commercial License for commercial use
//
// http://fancyapps.com/fancybox/
// Copyright 2018 fancyApps
//
// ==================================================
!function(t,e,n,o){"use strict";function a(t,e){var o,a,i,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger("blur"),i=n.fancybox.getInstance(),i&&i.$trigger&&i.$trigger.is(o)||(e.selector?s=n(e.selector):(a=o.attr("data-fancybox")||"",a?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox="'+a+'"]'):n('[data-fancybox="'+a+'"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),i=n.fancybox.open(s,e,r),i.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info("fancyBox already initialized");var i={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Mastab"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement("fakeelement"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in a)if(n.style[t]!==o)return a[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,a;return!(!t||t.ownerDocument!==e)&&(n(".fancybox-container").css("pointer-events","none"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},a=e.elementFromPoint(o.x,o.y)===t,n(".fancybox-container").css("pointer-events",""),a)},b=function(t,e,o){var a=this;a.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(a.opts=h(a.opts,e)),n.fancybox.isMobile&&(a.opts=h(a.opts,a.opts.mobile)),a.id=a.opts.id||++c,a.currIndex=parseInt(a.opts.index,10)||0,a.prevIndex=null,a.prevPos=null,a.currPos=0,a.firstRun=!0,a.group=[],a.slides={},a.addContent(t),a.group.length&&a.init()};n.extend(b.prototype,{init:function(){var o,a,i=this,s=i.group[i.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n("body").addClass("fancybox-active"),!n.fancybox.getInstance()&&r.hideScrollbar!==!1&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+"px;}</style>"),n("body").addClass("compensate-for-scrollbar")),a="",n.each(r.buttons,function(t,e){a+=r.btnTpl[e]||""}),o=n(i.translate(i,r.baseTpl.replace("{{buttons}}",a).replace("{{arrows}}",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr("id","fancybox-container-"+i.id).addClass(r.baseClass).data("FancyBox",i).appendTo(r.parentEl),i.$refs={container:o},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){i.$refs[t]=o.find(".fancybox-"+t)}),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var a=n[e];return a===o?t:a})},addContent:function(t){var e,a=this,i=n.makeArray(t);n.each(i,function(t,e){var i,s,r,c,l,d={},u={};n.isPlainObject(e)?(d=e,u=e.opts||e):"object"===n.type(e)&&n(e).length?(i=n(e),u=i.data()||{},u=n.extend(!0,{},u,u.options),u.$orig=i,d.src=a.opts.src||u.src||i.attr("href"),d.type||d.src||(d.type="inline",d.src=e)):d={type:"html",src:e+""},d.opts=n.extend(!0,{},a.opts,u),n.isArray(u.buttons)&&(d.opts.buttons=u.buttons),n.fancybox.isMobile&&d.opts.mobile&&(d.opts=h(d.opts,d.opts.mobile)),s=d.type||d.opts.type,c=d.src||"",!s&&c&&((r=c.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(s="video",d.opts.video.format||(d.opts.video.format="video/"+("ogv"===r[1]?"ogg":r[1]))):c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":c.match(/\.(pdf)((\?|#).*)?$/i)?(s="iframe",d=n.extend(!0,d,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===c.charAt(0)&&(s="inline")),s?d.type=s:a.trigger("objectNeedsType",d),d.contentType||(d.contentType=n.inArray(d.type,["html","inline","ajax"])>-1?"html":d.type),d.index=a.group.length,"auto"==d.opts.smallBtn&&(d.opts.smallBtn=n.inArray(d.type,["html","inline","ajax"])>-1),"auto"===d.opts.toolbar&&(d.opts.toolbar=!d.opts.smallBtn),d.$thumb=d.opts.$thumb||null,d.opts.$trigger&&d.index===a.opts.index&&(d.$thumb=d.opts.$trigger.find("img:first"),d.$thumb.length&&(d.opts.$orig=d.opts.$trigger)),d.$thumb&&d.$thumb.length||!d.opts.$orig||(d.$thumb=d.opts.$orig.find("img:first")),d.$thumb&&!d.$thumb.length&&(d.$thumb=null),d.thumb=d.opts.thumb||(d.$thumb?d.$thumb[0].src:null),"function"===n.type(d.opts.caption)&&(d.opts.caption=d.opts.caption.apply(e,[a,d])),"function"===n.type(a.opts.caption)&&(d.opts.caption=a.opts.caption.apply(e,[a,d])),d.opts.caption instanceof n||(d.opts.caption=d.opts.caption===o?"":d.opts.caption+""),"ajax"===d.type&&(l=c.split(/\s+/,2),l.length>1&&(d.src=l.shift(),d.opts.filter=l.shift())),d.opts.modal&&(d.opts=n.extend(!0,d.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),a.group.push(d)}),Object.keys(a.slides).length&&(a.updateControls(),e=a.Thumbs,e&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on("click.fb","[data-fancybox-zoom]",function(t){e[e.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&"iframe"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on("keydown.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null,a=o.current,i=t.keyCode||t.which;if(9==i)return void(a.opts.trapFocus&&e.focus(t));if(!(!a.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input")||n(t.target).is("textarea")))return 8===i||27===i?(t.preventDefault(),void e.close(t)):37===i||38===i?(t.preventDefault(),void e.previous()):39===i||40===i?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,i)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){e.idleSecondsCounter++,e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var a,i,s,r,c,l,d,u,f,h=this,g=h.group.length;if(!(h.isDragging||h.isClosing||h.isAnimating&&h.firstRun)){if(t=parseInt(t,10),s=h.current?h.current.opts.loop:h.opts.loop,!s&&(t<0||t>=g))return!1;if(a=h.firstRun=!Object.keys(h.slides).length,c=h.current,h.prevIndex=h.currIndex,h.prevPos=h.currPos,r=h.createSlide(t),g>1&&((s||r.index<g-1)&&h.createSlide(t+1),(s||r.index>0)&&h.createSlide(t-1)),h.current=r,h.currIndex=r.index,h.currPos=r.pos,h.trigger("beforeShow",a),h.updateControls(),r.forcedDuration=o,n.isNumeric(e)?r.forcedDuration=e:e=r.opts[a?"animationDuration":"transitionDuration"],e=parseInt(e,10),i=h.isMoved(r),r.$slide.addClass("fancybox-slide--current"),a)return r.opts.animationEffect&&e&&h.$refs.container.css("transition-duration",e+"ms"),h.$refs.container.addClass("fancybox-is-open").trigger("focus"),h.loadSlide(r),void h.preload("image");l=n.fancybox.getTranslate(c.$slide),d=n.fancybox.getTranslate(h.$refs.stage),n.each(h.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),c.pos!==r.pos&&(c.isComplete=!1),c.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),i?(f=l.left-(c.pos*l.width+c.pos*c.opts.gutter),n.each(h.slides,function(t,o){o.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var a=o.pos*l.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:a-d.left+f}),o.pos!==r.pos&&o.$slide.addClass("fancybox-slide--"+(o.pos>r.pos?"next":"previous")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-r.pos)*l.width+(o.pos-r.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===h.currPos&&h.complete()})})):e&&r.opts.transitionEffect&&(u="fancybox-animated fancybox-fx-"+r.opts.transitionEffect,c.$slide.addClass("fancybox-slide--"+(c.pos>r.pos?"next":"previous")),n.fancybox.animate(c.$slide,u,e,function(){c.$slide.removeClass(u).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),r.isLoaded?h.revealContent(r):h.loadSlide(r),h.preload("image")}},createSlide:function(t){var e,o,a=this;return o=t%a.group.length,o=o<0?a.group.length+o:o,!a.slides[t]&&a.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(a.$refs.stage),a.slides[t]=n.extend(!0,{},a.group[o],{pos:t,$slide:e,isLoaded:!1}),a.updateSlide(a.slides[t])),a.slides[t]},scaleToActual:function(t,e,a){var i,s,r,c,l,d=this,u=d.current,f=u.$content,p=n.fancybox.getTranslate(u.$slide).width,h=n.fancybox.getTranslate(u.$slide).height,g=u.width,b=u.height;d.isAnimating||d.isMoved()||!f||"image"!=u.type||!u.isLoaded||u.hasError||(d.isAnimating=!0,n.fancybox.stop(f),t=t===o?.5*p:t,e=e===o?.5*h:e,i=n.fancybox.getTranslate(f),i.top-=n.fancybox.getTranslate(u.$slide).top,i.left-=n.fancybox.getTranslate(u.$slide).left,c=g/i.width,l=b/i.height,s=.5*p-.5*g,r=.5*h-.5*b,g>p&&(s=i.left*c-(t*c-t),s>0&&(s=0),s<p-g&&(s=p-g)),b>h&&(r=i.top*l-(e*l-e),r>0&&(r=0),r<h-b&&(r=h-b)),d.updateCursor(g,b),n.fancybox.animate(f,{top:r,left:s,scaleX:c,scaleY:l},a||330,function(){d.isAnimating=!1}),d.SlideShow&&d.SlideShow.isActive&&d.SlideShow.stop())},scaleToFit:function(t){var e,o=this,a=o.current,i=a.$content;o.isAnimating||o.isMoved()||!i||"image"!=a.type||!a.isLoaded||a.hasError||(o.isAnimating=!0,n.fancybox.stop(i),e=o.getFitPos(a),o.updateCursor(e.width,e.height),n.fancybox.animate(i,{top:e.top,left:e.left,scaleX:e.width/i.width(),scaleY:e.height/i.height()},t||330,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,a,i,s=this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css("paddingLeft"))+parseFloat(c.css("paddingRight"))+parseFloat(r.css("marginLeft"))+parseFloat(r.css("marginRight")),o-=parseFloat(c.css("paddingTop"))+parseFloat(c.css("paddingBottom"))+parseFloat(r.css("marginTop"))+parseFloat(r.css("marginBottom")),l&&d||(l=e,d=o),a=Math.min(1,e/l,o/d),l=a*l,d=a*d,l>e-.5&&(l=e),d>o-.5&&(d=o),"image"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css("paddingTop")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css("paddingLeft"))):"video"===t.contentType&&(i=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/i?d=l/i:l>d*i&&(l=d*i)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,a=t&&t.$content,i=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),a&&(i||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(a),n.fancybox.setTranslate(a,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger("refresh"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,a=e.current,i=a.$slide;!e.isClosing&&a&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),n.fancybox.animate(i,{top:0,left:0,opacity:1},t===o?0:t,function(){i.css({transform:"",opacity:""}),a.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,a=t||this.current;return!!a&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(a.$slide),!a.$slide.hasClass("fancybox-animated")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,a,i=this,s=i.current,r=i.$refs.container;s&&!i.isClosing&&i.Guestures&&(r.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=i.canPan(t,e),a=!!o||i.isZoomable(),r.toggleClass("fancybox-is-zoomable",a),n("[data-fancybox-zoom]").prop("disabled",!a),o?r.addClass("fancybox-can-pan"):a&&("zoom"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&"zoom"==s.opts.clickContent(s))?r.addClass("fancybox-can-zoomIn"):s.opts.touch&&(s.opts.touch.vertical||i.group.length>1)&&"video"!==s.contentType&&r.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if(t=e.getFitPos(n),t&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var a=this,i=!1,s=a.current,r=s.$content;return t!==o&&e!==o?i=t<s.width&&e<s.height:r&&(i=n.fancybox.getTranslate(r),i=i.width<s.width&&i.height<s.height),i},canPan:function(t,e){var a=this,i=a.current,s=null,r=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(r=a.getFitPos(i),t!==o&&e!==o?s={width:t,height:e}:i.isComplete&&(s=n.fancybox.getTranslate(i.$content)),s&&r&&(r=Math.abs(s.width-r.width)>1.5||Math.abs(s.height-r.height)>1.5)),r},loadSlide:function(t){var e,o,a,i=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,i.trigger("beforeLoad",t)===!1)return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":i.setImage(t);break;case"iframe":i.setIframe(t);break;case"html":i.setContent(t,t.src||t.content);break;case"video":i.setContent(t,t.opts.video.tpl.replace(/\{\{src\}\}/gi,t.src).replace("{{format}}",t.opts.videoFormat||t.opts.video.format||"").replace("{{poster}}",t.thumb||""));break;case"inline":n(t.src).length?i.setContent(t,n(t.src)):i.setError(t);break;case"ajax":i.showLoading(t),a=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&i.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&i.setError(t)}})),o.one("onReset",function(){a.abort()});break;default:i.setError(t)}return!0}},setImage:function(t){var o,a=this;setTimeout(function(){var e=t.$image;a.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||a.showLoading(t)},50),a.checkSrcset(t),t.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),t.opts.preload!==!1&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement("img"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){a.afterLoad(t)},t.$ghost=n(o).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),a.setBigImage(t)},checkSrcset:function(e){var n,o,a,i,s=e.opts.srcset||e.opts.image.srcset;if(s){a=t.devicePixelRatio||1,i=t.innerWidth*a,o=s.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);return 0===n?e.url=t:void(o&&(e.value=o,e.postfix=t[t.length-1]))}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=o[r];if("w"===c.postfix&&c.value>=i||"x"===c.postfix&&c.value>=a){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,a=e.createElement("img"),i=n(a);t.$image=i.one("error",function(){o.setError(t)}).one("load",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&"auto"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),i.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(a.complete||"complete"==a.readyState)&&i.naturalWidth&&i.naturalHeight?i.trigger("load"):a.error&&i.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),a=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),a>0&&(t.width=Math.floor(a*e/n),t.height=a)},setIframe:function(t){var e,a=this,i=t.opts.iframe,s=t.$slide;n.fancybox.isMobile&&(i.css.overflow="scroll"),t.$content=n('<div class="fancybox-content'+(i.preload?" fancybox-is-hidden":"")+'"></div>').css(i.css).appendTo(s),s.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(a.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),a.afterLoad(t)}),s.on("refresh.fb",function(){var n,a,r=t.$content,c=i.css.width,l=i.css.height;if(1===e[0].isReady){try{n=e.contents(),a=n.find("body")}catch(t){}a&&a.length&&a.children().length&&(s.css("overflow","visible"),r.css({width:"100%","max-width":"100%",height:"9999px"}),c===o&&(c=Math.ceil(Math.max(a[0].clientWidth,a.outerWidth(!0)))),r.css("width",c?c:"").css("max-width",""),l===o&&(l=Math.ceil(Math.max(a[0].clientHeight,a.outerHeight(!0)))),r.css("height",l?l:""),s.css("overflow","auto")),r.removeClass("fancybox-is-hidden")}})):a.afterLoad(t),e.attr("src",t.src),s.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents()),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;t=t||e.current,t&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){var e=this;t=t||e.current,t&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e=this,n=t||e.current,o=n.opts.caption,a=e.$refs.caption,i=!1;n.opts.preventCaptionOverlap&&o&&o.length&&(n.pos!==e.currPos?(a=a.clone().empty().appendTo(a.parent()),a.html(o),i=a.outerHeight(!0),a.empty().remove()):e.$caption&&(i=e.$caption.outerHeight(!0)),n.$slide.css("padding-bottom",i||""))},adjustLayout:function(t){var e,n,o,a,i=this,s=t||i.current;s.isLoaded&&s.opts.disableLayoutFix!==!0&&(s.$content.css("margin-bottom",""),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style["padding-bottom"],a=s.$slide.css("padding-bottom"),parseFloat(a)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css("padding-bottom",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=a),s.$slide.css("padding-bottom",o))),s.$content.css("margin-bottom",n))},revealContent:function(t){var e,a,i,s,r=this,c=t.$slide,l=!1,d=!1,u=r.isMoved(t),f=t.isRevealed;return t.isRevealed=!0,e=t.opts[r.firstRun?"animationEffect":"transitionEffect"],i=t.opts[r.firstRun?"animationDuration":"transitionDuration"],i=parseInt(t.forcedDuration===o?i:t.forcedDuration,10),!u&&t.pos===r.currPos&&i||(e=!1),"zoom"===e&&(t.pos===r.currPos&&i&&"image"===t.type&&!t.hasError&&(d=r.getThumbPos(t))?l=r.getFitPos(t):e="fade"),"zoom"===e?(r.isAnimating=!0,l.scaleX=l.width/d.width,l.scaleY=l.height/d.height,s=t.opts.zoomOpacity,"auto"==s&&(s=Math.abs(t.width/t.height-d.width/d.height)>.1),s&&(d.opacity=.1,l.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),d),p(t.$content),void n.fancybox.animate(t.$content,l,i,function(){r.isAnimating=!1,r.complete()})):(r.updateSlide(t),e?(n.fancybox.stop(c),a="fancybox-slide--"+(t.pos>=r.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,c.addClass(a).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(c),"image"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(c,"fancybox-slide--current",i,function(){c.removeClass(a).css({transform:"",opacity:""}),t.pos===r.currPos&&r.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),f||!u||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===r.currPos&&r.complete())))},getThumbPos:function(t){var e,o,a,i,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css("border-top-width")||0),a=parseFloat(c.css("border-right-width")||0),i=parseFloat(c.css("border-bottom-width")||0),s=parseFloat(c.css("border-left-width")||0),r={top:e.top+o,left:e.left+s,width:e.width-a-s,height:e.height-o-i,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,a={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),e.preload("inline"),p(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?a[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=a),e.isAnimating=!1,e.updateCursor(),e.trigger("afterShow"),o.opts.video.autoStart&&o.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&"html"===o.contentType&&(t=o.$content.find("input[autofocus]:enabled:visible:first"),t.length?t.trigger("focus"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var a,i,s=this,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");s.isClosing||(a=!t&&s.current&&s.current.isComplete?s.current.$slide.find("*:visible"+(o?":not(.fancybox-close-small)":"")):s.$refs.container.find("*:visible"),a=a.filter(r).filter(function(){return"hidden"!==n(this).css("visibility")&&!n(this).hasClass("disabled")}),a.length?(i=a.index(e.activeElement),t&&t.shiftKey?(i<0||0==i)&&(t.preventDefault(),a.eq(a.length-1).trigger("focus")):(i<0||i==a.length-1)&&(t&&t.preventDefault(),a.eq(0).trigger("focus"))):s.$refs.container.trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,a,i,s,r,c,l,u=this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,u.trigger("beforeClose",t)===!1?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),i=f.$content,o=f.opts.animationEffect,a=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),t!==!0?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger("onReset").remove(),a&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",a+"ms"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),"zoom"!==o||i&&a&&"image"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o="fade"),"zoom"===o?(n.fancybox.stop(i),s=n.fancybox.getTranslate(i),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,"auto"==r&&(r=Math.abs(f.width/f.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(i,c),p(i),n.fancybox.animate(i,l,a,h),!0):(o&&a?n.fancybox.animate(f.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+o,a,h):t===!0?setTimeout(h,a):h(),
!0)))},cleanUp:function(e){var o,a,i,s=this,r=s.current.opts.$orig;s.current.$slide.trigger("onReset"),s.$refs.container.empty().remove(),s.trigger("afterClose",e),s.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=s.$trigger),r&&r.length&&(a=t.scrollX,i=t.scrollY,r.trigger("focus"),n("html, body").scrollTop(i).scrollLeft(a))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n("body").removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,a=Array.prototype.slice.call(arguments,1),i=this,s=e&&e.opts?e:i.current;return s?a.unshift(s):s=i,a.unshift(i),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,a)),o===!1?o:void("afterClose"!==t&&i.$refs?i.$refs.container.trigger(t+".fb",a):r.trigger(t+".fb",a))},updateControls:function(){var t=this,o=t.current,a=o.index,i=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger("refresh"),t.$caption=r&&r.length?s.html(r):null,t.hasHiddenControls||t.isIdle||t.showControls(),i.find("[data-fancybox-count]").html(t.group.length),i.find("[data-fancybox-index]").html(a+1),i.find("[data-fancybox-prev]").prop("disabled",!o.opts.loop&&a<=0),i.find("[data-fancybox-next]").prop("disabled",!o.opts.loop&&a>=t.group.length-1),"image"===o.type?i.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",o.opts.image.src||o.src).show():o.opts.toolbar&&i.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),n(e.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=this,n=["infobar","toolbar","nav"];!t&&e.current.opts.preventCaptionOverlap||n.push("caption"),this.$refs.container.removeClass(n.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.5.2",defaults:i,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),t===!0&&this.close(t))},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(t,e){var n="",a={};if(t&&e)return e.left===o&&e.top===o||(n=(e.left===o?t.position().left:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o?n+=" scale("+e.scaleX+", "+e.scaleY+")":e.scaleX!==o&&(n+=" scaleX("+e.scaleX+")"),n.length&&(a.transform=n),e.opacity!==o&&(a.opacity=e.opacity),e.width!==o&&(a.width=e.width),e.height!==o&&(a.height=e.height),t.css(a)},animate:function(t,e,a,i,s){var r,c=this;n.isFunction(a)&&(i=a,a=null),c.stop(t),r=c.getTranslate(t),t.on(f,function(l){(!l||!l.originalEvent||t.is(l.originalEvent.target)&&"z-index"!=l.originalEvent.propertyName)&&(c.stop(t),n.isNumeric(a)&&t.css("transition-duration",""),n.isPlainObject(e)?e.scaleX!==o&&e.scaleY!==o&&c.setTranslate(t,{top:e.top,left:e.left,width:r.width*e.scaleX,height:r.height*e.scaleY,scaleX:1,scaleY:1}):s!==!0&&t.removeClass(e),n.isFunction(i)&&i(l))}),n.isNumeric(a)&&t.css("transition-duration",a+"ms"),n.isPlainObject(e)?(e.scaleX!==o&&e.scaleY!==o&&(delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger(f)},a+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(f),t.off(f).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},a):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},a),this},r.on("click.fb-start","[data-fancybox]",a),r.on("click.fb-start","[data-fancybox-trigger]",function(t){n('[data-fancybox="'+n(this).attr("data-fancybox-trigger")+'"]').eq(n(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:n(this)})}),function(){var t=".fancybox-button",e="fancybox-focus",o=null;r.on("mousedown mouseup focus blur",t,function(a){switch(a.type){case"mousedown":o=n(this);break;case"mouseup":o=null;break;case"focusin":n(t).removeClass(e),n(this).is(o)||n(this).is("[disabled]")||n(this).addClass(e);break;case"focusout":n(t).removeClass(e)}})}()}}(window,document,jQuery),function(t){"use strict";var e={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube-nocookie.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},n=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e};t(document).on("objectNeedsType.fb",function(o,a,i){var s,r,c,l,d,u,f,p=i.src||"",h=!1;s=t.extend(!0,{},e,i.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],"?"==d[0]&&(d=d.substring(1)),d=d.split("&");for(var a=0;a<d.length;++a){var s=d[a].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,i.opts[e],u),p="function"===t.type(o.url)?o.url.call(this,c,l,i):n(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,i):n(o.thumb,c),"youtube"===e?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===e&&(p=p.replace("&%23","#")),!1}}),h?(i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=r),"iframe"===h&&(i.opts=t.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(i,{type:h,src:p,origSrc:i.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(i.type=i.opts.defaultType)});var o={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,n=this;return this[t].loaded?void setTimeout(function(){n.done(t)}):void(this[t].loading||(this[t].loading=!0,e=document.createElement("script"),e.type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e)))},done:function(e){var n,o,a;"youtube"===e&&delete window.onYouTubeIframeAPIReady,n=t.fancybox.getInstance(),n&&(o=n.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?a=new YT.Player(o.attr("id"),{events:{onStateChange:function(t){0==t.data&&n.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&(a=new Vimeo.Player(o),a.on("ended",function(){n.next()})))}};t(document).on({"afterShow.fb":function(t,e,n){e.group.length>1&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),a=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),i=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,a=o.length;e<a;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],a=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,i=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return a||i},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("fancybox-stage")||t.is("body"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),n(e).off(".fb.touch"),t.requestId&&(a(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var a=this,c=n(o.target),d=a.instance,u=d.current,f=u.$slide,p=u.$content,h="touchstart"==o.type;if(h&&a.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass("fancybox-animated"))return o.stopPropagation(),void o.preventDefault();a.realPoints=a.startPoints=i(o),a.startPoints.length&&(u.touch&&o.stopPropagation(),a.startEvent=o,a.canTap=!0,a.$target=c,a.$content=p,a.opts=u.opts.touch,a.isPanning=!1,a.isSwiping=!1,a.isZooming=!1,a.isScrolling=!1,a.canPan=d.canPan(),a.startTime=(new Date).getTime(),a.distanceX=a.distanceY=a.distance=0,a.canvasWidth=Math.round(f[0].clientWidth),a.canvasHeight=Math.round(f[0].clientHeight),a.contentLastPos=null,a.contentStartPos=n.fancybox.getTranslate(a.$content)||{top:0,left:0},a.sliderStartPos=n.fancybox.getTranslate(f),a.stagePos=n.fancybox.getTranslate(d.$refs.stage),a.sliderStartPos.top-=a.stagePos.top,a.sliderStartPos.left-=a.stagePos.left,a.contentStartPos.top-=a.stagePos.top,a.contentStartPos.left-=a.stagePos.left,n(e).off(".fb.touch").on(h?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(a,"ontouchend")).on(h?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(a,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",a.onscroll,!0),((a.opts||a.canPan)&&(c.is(a.$stage)||a.$stage.find(c).length)||(c.is(".fancybox-image")&&o.preventDefault(),n.fancybox.isMobile&&c.hasClass("fancybox-caption")))&&(a.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&a.isScrollable||o.preventDefault(),(1===a.startPoints.length||u.hasError)&&(a.canPan?(n.fancybox.stop(a.$content),a.isPanning=!0):a.isSwiping=!0,a.$container.addClass("fancybox-is-grabbing")),2===a.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(a.canTap=!1,a.isSwiping=!1,a.isPanning=!1,a.isZooming=!0,n.fancybox.stop(a.$content),a.centerPointStartX=.5*(a.startPoints[0].x+a.startPoints[1].x)-n(t).scrollLeft(),a.centerPointStartY=.5*(a.startPoints[0].y+a.startPoints[1].y)-n(t).scrollTop(),a.percentageOfImageAtPinchPointX=(a.centerPointStartX-a.contentStartPos.left)/a.contentStartPos.width,a.percentageOfImageAtPinchPointY=(a.centerPointStartY-a.contentStartPos.top)/a.contentStartPos.height,a.startDistanceBetweenFingers=s(a.startPoints[0],a.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener("scroll",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=i(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&e.isSwiping===!0||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var i,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(c!==!0)"x"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:"x"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(a(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping="y":r.isDragging||s.opts.vertical===!1||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(i=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=i>45&&i<135?"y":"x"),"y"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isScrolling=!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var o,a;n.fancybox.stop(e.$slide),o=n.fancybox.getTranslate(e.$slide),a=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===r.current.pos&&(s.sliderStartPos.top=o.top-a.top,s.sliderStartPos.left=o.left-a.left),n.fancybox.setTranslate(e.$slide,{top:o.top-a.top,left:o.left-a.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;return s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?void(t.startPoints=t.newPoints):(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&a(t.requestId),void(t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})))},d.prototype.limitMovement=function(){var t,e,n,o,a,i,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return a=h>r?f+l:f,i=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&a>t&&(a=t-1+Math.pow(-t+f+l,.8)||0),l<0&&a<n&&(a=n+1-Math.pow(n-f-l,.8)||0),d>0&&i>e&&(i=e-1+Math.pow(-e+p+d,.8)||0),d<0&&i<o&&(i=o+1-Math.pow(o-p-d,.8)||0),{top:i,left:a}},d.prototype.limitPosition=function(t,e,n,o){var a=this,i=a.canvasWidth,s=a.canvasHeight;return n>i?(t=t>0?0:t,t=t<i-n?i-n:t):t=Math.max(0,i/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,i=e.contentStartPos,r=i.width,c=i.height,l=i.left,d=i.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&a(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;return o.endPoints=i(t),o.dMs=Math.max((new Date).getTime()-o.startTime,1),o.$container.removeClass("fancybox-is-grabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(a(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap?o.onTap(t):(o.speed=100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,void(r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)))},d.prototype.endSwiping=function(t,e){var o=this,a=!1,i=o.instance.group.length,s=Math.abs(o.distanceX),r="x"==t&&i>1&&(o.dMs>130&&s>10||s>50),c=300;o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),a=o.instance.close(!0,250)):r&&o.distanceX>0?a=o.instance.previous(c):r&&o.distanceX<0&&(a=o.instance.next(c)),a!==!1||"x"!=t&&"y"!=t||o.instance.centerSlide(200),o.$container.removeClass("fancybox-is-sliding")},d.prototype.endPanning=function(){var t,e,o,a=this;a.contentLastPos&&(a.opts.momentum===!1||a.dMs>350?(t=a.contentLastPos.left,e=a.contentLastPos.top):(t=a.contentLastPos.left+500*a.velocityX,e=a.contentLastPos.top+500*a.velocityY),o=a.limitPosition(t,e,a.contentStartPos.width,a.contentStartPos.height),o.width=a.contentStartPos.width,o.height=a.contentStartPos.height,n.fancybox.animate(a.$content,o,330))},d.prototype.endZooming=function(){var t,e,o,a,i=this,s=i.instance.current,r=i.newWidth,c=i.newHeight;i.contentLastPos&&(t=i.contentLastPos.left,e=i.contentLastPos.top,a={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(i.$content,a),r<i.canvasWidth&&c<i.canvasHeight?i.instance.scaleToFit(150):r>s.width||c>s.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(o=i.limitPosition(t,e,r,c),n.fancybox.animate(i.$content,o,150)))},d.prototype.onTap=function(e){var o,a=this,s=n(e.target),r=a.instance,c=r.current,l=e&&i(e)||a.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-a.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-a.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(a.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(a.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(a.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(a.tapped){if(clearTimeout(a.tapped),a.tapped=null,Math.abs(d-a.tapX)>50||Math.abs(u-a.tapY)>50)return this;f("dblclick"+o)}else a.tapX=d,a.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?a.tapped=setTimeout(function(){a.tapped=null,r.isAnimating||f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class="fancybox-progress"></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,a=o.current;a&&(t===!0||a.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&"video"!==a.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},a.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},a.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var a=e&&e.SlideShow;o?a&&n.opts.slideShow.autoStart&&a.start():a&&a.isActive&&a.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,a,i,s){var r=o&&o.SlideShow;!r||!a.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(i.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var a=e[o];if(a&&a[1]in t){for(var i=0;i<a.length;i++)n[e[0][i]]=a[i];return n}}return!1}();if(n){var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0)),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t),n.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}e(t).on({"onInit.fb":function(t,e){var a;return n?void(e&&e.group[e.currIndex].opts.fullScreen?(a=e.$refs.container,a.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&e.opts.fullScreen.autoStart===!0&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()):void e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,n,o,a){e&&e.FullScreen&&70===a&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}})}(document,jQuery),function(t,e){"use strict";var n="fancybox-thumbs",o=n+"-active";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var a=function(t){this.init(t)};e.extend(a.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var a=0,i=n.length;a<i&&(n[a].thumb&&o++,!(o>1));a++);o>1&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,a=o.instance,i=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(a.$refs.container.find(i).addBack().filter(i)),o.$grid.on("click","a",function(){a.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e('<div class="'+n+'__list">').appendTo(o.$grid)),e.each(a.group,function(e,n){t=n.thumb,t||"image"!==n.type||(t=n.src),s.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(t&&t.length?' style="background-image:url('+t+')"':'class="fancybox-thumbs-missing"')+"></a>")}),o.$list[0].innerHTML=s.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+a.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,a=this,i=a.$list,s=a.$grid;a.instance.current&&(e=i.children().removeClass(o).filter('[data-index="'+a.instance.current.index+'"]').addClass(o),n=e.position(),"y"===a.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===a.opts.axis&&(n.left<s.scrollLeft()||n.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new a(e),n.isActive&&n.opts.autoStart===!0&&n.show())},"beforeShow.fb":function(t,e,n,o){var a=e&&e.Thumbs;a&&a.isVisible&&a.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,a){var i=e&&e.Thumbs;i&&i.isActive&&71===a&&(o.preventDefault(),i.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&n.opts.hideOnClose!==!1&&n.$grid.hide()}})}(document,jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'
}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,a=e.fancybox.getInstance(),i=a.current||null;i&&("function"===e.type(i.opts.share.url)&&(t=i.opts.share.url.apply(i,[a,i])),o=i.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===i.type?encodeURIComponent(i.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,a.$caption?encodeURIComponent(a.$caption.text()):""),e.fancybox.open({src:a.translate(a,o),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){a.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){"use strict";function o(){var e=t.location.hash.substr(1),n=e.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,a=n.join("-");return{hash:e,index:o<1?1:o,gallery:a}}function a(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function i(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,n=e.hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""),""!==n&&n)}n.escapeSelector||(n.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,n)}),n(function(){n.fancybox.defaults.hash!==!1&&(n(e).on({"onInit.fb":function(t,e){var n,a;e.group[e.currIndex].opts.hash!==!1&&(n=o(),a=i(e),a&&n.gallery&&a==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,a,s){var r;a&&a.opts.hash!==!1&&(r=i(o),r&&(o.currentHash=r+(o.group.length>1?"-"+(a.index+1):""),t.location.hash!=="#"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in t.history?(t.history[s?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300))))},"beforeClose.fb":function(n,o,a){a.opts.hash!==!1&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&("replaceState"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||"")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on("hashchange.fb",function(){var t=o(),e=null;n.each(n(".fancybox-container").get().reverse(),function(t,o){var a=n(o).data("FancyBox");if(a&&a.currentHash)return e=a,!1}),e?e.currentHash===t.gallery+"-"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):""!==t.gallery&&a(t)}),setTimeout(function(){n.fancybox.getInstance()||a(o())},50))})}(window,document,jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,a=(new Date).getTime();e.group.length<2||o.opts.wheel===!1||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,a-n<250||(n=a,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery);
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.20.4",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||f)for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next;return this},k.render=function(a,b,d){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var e,f,i,j,k,l,m,n,o,p=this._dirty?this.totalDuration():this._totalDuration,q=this._time,r=this._totalTime,s=this._cycle,t=this._duration,u=this._rawPrevTime;if(a>=p-1e-7&&a>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=t,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(e=!0,f="onComplete",d=d||this._timeline.autoRemoveChildren),0===t&&(this._initted||!this.vars.lazy||d)&&(this._startTime===this._timeline._duration&&(a=0),(0>u||0>=a&&a>=-1e-7||u===g&&"isPause"!==this.data)&&u!==a&&(d=!0,u>g&&(f="onReverseComplete")),this._rawPrevTime=n=!b||a||u===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===t&&u>0)&&(f="onReverseComplete",e=this._reversed),0>a&&(this._active=!1,0===t&&(this._initted||!this.vars.lazy||d)&&(u>=0&&(d=!0),this._rawPrevTime=n=!b||a||u===a?a:g)),this._initted||(d=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(j=t+this._repeatDelay,this._cycle=this._totalTime/j>>0,0!==this._cycle&&this._cycle===this._totalTime/j&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*j,this._yoyo&&0!==(1&this._cycle)&&(this._time=t-this._time,o=this._yoyoEase||this.vars.yoyoEase,o&&(this._yoyoEase||(o!==!0||this._initted?this._yoyoEase=o=o===!0?this._ease:o instanceof Ease?o:Ease.map[o]:(o=this.vars.ease,this._yoyoEase=o=o?o instanceof Ease?o:"function"==typeof o?new Ease(o,this.vars.easeParams):Ease.map[o]||c.defaultEase:c.defaultEase)),this.ratio=o?1-o.getRatio((t-this._time)/t):0)),this._time>t?this._time=t:this._time<0&&(this._time=0)),this._easeType&&!o?(k=this._time/t,l=this._easeType,m=this._easePower,(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:this._time/t<.5?this.ratio=k/2:this.ratio=1-k/2):o||(this.ratio=this._ease.getRatio(this._time/t))),q===this._time&&!d&&s===this._cycle)return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!d&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=q,this._totalTime=r,this._rawPrevTime=u,this._cycle=s,h.lazyTweens.push(this),void(this._lazy=[a,b]);!this._time||e||o?e&&this._ease._calcEnd&&!o&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/t)}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==q&&a>=0&&(this._active=!0),0===r&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,!0,d):f||(f="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===t)&&(b||this._callback("onStart"))),i=this._firstPT;i;)i.f?i.t[i.p](i.c*this.ratio+i.s):i.t[i.p]=i.c*this.ratio+i.s,i=i._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,!0,d),b||(this._totalTime!==r||f)&&this._callback("onUpdate")),this._cycle!==s&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),f&&(!this._gc||d)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,!0,d),e&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[f]&&this._callback(f),0===t&&this._rawPrevTime===g&&n!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&(e(p,a,q),null!=p.duration&&(b=p.duration,delete p.duration)),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s+(p.delay||0),q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.20.4",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;o<a.length;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&(n(l,a,o),null!=l.duration&&(b=l.duration,delete l.duration)),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g,h,i=new d(a),j=i._timeline;for(null==b&&(b=!0),j._remove(i,!0),i._startTime=0,i._rawPrevTime=i._time=i._totalTime=j._time,g=j._first;g;)h=g._next,b&&g instanceof c&&g.target===g.vars.onComplete||(f=g._startTime-g._delay,0>f&&(e=1),i.add(g,f)),g=h;return j.add(i,0),e&&i.totalDuration(),i},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),e._time&&e.render((this.rawTime()-e._startTime)*e._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f,g;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(g=e.length;--g>-1;)e[g]instanceof a&&e[g].timeline===this&&this.remove(e[g]);if(f="number"!=typeof b||c?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-f:0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=f);else{if(g=b.indexOf("="),-1===g)return null==this._labels[b]?d?this._labels[b]=f+c:c:this._labels[b]+c;c=parseInt(b.charAt(g-1)+"1",10)*Number(b.substr(g+1)),b=g>1?this._parseTimeOrLabel(b.substr(0,g-1),0,d):f}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m,n=this._time,o=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,q=this._timeScale,r=this._paused;if(n!==this._time&&(a+=this._time-n),a>=o-1e-7&&a>=0)this._totalTime=this._time=o,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=o+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==n||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=n)for(d=this._first;d&&d._startTime<=a&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==n&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart")),m=this._time,m>=n)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=n&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(e,e._startTime-e._delay),this._calculatingDuration=0):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale,this._time-=e._startTime,this._totalTime-=e._startTime,this._rawPrevTime-=e._startTime),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(a){return a&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=_gsScope._gsDefine.globals,j=new c(null,null,1,0),k=d.prototype=new a;return k.constructor=d,k.kill()._gc=!1,d.version="1.20.4",k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},k.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},k.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},k.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},k.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:j,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},h=c.repeat&&i.TweenMax||b;for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new h(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time===f.target.time()||d!==f.duration()||f.isFromTo||f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale).render(f.time(),!0,!0),c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||f,c.onStartParams||[])},f},k.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.isFromTo=1,d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},k.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n,o=this._time,p=this._dirty?this.totalDuration():this._totalDuration,q=this._duration,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(o!==this._time&&(a+=this._time-o),a>=p-1e-7&&a>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===e)&&u!==a&&this._first&&(k=!0,u>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=q,a=q+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==o||0===q&&u!==e&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=q||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===q&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=q+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=q-this._time),this._time>q?(this._time=q,a=q+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b){if(a=this._time,a>=o||this._repeat&&w!==this._cycle)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&m._startTime<q&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),y=x===(this._yoyo&&0!==(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*q,this._cycle<w?x=!x:this._totalTime+=q,this._time=o,this._rawPrevTime=0===q?u-1e-4:u,this._cycle=w,this._locked=!0,o=x?0:q,this.render(o,b,0===q),b||this._gc||this.vars.onRepeat&&(this._cycle=A,this._locked=!1,this._callback("onRepeat")),o!==this._time)return;if(y&&(this._cycle=w,this._locked=!0,o=x?q+1e-4:-1e-4,this.render(o,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==o&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),n=this._time,n>=o)for(d=this._first;d&&(i=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},k.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},k.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},k.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},k.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},k.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()||0},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()||0},k.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,0!==j?n.b=y:n.b=y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[0][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],
s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q]||0,d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=a[c[d]],b&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.20.4",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q,r,s=/(?:\-|\.|\b)(\d|\.|e\-)+/g,t=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,u=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,v=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,z=/alpha\(opacity *=.+?\)/i,A=/^(rgb|hsl)/,B=/([A-Z])/g,C=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(a,b){return b.toUpperCase()},F=/(?:Left|Right|Width)/i,G=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,H=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,J=/[\s,\(]/i,K=Math.PI/180,L=180/Math.PI,M={},N={style:{}},O=_gsScope.document||{createElement:function(){return N}},P=function(a,b){return O.createElementNS?O.createElementNS(b||"http://www.w3.org/1999/xhtml",a):O.createElement(a)},Q=P("div"),R=P("img"),S=g._internals={_specialProps:i},T=(_gsScope.navigator||{}).userAgent||"",U=function(){var a=T.indexOf("Android"),b=P("a");return m=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome")&&(-1===a||parseFloat(T.substr(a+8,2))>3),o=m&&parseFloat(T.substr(T.indexOf("Version/")+8,2))<6,n=-1!==T.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(T)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(T))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),V=function(a){return x.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(a){_gsScope.console&&console.log(a)},X="",Y="",Z=function(a,b){b=b||Q;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(Y=3===d?"ms":c[d],X="-"+Y.toLowerCase()+"-",Y+a):null},$=O.defaultView?O.defaultView.getComputedStyle:function(){},_=g.getStyle=function(a,b,c,d,e){var f;return U||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||$(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(B,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):V(a)},aa=S.convertToPixels=function(a,c,d,e,f){if("px"===e||!e&&"lineHeight"!==c)return d;if("auto"===e||!d)return 0;var h,i,j,k=F.test(c),l=a,m=Q.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"lineHeight"!==c||e)if("%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+_(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||O.body,-1!==_(l,"display").indexOf("flex")&&(m.position="absolute"),i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(Q),h=parseFloat(Q[k?"offsetWidth":"offsetHeight"]),l.removeChild(Q),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=aa(a,c,d,e,!0))}else i=$(a).lineHeight,a.style.lineHeight=d,h=parseFloat($(a).lineHeight),a.style.lineHeight=i;return o&&(h/=100),n?-h:h},ba=S.calculateOffset=function(a,b,c){if("absolute"!==_(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=_(a,"margin"+d,c);return a["offset"+d]-(aa(a,b,parseFloat(e),e.replace(w,""))||0)},ca=function(a,b){var c,d,e,f={};if(b=b||$(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Da===e)&&(f[e.replace(C,E)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Ca===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(C,E)]=b[c]);return U||(f.opacity=V(a)),d=Ra(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Fa&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},da=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(v,"")?f:0:ba(a,g),void 0!==j[g]&&(h=new sa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ea={width:["Left","Right"],height:["Top","Bottom"]},fa=["marginLeft","marginRight","marginTop","marginBottom"],ga=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||$(a))[b]||0;if(a.getCTM&&Oa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ea[b],f=e.length;for(c=c||$(a,null);--f>-1;)d-=parseFloat(_(a,"padding"+e[f],c,!0))||0,d-=parseFloat(_(a,"border"+e[f]+"Width",c,!0))||0;return d},ha=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c,d=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(d.length>3&&!b){for(d=a.split(", ").join(",").split(","),a=[],c=0;c<d.length;c++)a.push(ha(d[c]));return a.join(",")}return null==f?f="center"===e?"50%":"0":"center"===f&&(f="50%"),("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),a=e+" "+f+(d.length>2?" "+d[2]:""),b&&(b.oxp=-1!==e.indexOf("%"),b.oyp=-1!==f.indexOf("%"),b.oxr="="===e.charAt(1),b.oyr="="===f.charAt(1),b.ox=parseFloat(e.replace(v,"")),b.oy=parseFloat(f.replace(v,"")),b.v=a),b||a},ia=function(a,b){return"function"==typeof a&&(a=a(r,q)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ja=function(a,b){return"function"==typeof a&&(a=a(r,q)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},ka=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return"function"==typeof a&&(a=a(r,q)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:L)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},la={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ma=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},na=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),la[a])c=la[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(s),b){if(-1!==a.indexOf("="))return a.match(t)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(c[3])),c[0]=ma(g+1/3,d,e),c[1]=ma(g,d,e),c[2]=ma(g-1/3,d,e);else c=a.match(s)||la.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=la.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},oa=function(a,b){var c,d,e,f=a.match(pa)||[],g=0,h="";if(!f.length)return a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=na(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},pa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(j in la)pa+="|"+j+"\\b";pa=new RegExp(pa+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+" "+a[1];pa.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=oa(a[0],b),a[1]=oa(a[1],b)),pa.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var qa=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(pa)||[""])[0]:"",g=a.split(f).join("").match(u)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(s,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(o=a.replace(I,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(pa)||[f])[0],m=a.split(b).join("").match(u)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(f=a.replace(I,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(u)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ra=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},sa=(S._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT,j=1e-6;i;)b=h[i.v],i.r?b=Math.round(b):j>b&&b>-j&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod(h.rotation,this.t):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ta=(S._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=M;for(c._transform=null,M=b,d=k=c.parse(a,b,d,e),M=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new sa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new sa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},S.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ta||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),ua=function(a,b,c,d,e,f){var g=new ta(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},va=g.parseComplex=function(a,b,c,d,e,f,h,i,j,l){c=c||f||"","function"==typeof d&&(d=d(r,q)),h=new ta(a,b,0,0,h,l?2:1,null,!1,i,c,d),d+="",e&&pa.test(d+c)&&(d=[c,d],g.colorStringFilter(d),c=d[0],d=d[1]);var m,n,o,p,u,v,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(-1!==(d+c).indexOf("rgb")||-1!==(d+c).indexOf("hsl")?(D=D.join(" ").replace(I,", ").split(" "),E=E.join(" ").replace(I,", ").split(" ")):(D=D.join(" ").split(",").join(", ").split(" "),E=E.join(" ").split(",").join(", ").split(" ")),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),h.plugin=j,h.setRatio=l,pa.lastIndex=0,m=0;F>m;m++)if(p=D[m],u=E[m],x=parseFloat(p),x||0===x)h.appendXtra("",x,ia(u,x),u.replace(t,""),G&&-1!==u.indexOf("px"),!0);else if(e&&pa.test(p))B=u.indexOf(")")+1,B=")"+(B?u.substr(B):""),C=-1!==u.indexOf("hsl")&&U,z=u,p=na(p,C),u=na(u,C),y=p.length+u.length>6,y&&!U&&0===u[3]?(h["xs"+h.l]+=h.l?" transparent":"transparent",h.e=h.e.split(E[m]).join("transparent")):(U||(y=!1),C?h.appendXtra(z.substr(0,z.indexOf("hsl"))+(y?"hsla(":"hsl("),p[0],ia(u[0],p[0]),",",!1,!0).appendXtra("",p[1],ia(u[1],p[1]),"%,",!1).appendXtra("",p[2],ia(u[2],p[2]),y?"%,":"%"+B,!1):h.appendXtra(z.substr(0,z.indexOf("rgb"))+(y?"rgba(":"rgb("),p[0],u[0]-p[0],",",!0,!0).appendXtra("",p[1],u[1]-p[1],",",!0).appendXtra("",p[2],u[2]-p[2],y?",":B,!0),y&&(p=p.length<4?1:p[3],h.appendXtra("",p,(u.length<4?1:u[3])-p,B,!1))),pa.lastIndex=0;else if(v=p.match(s)){if(w=u.match(t),!w||w.length!==v.length)return h;for(o=0,n=0;n<v.length;n++)A=v[n],z=p.indexOf(A,o),h.appendXtra(p.substr(o,z-o),Number(A),ia(w[n],A),"",G&&"px"===p.substr(z+A.length,2),0===n),o=z+A.length;h["xs"+h.l]+=p.substr(o)}else h["xs"+h.l]+=h.l||h["xs"+h.l]?" "+u:u;if(-1!==d.indexOf("=")&&h.data){for(B=h.xs0+h.data.s,m=1;m<h.l;m++)B+=h["xs"+m]+h.data["xn"+m];h.e=B+h["xs"+m]}return h.l||(h.type=-1,h.xs0=h.e),h.xfirst||h},wa=9;for(j=ta.prototype,j.l=j.pr=0;--wa>0;)j["xn"+wa]=0,j["xs"+wa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ta(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var xa=function(a,b){b=b||{},this.p=b.prefix?Z(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||qa(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ya=S._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new xa(f[d],b)},za=S._registerPluginProp=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ya(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(W("Error: "+b+" js file not loaded."),f)}})}};j=xa.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(I.test(c)||I.test(b)?(h=b.replace(I,"|").split("|"),i=c.replace(I,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return va(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(_(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ya(a,{parser:function(a,d,e,f,g,h,i){var j=new ta(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=!0;var Aa,Ba="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ca=Z("transform"),Da=X+"transform",Ea=Z("transformOrigin"),Fa=null!==Z("perspective"),Ga=S.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Fa?g.defaultForce3D||"auto":!1},Ha=_gsScope.SVGElement,Ia=function(a,b,c){var d,e=O.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ja=O.documentElement||{},Ka=function(){var a,b,c,d=p||/Android/i.test(T)&&!_gsScope.chrome;return O.createElementNS&&!d&&(a=Ia("svg",Ja),b=Ia("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Ea]="50% 50%",b.style[Ca]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Fa),Ja.removeChild(a)),d}(),La=function(a,b,c,d,e,f){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Qa(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(h=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ha(b).split(" "),h=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(h[0]),c.yOrigin=l=parseFloat(h[1]),d&&w!==Pa&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],s=m*p-n*o,s&&(i=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=h[0]=i,l=c.yOrigin=h[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||e!==!1&&g.defaultSmoothOrigin!==!1?(i=k-t,j=l-u,v.xOffset+=i*w[0]+j*w[2]-i,v.yOffset+=i*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",h.join(" "))},Ma=function(a){var b,c=P("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,e=this.nextSibling,f=this.style.cssText;if(Ja.appendChild(c),c.appendChild(this),this.style.display="block",a)try{b=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ma}catch(g){}else this._originalGetBBox&&(b=this._originalGetBBox());return e?d.insertBefore(this,e):d.appendChild(this),Ja.removeChild(c),this.style.cssText=f,b},Na=function(a){try{return a.getBBox()}catch(b){return Ma.call(a,!0)}},Oa=function(a){return!(!Ha||!a.getCTM||a.parentNode&&!a.ownerSVGElement||!Na(a))},Pa=[1,0,0,1,0,0],Qa=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ga,j=1e5,k=a.style;if(Ca?d=_(a,Da,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(G),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,!Ca||!(h=!$(a)||"none"===$(a).display)&&a.parentNode||(h&&(f=k.display,k.display="block"),a.parentNode||(g=1,Ja.appendChild(a)),d=_(a,Da,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?k.display=f:h&&Va(k,"display"),g&&Ja.removeChild(a)),(i.svg||a.getCTM&&Oa(a))&&(c&&-1!==(k[Ca]+"").indexOf("matrix")&&(d=k[Ca],c=0),e=a.getAttribute("transform"),c&&e&&(e=a.transform.baseVal.consolidate().matrix,d="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")",c=0)),c)return Pa;for(e=(d||"").match(s)||[],wa=e.length;--wa>-1;)f=Number(e[wa]),e[wa]=(g=f-(f|=0))?(g*j+(0>g?-.5:.5)|0)/j+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ra=S.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,h,i,j,k,l,m=d?a._gsTransform||new Ga:new Ga,n=m.scaleX<0,o=2e-5,p=1e5,q=Fa?parseFloat(_(a,Ea,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(g.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Oa(a)),m.svg&&(La(a,_(a,Ea,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Aa=g.useSVGTransformAttr||Ka),f=Qa(a),f!==Pa){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],M=f[11],N=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,M=E*-w+M*v,B=s,C=t,D=u),N=Math.atan2(-z,H),m.rotationY=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,M=A*w+M*v,x=s,y=t,z=u),N=Math.atan2(y,x),m.rotation=N*L,N&&(v=Math.cos(N),w=Math.sin(N),s=x*v+y*w,t=B*v+C*w,u=F*v+G*w,y=y*v-x*w,C=C*v-B*w,G=G*v-F*w,x=s,B=t,F=u),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),N=Math.atan2(B,C),m.scaleX=(Math.sqrt(x*x+y*y+z*z)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+D*D)*p+.5|0)/p,m.scaleZ=(Math.sqrt(F*F+G*G+H*H)*p+.5|0)/p,x/=m.scaleX,B/=m.scaleY,y/=m.scaleX,C/=m.scaleY,Math.abs(N)>o?(m.skewX=N*L,B=0,"simple"!==m.skewType&&(m.scaleY*=1/Math.cos(N))):m.skewX=0,m.perspective=M?1/(0>M?-M:M):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Fa||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,i=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*L:m.rotation||0,l=R||S?Math.atan2(R,S)*L+k:m.skewX||0,m.scaleX=i,m.scaleY=j,m.rotation=k,m.skewX=l,Fa&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180)),m.zOrigin=q;for(h in m)m[h]<o&&m[h]>-o&&(m[h]=0)}return d&&(a._gsTransform=m,m.svg&&(Aa&&a.style[Ca]?b.delayedCall(.001,function(){Va(a.style,Ca)}):!Aa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Sa=function(a){var b,c,d=this.data,e=-d.rotation*K,f=e+d.skewX*K,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+q*d.xPercent/100,v=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(H,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||x.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+u),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+v),wa=0;4>wa;wa++)z=fa[wa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):aa(this.t,z,parseFloat(y),y.replace(w,""))||0,A=c!==d[z]?2>wa?-d.ieOffsetX:-d.ieOffsetY:2>wa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===wa||2===wa?1:B)))+"px"}}},Ta=S.set3DTransformRatio=S.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,L=z.svg,M=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!M&&!D&&!C&&1===G||Aa&&L||!Fa)return void(B||P||L?(B*=K,x=P*K,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*K),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b)),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Aa&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",L&&Aa?this.t.setAttribute("transform","matrix("+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(n&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||P)B*=K,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*K,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*K),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||M||L))return void(A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,o=M?-1/M:0,p=z.zOrigin,q=1e-6,v=",",w="0",B=D*K,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=o*-s,e=c*s,h=f*s,k=r,o*=r,c*=r,f*=r),B=C*K,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=o*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,o*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,o*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(p||L)&&(p&&(H+=e*-p,I+=h*-p,J+=k*-p+p),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>o&&o>-q?w:o)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(M?1+-J/M:1)+")",A[Ca]=u};j=Ga.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ya("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{
parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k=i.scale&&"function"==typeof i.scale?i.scale:0;"function"==typeof i[c]&&(j=i[c],i[c]=b),k&&(i.scale=k(r,a));var l,m,n,o,p,s,t,u,v,w=a._gsTransform,x=a.style,y=1e-6,z=Ba.length,A=i,B={},C="transformOrigin",D=Ra(a,e,!0,A.parseTransform),E=A.transform&&("function"==typeof A.transform?A.transform(r,q):A.transform);if(D.skewType=A.skewType||D.skewType||g.defaultSkewType,d._transform=D,E&&"string"==typeof E&&Ca)m=Q.style,m[Ca]=E,m.display="block",m.position="absolute",O.body.appendChild(Q),l=Ra(Q,null,!1),"simple"===D.skewType&&(l.scaleY*=Math.cos(l.skewX*K)),D.svg&&(s=D.xOrigin,t=D.yOrigin,l.x-=D.xOffset,l.y-=D.yOffset,(A.transformOrigin||A.svgOrigin)&&(E={},La(a,ha(A.transformOrigin),E,A.svgOrigin,A.smoothOrigin,!0),s=E.xOrigin,t=E.yOrigin,l.x-=E.xOffset-D.xOffset,l.y-=E.yOffset-D.yOffset),(s||t)&&(u=Qa(Q,!0),l.x-=s-(s*u[0]+t*u[2]),l.y-=t-(s*u[1]+t*u[3]))),O.body.removeChild(Q),l.perspective||(l.perspective=D.perspective),null!=A.xPercent&&(l.xPercent=ja(A.xPercent,D.xPercent)),null!=A.yPercent&&(l.yPercent=ja(A.yPercent,D.yPercent));else if("object"==typeof A){if(l={scaleX:ja(null!=A.scaleX?A.scaleX:A.scale,D.scaleX),scaleY:ja(null!=A.scaleY?A.scaleY:A.scale,D.scaleY),scaleZ:ja(A.scaleZ,D.scaleZ),x:ja(A.x,D.x),y:ja(A.y,D.y),z:ja(A.z,D.z),xPercent:ja(A.xPercent,D.xPercent),yPercent:ja(A.yPercent,D.yPercent),perspective:ja(A.transformPerspective,D.perspective)},p=A.directionalRotation,null!=p)if("object"==typeof p)for(m in p)A[m]=p[m];else A.rotation=p;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(l.x=0,l.xPercent=ja(A.x,D.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(l.y=0,l.yPercent=ja(A.y,D.yPercent)),l.rotation=ka("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:D.rotation,D.rotation,"rotation",B),Fa&&(l.rotationX=ka("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",B),l.rotationY=ka("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",B)),l.skewX=ka(A.skewX,D.skewX),l.skewY=ka(A.skewY,D.skewY)}for(Fa&&null!=A.force3D&&(D.force3D=A.force3D,o=!0),n=D.force3D||D.z||D.rotationX||D.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,n||null==A.scale||(l.scaleZ=1);--z>-1;)v=Ba[z],E=l[v]-D[v],(E>y||-y>E||null!=A[v]||null!=M[v])&&(o=!0,f=new ta(D,v,D[v],E,f),v in B&&(f.e=B[v]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return E=A.transformOrigin,D.svg&&(E||A.svgOrigin)&&(s=D.xOffset,t=D.yOffset,La(a,ha(E),l,A.svgOrigin,A.smoothOrigin),f=ua(D,"xOrigin",(w?D:l).xOrigin,l.xOrigin,f,C),f=ua(D,"yOrigin",(w?D:l).yOrigin,l.yOrigin,f,C),(s!==D.xOffset||t!==D.yOffset)&&(f=ua(D,"xOffset",w?s:D.xOffset,D.xOffset,f,C),f=ua(D,"yOffset",w?t:D.yOffset,D.yOffset,f,C)),E="0px 0px"),(E||Fa&&n&&D.zOrigin)&&(Ca?(o=!0,v=Ea,E=(E||_(a,v,e,!1,"50% 50%"))+"",f=new ta(x,v,0,0,f,-1,C),f.b=x[v],f.plugin=h,Fa?(m=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2&&(0===m||"0px"!==E[2])?parseFloat(E[2]):m)||0,f.xs0=f.e=E[0]+" "+(E[1]||"50%")+" 0px",f=new ta(D,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=D.zOrigin):f.xs0=f.e=E):ha(E+"",D)),o&&(d._transformType=D.svg&&Aa||!n&&3!==this._transformType?2:3),j&&(i[c]=j),k&&(i.scale=k),f},prefix:!0}),ya("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ya("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=Z(y[j])),m=l=_(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=aa(a,"borderLeft",o,t),w=aa(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=aa(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=va(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:qa("0px 0px 0px 0px",!1,!0)}),ya("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,f,g){return va(a.style,c,this.format(_(a,c,e,!1,"0px 0px")),this.format(b),!1,"0px",f)},prefix:!0,formatter:qa("0px 0px",!1,!0)}),ya("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||$(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&r.split(",").length<2&&(m=_(a,"backgroundImage").replace(D,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),R.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-R.width:a.offsetHeight-R.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ha}),ya("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="",ha(-1===a.indexOf(" ")?a+" "+a:a)}}),ya("perspective",{defaultValue:"0px",prefix:!0}),ya("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ya("transformStyle",{prefix:!0}),ya("backfaceVisibility",{prefix:!0}),ya("userSelect",{prefix:!0}),ya("margin",{parser:ra("marginTop,marginRight,marginBottom,marginLeft")}),ya("padding",{parser:ra("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ya("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(_(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ya("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ya("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ya("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){var h=_(a,"borderTopWidth",e,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(w,"");return"px"!==j&&(h=parseFloat(h)/aa(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+_(a,"borderTopStyle",e,!1,"solid")+" "+_(a,"borderTopColor",e,!1,"#000")),i.join(" "),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(pa)||["#000"])[0]}}),ya("borderWidth",{parser:ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ya("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ta(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Ua=function(a){var b,c=this.t,d=c.filter||_(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!_(this.data,"filter")):(c.filter=d.replace(z,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(x,"opacity="+e))};ya("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(_(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===_(a,"visibility",e)&&0!==b&&(h=0),U?f=new ta(i,"opacity",h,b-h,f):(f=new ta(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ua),j&&(f=new ta(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Va=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(B,"-$1").toLowerCase())):a.removeAttribute(b))},Wa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Va(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ya("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new ta(a,d,0,0,g,2),g.setRatio=Wa,g.pr=-11,c=!0,g.b=o,k=ca(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=da(a,k,ca(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Xa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Ea:i[c].p),Va(g,c);e&&(Va(g,Ca),f=this.t._gsTransform,f&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ya("clearProps",{parser:function(a,b,d,e,f){return f=new ta(a,d,0,0,f,2),f.setRatio=Xa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),wa=j.length;wa--;)za(j[wa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h,j){if(!a.nodeType)return!1;this._target=q=a,this._tween=h,this._vars=b,r=j,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=$(a,""),f=this._overwriteProps;var n,p,s,t,u,v,w,x,z,A=a.style;if(l&&""===A.zIndex&&(n=_(a,"zIndex",e),("auto"===n||""===n)&&this._addLazySet(A,"zIndex",0)),"string"==typeof b&&(t=A.cssText,n=ca(a,e),A.cssText=t+";"+b,n=da(a,n,ca(a)).difs,!U&&y.test(b)&&(n.opacity=parseFloat(RegExp.$1)),b=n,A.cssText=t),b.className?this._firstPT=p=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=p=this.parse(a,b,null),this._transformType){for(z=3===this._transformType,Ca?m&&(l=!0,""===A.zIndex&&(w=_(a,"zIndex",e),("auto"===w||""===w)&&this._addLazySet(A,"zIndex",0)),o&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(z?"visible":"hidden"))):A.zoom=1,s=p;s&&s._next;)s=s._next;x=new ta(a,"transform",0,0,null,2),this._linkCSSP(x,null,s),x.setRatio=Ca?Ta:Sa,x.data=this._transform||Ra(a,e,!0),x.tween=h,x.pr=-1,f.pop()}if(c){for(;p;){for(v=p._next,s=t;s&&s.pr>p.pr;)s=s._next;(p._prev=s?s._prev:u)?p._prev._next=p:t=p,(p._next=s)?s._prev=p:u=p,p=v}this._firstPT=t}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,s,t,u=a.style;for(g in b){if(n=b[g],"function"==typeof n&&(n=n(r,q)),h=i[g])c=h.parse(a,n,g,this,c,f,b);else{if("--"===g.substr(0,2)){this._tween._propLookup[g]=this._addTween.call(this._tween,a.style,"setProperty",$(a).getPropertyValue(g)+"",n+"",g,!1,g);continue}m=_(a,g,e)+"",s="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||s&&A.test(n)?(s||(n=na(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=va(u,g,m,n,!0,"transparent",c,0,f)):s&&J.test(n)?c=va(u,g,m,n,!0,null,c,0,f):(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ga(a,g,e),o="px"):"left"===g||"top"===g?(j=ba(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),t=s&&"="===n.charAt(1),t?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(w,"")):(l=parseFloat(n),p=s?n.replace(w,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(t?l+j:l)+p:b[g],o!==p&&(""!==p||"lineHeight"===g)&&(l||0===l)&&j&&(j=aa(a,g,j,o),"%"===p?(j/=aa(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?j/=aa(a,g,1,p):"px"!==p&&(l=aa(a,g,l,p),p="px"),t&&(l||0===l)&&(n=l+j+p)),t&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==u[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ta(u,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):W("invalid "+g+" tween value: "+b[g]):(c=new ta(u,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p))}f&&c&&!c.plugin&&(c.plugin=f)}return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||Ra(this._target,e,!0),this._transformType=this._transform.svg&&Aa||!a&&3!==this._transformType?2:3};var Ya=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new ta(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ya,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&a[b.p]===Math.round&&(b.r=1),b=b._next},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var Za=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Za(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(ca(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Za(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Za(a,k,m),i.render(c,!0,!0),Za(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=da(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){for(;a;)a.f||a.blob||(a.m=Math.round),a=a._next},c=a.prototype;c._onInitAllProps=function(){for(var a,c,d,e=this._tween,f=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),g=f.length,h={},i=e._propLookup.roundProps;--g>-1;)h[f[g]]=Math.round;for(g=f.length;--g>-1;)for(a=f[g],c=e._firstPT;c;)d=c._next,c.pg?c.t._mod(h):c.n===a&&(2===c.f&&c.t?b(c.t._firstPT):(this._add(c.t,a,c.s,c.c),d&&(d._prev=c._prev),c._prev?c._prev._next=d:e._firstPT===c&&(e._firstPT=d),c._next=c._prev=null,e._propLookup[a]=i)),c=d;return!1},c._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,Math.round),this._overwriteProps.push(b)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(a,b,c,d){var e,f;if("function"!=typeof a.setAttribute)return!1;for(e in b)f=b[e],"function"==typeof f&&(f=f(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+"",f+"",e,!1,e),this._overwriteProps.push(e);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(a,b,c,d){"object"!=typeof b&&(b={rotation:b}),this.finals={};var e,f,g,h,i,j,k=b.useRadians===!0?2*Math.PI:360,l=1e-6;for(e in b)"useRadians"!==e&&(h=b[e],"function"==typeof h&&(h=h(d,a)),j=(h+"").split("_"),f=j[0],g=parseFloat("function"!=typeof a[e]?a[e]:a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]()),h=this.finals[e]="string"==typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0,i=h-g,j.length&&(f=j.join("_"),-1!==f.indexOf("short")&&(i%=k,i!==i%(k/2)&&(i=0>i?i+k:i-k)),-1!==f.indexOf("_cw")&&0>i?i=(i+9999999999*k)%k-(i/k|0)*k:-1!==f.indexOf("ccw")&&i>0&&(i=(i-9999999999*k)%k-(i/k|0)*k)),(i>l||-l>i)&&(this._addTween(a,e,g,g+i,e),this._overwriteProps.push(e)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e,f=_gsScope.GreenSockGlobals||_gsScope,g=f.com.greensock,h=2*Math.PI,i=Math.PI/2,j=g._class,k=function(b,c){var d=j("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},l=a.register||function(){},m=function(a,b,c,d,e){var f=j("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return l(f,a),f},n=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},o=function(b,c){var d=j("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},p=m("Back",o("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),o("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),o("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),q=j("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),r=q.prototype=new a;return r.constructor=q,r.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1===a?0:1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},q.ease=new q(.7,.7),r.config=q.config=function(a,b,c){return new q(a,b,c)},b=j("easing.SteppedEase",function(a,b){a=a||1,this._p1=1/a,this._p2=a+(b?0:1),this._p3=b?1:0},!0),r=b.prototype=new a,r.constructor=b,r.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),((this._p2*a|0)+this._p3)*this._p1},r.config=b.config=function(a,c){return new b(a,c)},c=j("easing.ExpoScaleEase",function(a,b,c){this._p1=Math.log(b/a),this._p2=b-a,this._p3=a,this._ease=c},!0),r=c.prototype=new a,r.constructor=c,r.getRatio=function(a){return this._ease&&(a=this._ease.getRatio(a)),(this._p3*Math.exp(this._p1*a)-this._p3)/this._p2},r.config=c.config=function(a,b,d){return new c(a,b,d)},d=j("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),m=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--m>-1;)c=o?Math.random():1/l*m,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:m%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new n(1,1,null),m=l;--m>-1;)g=j[m],h=new n(g.x,g.y,h);this._prev=new n(0,0,0!==h.t?h:h.next)},!0),r=d.prototype=new a,r.constructor=d,r.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},r.config=function(a){return new d(a)},d.ease=new d,m("Bounce",k("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),k("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),k("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),m("Circ",k("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),k("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),k("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),e=function(b,c,d){var e=j("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/h*(Math.asin(1/this._p1)||0),this._p2=h/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},m("Elastic",e("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),e("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),e("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),m("Expo",k("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),k("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),k("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),m("Sine",k("SineOut",function(a){return Math.sin(a*i)}),k("SineIn",function(a){return-Math.cos(a*i)+1}),k("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),j("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),l(f.SlowMo,"SlowMo","ease,"),l(d,"RoughEase","ease,"),l(b,"SteppedEase","ease,"),p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c={},d=a.document,e=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!e.TweenLite){var f,g,h,i,j,k=function(a){var b,c=a.split("."),d=e;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},l=k("com.greensock"),m=1e-10,n=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},o=function(){},p=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),q={},r=function(d,f,g,h){this.sc=q[d]?q[d].sc:[],q[d]=this,this.gsClass=null,this.func=g;var i=[];this.check=function(j){for(var l,m,n,o,p=f.length,s=p;--p>-1;)(l=q[f[p]]||new r(f[p],[])).gsClass?(i[p]=l.gsClass,s--):j&&l.sc.push(this);if(0===s&&g){if(m=("com.greensock."+d).split("."),n=m.pop(),o=k(m.join("."))[n]=this.gsClass=g.apply(g,i),h)if(e[n]=c[n]=o,"undefined"!=typeof module&&module.exports)if(d===b){module.exports=c[b]=o;for(p in c)o[p]=c[p]}else c[b]&&(c[b][n]=o);else"function"==typeof define&&define.amd&&define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return o});for(p=0;p<this.sc.length;p++)this.sc[p].check()}},this.check(!0)},s=a._gsDefine=function(a,b,c,d){return new r(a,b,c,d)},t=l._class=function(a,b,c){return b=b||function(){},s(a,[],function(){return b},c),b};s.globals=e;var u=[0,0,1,1],v=t("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?u.concat(b):u},!0),w=v.map={},x=v.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?t("easing."+f,null,!0):l.easing[f]||{},g=k.length;--g>-1;)h=k[g],w[f+"."+h]=w[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(h=v.prototype,h._calcEnd=!1,h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},f=["Linear","Quad","Cubic","Quart","Quint,Strong"],g=f.length;--g>-1;)h=f[g]+",Power"+g,x(new v(null,null,1,g),h,"easeOut",!0),x(new v(null,null,2,g),h,"easeIn"+(0===g?",easeNone":"")),x(new v(null,null,3,g),h,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var y=t("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});h=y.prototype,h.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],k=0;for(this!==i||j||i.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===k&&f.pr<e&&(k=g+1);h.splice(k,0,{c:b,s:c,up:d,pr:e})},h.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},h.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var z=a.requestAnimationFrame,A=a.cancelAnimationFrame,B=Date.now||function(){return(new Date).getTime()},C=B();for(f=["ms","moz","webkit","o"],g=f.length;--g>-1&&!z;)z=a[f[g]+"RequestAnimationFrame"],A=a[f[g]+"CancelAnimationFrame"]||a[f[g]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,e,f,g,h,k=this,l=B(),n=b!==!1&&z?"auto":!1,p=500,q=33,r="tick",s=function(a){var b,d,i=B()-C;i>p&&(l+=i-q),C+=i,k.time=(C-l)/1e3,b=k.time-h,(!c||b>0||a===!0)&&(k.frame++,h+=b+(b>=g?.004:g-b),d=!0),a!==!0&&(f=e(s)),d&&k.dispatchEvent(r)};y.call(k),k.time=k.frame=0,k.tick=function(){s(!0)},k.lagSmoothing=function(a,b){return arguments.length?(p=a||1/m,void(q=Math.min(b,p,0))):1/m>p},k.sleep=function(){null!=f&&(n&&A?A(f):clearTimeout(f),e=o,f=null,k===i&&(j=!1))},k.wake=function(a){null!==f?k.sleep():a?l+=-C+(C=B()):k.frame>10&&(C=B()-p+5),e=0===c?o:n&&z?z:function(a){return setTimeout(a,1e3*(h-k.time)+1|0)},k===i&&(j=!0),s(2)},k.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void k.wake()):c},k.useRAF=function(a){return arguments.length?(k.sleep(),n=a,void k.fps(c)):n},k.fps(a),setTimeout(function(){"auto"===n&&k.frame<5&&"hidden"!==(d||{}).visibilityState&&k.useRAF(!1)},1500)}),h=l.Ticker.prototype=new l.events.EventDispatcher,h.constructor=l.Ticker;var D=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,X){j||i.wake();var c=this.vars.useFrames?W:X;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});i=D.ticker=new l.Ticker,h=D.prototype,h._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var E=function(){j&&B()-C>2e3&&("hidden"!==(d||{}).visibilityState||!i.lagSmoothing())&&i.wake();var a=setTimeout(E,2e3);a.unref&&a.unref()};E(),h.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},h.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},h.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},h.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},h.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},h.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},h.render=function(a,b,c){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},h.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale-1e-7},h._enabled=function(a,b){return j||i.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(a,b){return this._enabled(!1,!1)},h.kill=function(a,b){return this._kill(a,b),this},h._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},h._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},h._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this,f=d?d.length:0;switch(f){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},h.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=p(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},h.totalTime=function(a,b,c){if(j||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(J.length&&Z(),this.render(a,b,!1),J.length&&Z())}return this},h.progress=h.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},h.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(a){if(!arguments.length)return this._timeScale;var b,c;for(a=a||m,this._timeline&&this._timeline.smoothChildTiming&&(b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime(),this._startTime=c-(c-this._startTime)*this._timeScale/a),this._timeScale=a,c=this.timeline;c&&c.timeline;)c._dirty=!0,c.totalDuration(),c=c.timeline;return this},h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,
this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(j||a||i.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var F=t("core.SimpleTimeline",function(a){D.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});h=F.prototype=new D,h.constructor=F,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},h._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},h.rawTime=function(){return j||i.wake(),this._totalTime};var G=t("TweenLite",function(b,c,d){if(D.call(this,c,d),this.render=G.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:G.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?V[G.defaultOverwrite]:"number"==typeof i?i>>0:V[i],(h||b instanceof Array||b.push&&p(b))&&"number"!=typeof b[0])for(this._targets=g=n(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(n(f))):(this._siblings[e]=$(f,this,!1),1===i&&this._siblings[e].length>1&&aa(f,this,null,1,this._siblings[e])):(f=g[e--]=G.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=$(b,this,!1),1===i&&this._siblings.length>1&&aa(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),H=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},I=function(a,b){var c,d={};for(c in a)U[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!R[c]||R[c]&&R[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};h=G.prototype=new D,h.constructor=G,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,G.version="1.20.4",G.defaultEase=h._ease=new v(null,null,1,1),G.defaultOverwrite="auto",G.ticker=i,G.autoSleep=120,G.lagSmoothing=function(a,b){i.lagSmoothing(a,b)},G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(G.selector=c,c(b)):"undefined"==typeof d?b:d.querySelectorAll?d.querySelectorAll(b):d.getElementById("#"===b.charAt(0)?b.substr(1):b)};var J=[],K={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,M=/[\+-]=-?[\.\d]/,N=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.blob?1===a&&null!=this.end?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m(b,this._target||c.t):d>b&&b>-d&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},O=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(L)||[],f=b.match(L)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=N,M.test(b)&&(l.end=null),l},P=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=O(m,n?parseFloat(o.s)+o.c+(o.s+"").replace(/[0-9\-\.]/g,""):d,h||G.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},Q=G._internals={isArray:p,isSelector:H,lazyTweens:J,blobDif:O},R=G._plugins={},S=Q.tweenLookup={},T=0,U=Q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},W=D._rootFramesTimeline=new F,X=D._rootTimeline=new F,Y=30,Z=Q.lazyRender=function(){var a,b=J.length;for(K={};--b>-1;)a=J[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);J.length=0};X._startTime=i.time,W._startTime=i.frame,X._active=W._active=!0,setTimeout(Z,1),D._updateRoot=G.render=function(){var a,b,c;if(J.length&&Z(),X.render((i.time-X._startTime)*X._timeScale,!1,!1),W.render((i.frame-W._startTime)*W._timeScale,!1,!1),J.length&&Z(),i.frame>=Y){Y=i.frame+(parseInt(G.autoSleep,10)||120);for(c in S){for(b=S[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete S[c]}if(c=X._first,(!c||c._paused)&&G.autoSleep&&!W._first&&1===i._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||i.sleep()}}},i.addEventListener("tick",D._updateRoot);var $=function(a,b,c){var d,e,f=a._gsTweenID;if(S[f||(a._gsTweenID=f="t"+T++)]||(S[f]={target:a,tweens:[]}),b&&(d=S[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return S[f].tweens},_=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=G.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},aa=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+m,l=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||ba(b,0,o),0===ba(h,j,o)&&(l[n++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[n++]=h)));for(f=n;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!_(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},ba=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*m>f-b?m:(f+=a.totalDuration()/a._timeScale/e)>b+m?0:f-b-m};h._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.data="isStart",e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&g.lazy!==!1,e.startAt=e.delay=null,e.onUpdate=g.onUpdate,e.onUpdateParams=g.onUpdateParams,e.onUpdateScope=g.onUpdateScope||g.callbackScope||this,this._startAt=G.to(this.target,0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)U[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&g.lazy!==!1,c.immediateRender=j,this._startAt=G.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof v?k:"function"==typeof k?new v(k,g.easeParams):w[k]||G.defaultEase:G.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&G._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},h._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;K[b._gsTweenID]&&Z(),this.vars.css||b.style&&b!==a&&b.nodeType&&R.css&&this.vars.autoCSS!==!1&&I(this.vars,b);for(g in this.vars)if(l=this.vars[g],U[g])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(R[g]&&(j=new R[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=P.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&aa(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(K[b._gsTweenID]=!0),i)},h.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===m&&"isPause"!==this.data)&&j!==a&&(c=!0,j>m&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:m);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==m||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:m)),(!this._initted||this._startAt&&this._startAt.progress())&&(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,n=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===n?k*=k:2===n?k*=k*k:3===n?k*=k*k*k:4===n&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:.5>a/i?this.ratio=k/2:this.ratio=1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,J.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,!0,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,!0,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,!0,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===m&&g!==m&&(this._rawPrevTime=0))}},h._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:G.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((p(b)||H(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(G.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!_(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},h.invalidate=function(){return this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},h._enabled=function(a,b){if(j||i.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=$(d[c],this,!0);else this._siblings=$(this.target,this,!0)}return D.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?G._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},G.to=function(a,b,c){return new G(a,b,c)},G.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new G(a,b,c)},G.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new G(a,b,d)},G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},G.set=function(a,b){return new G(a,0,b)},G.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:G.selector(a)||a;var c,d,e,f;if((p(a)||H(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(G.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else if(a._gsTweenID)for(d=$(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d||[]},G.killTweensOf=G.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=G.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var ca=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=ca.prototype},!0);if(h=ca.prototype,ca.version="1.19.0",ca.API=2,h._firstPT=null,h._addTween=P,h.setRatio=N,h._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},h._mod=h._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},G._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},ca.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===ca.API&&(R[(new a[b])._propName]=a[b]);return!0},s.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){ca.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new ca(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,ca.activate([g]),g},f=a._gsQueue){for(g=0;g<f.length;g++)f[g]();for(h in q)q[h].func||a.console.log("GSAP encountered missing dependency: "+h)}j=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
/*!
 * VERSION: 0.16.5
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Requires TweenLite and CSSPlugin version 1.17.0 or later (TweenMax contains both TweenLite and CSSPlugin). ThrowPropsPlugin is required for momentum-based continuation of movement after the mouse/touch is released (ThrowPropsPlugin is a membership benefit of Club GreenSock - http://greensock.com/club/).
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(a,b,c){var d,e,f,g,h,i,j,k,l={css:{},data:"_draggable"},m={css:{},data:"_draggable"},n={css:{},data:"_draggable"},o={css:{}},p=_gsScope._gsDefine.globals,q={},r=function(){return!1},s={style:{},appendChild:r,removeChild:r},t=_gsScope.document||{createElement:function(){return s}},u=t.documentElement||{},v=function(a){return t.createElementNS?t.createElementNS("http://www.w3.org/1999/xhtml",a):t.createElement(a)},w=v("div"),x=[],y=180/Math.PI,z=999999999999999,A=Date.now||function(){return(new Date).getTime()},B=!(t.addEventListener||!t.all),C=t.createElement("div"),D=[],E={},F=0,G=/^(?:a|input|textarea|button|select)$/i,H=0,I=_gsScope.navigator&&-1!==_gsScope.navigator.userAgent.toLowerCase().indexOf("android"),J=0,K={},L={},M=function(a){if("string"==typeof a&&(a=b.selector(a)),!a||a.nodeType)return[a];var c,d=[],e=a.length;for(c=0;c!==e;d.push(a[c++]));return d},N=function(a,b){var c,d={};if(b)for(c in a)d[c]=a[c]*b;else for(c in a)d[c]=a[c];return d},O=function(){for(var a=D.length;--a>-1;)D[a]()},P=function(a){D.push(a),1===D.length&&b.ticker.addEventListener("tick",O,this,!1,1)},Q=function(a){for(var c=D.length;--c>-1;)D[c]===a&&D.splice(c,1);b.to(R,0,{overwrite:"all",delay:15,onComplete:R,data:"_draggable"})},R=function(){D.length||b.ticker.removeEventListener("tick",O)},S=function(a,b){var c;for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},T=function(){return null!=window.pageYOffset?window.pageYOffset:null!=t.scrollTop?t.scrollTop:u.scrollTop||t.body.scrollTop||0},U=function(){return null!=window.pageXOffset?window.pageXOffset:null!=t.scrollLeft?t.scrollLeft:u.scrollLeft||t.body.scrollLeft||0},V=function(a,b){Ja(a,"scroll",b),X(a.parentNode)||V(a.parentNode,b)},W=function(a,b){Ka(a,"scroll",b),X(a.parentNode)||W(a.parentNode,b)},X=function(a){return!(a&&a!==u&&a!==t&&a!==t.body&&a!==window&&a.nodeType&&a.parentNode)},Y=function(a,b){var c="x"===b?"Width":"Height",d="scroll"+c,e="client"+c,f=t.body;return Math.max(0,X(a)?Math.max(u[d],f[d])-(window["inner"+c]||u[e]||f[e]):a[d]-a[e])},Z=function(a){var b=X(a),c=Y(a,"x"),d=Y(a,"y");b?a=L:Z(a.parentNode),a._gsMaxScrollX=c,a._gsMaxScrollY=d,a._gsScrollX=a.scrollLeft||0,a._gsScrollY=a.scrollTop||0},$=function(a,b){return a=a||window.event,q.pageX=a.clientX+t.body.scrollLeft+u.scrollLeft,q.pageY=a.clientY+t.body.scrollTop+u.scrollTop,b&&(a.returnValue=!1),q},_=function(a){return a?("string"==typeof a&&(a=b.selector(a)),a.length&&a!==window&&a[0]&&a[0].style&&!a.nodeType&&(a=a[0]),a===window||a.nodeType&&a.style?a:null):a},aa=function(a,b){var c,e,f,g=a.style;if(void 0===g[b]){for(f=["O","Moz","ms","Ms","Webkit"],e=5,c=b.charAt(0).toUpperCase()+b.substr(1);--e>-1&&void 0===g[f[e]+c];);if(0>e)return"";d=3===e?"ms":f[e],b=d+c}return b},ba=function(a,b,c){var d=a.style;d&&(void 0===d[b]&&(b=aa(a,b)),null==c?d.removeProperty?d.removeProperty(b.replace(/([A-Z])/g,"-$1").toLowerCase()):d.removeAttribute(b):void 0!==d[b]&&(d[b]=c))},ca=("undefined"!=typeof window?window:t.defaultView||{getComputedStyle:function(){}}).getComputedStyle,da=function(a,b){return ca(a instanceof Element?a:a.host||(a.parentNode||{}).host||a,b)},ea=/(?:Left|Right|Width)/i,fa=/(?:\d|\-|\+|=|#|\.)*/g,ga=function(a,b,c,d,e){if("px"===d||!d)return c;if("auto"===d||!c)return 0;var f,g=ea.test(b),h=a,i=w.style,j=0>c;return j&&(c=-c),"%"===d&&-1!==b.indexOf("border")?f=c/100*(g?a.clientWidth:a.clientHeight):(i.cssText="border:0 solid red;position:"+ia(a,"position",!0)+";line-height:0;","%"!==d&&h.appendChild?i[g?"borderLeftWidth":"borderTopWidth"]=c+d:(h=a.parentNode||t.body,i[g?"width":"height"]=c+d),h.appendChild(w),f=parseFloat(w[g?"offsetWidth":"offsetHeight"]),h.removeChild(w),0!==f||e||(f=ga(a,b,c,d,!0))),j?-f:f},ha=function(a,b){if("absolute"!==ia(a,"position",!0))return 0;var c="left"===b?"Left":"Top",d=ia(a,"margin"+c,!0);return a["offset"+c]-(ga(a,b,parseFloat(d),(d+"").replace(fa,""))||0)},ia=function(a,b,c){var d,e=(a._gsTransform||{})[b];return e||0===e?e:(a.style&&a.style[b]?e=a.style[b]:(d=da(a))?(e=d.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()),e=e||d.length?e:d[b]):a.currentStyle&&(e=a.currentStyle[b]),"auto"!==e||"top"!==b&&"left"!==b||(e=ha(a,b)),c?e:parseFloat(e)||0)},ja=function(a,b,c){var d=a.vars,e=d[c],f=a._listeners[b];"function"==typeof e&&e.apply(d[c+"Scope"]||d.callbackScope||a,d[c+"Params"]||[a.pointerEvent]),f&&a.dispatchEvent(b)},ka=function(a,b){var c,d,e,f=_(a);return f?Ea(f,b):void 0!==a.left?(e=ya(b),{left:a.left-e.x,top:a.top-e.y,width:a.width,height:a.height}):(d=a.min||a.minX||a.minRotation||0,c=a.min||a.minY||0,{left:d,top:c,width:(a.max||a.maxX||a.maxRotation||0)-d,height:(a.max||a.maxY||0)-c})},la=function(){if(!t.createElementNS)return g=0,void(h=!1);var a,b,c,d,e=v("div"),f=t.createElementNS("http://www.w3.org/2000/svg","svg"),l=v("div"),m=e.style,n=t.body||u,o="flex"===ia(n,"display",!0);t.body&&oa&&(m.position="absolute",n.appendChild(l),l.appendChild(e),d=e.offsetParent,l.style[oa]="rotate(1deg)",k=e.offsetParent===d,l.style.position="absolute",m.height="10px",d=e.offsetTop,l.style.border="5px solid red",j=d!==e.offsetTop,n.removeChild(l)),m=f.style,f.setAttributeNS(null,"width","400px"),f.setAttributeNS(null,"height","400px"),f.setAttributeNS(null,"viewBox","0 0 400 400"),m.display="block",m.boxSizing="border-box",m.border="0px solid red",m.transform="none",e.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",n.appendChild(e),e.appendChild(f),c=f.createSVGPoint().matrixTransform(f.getScreenCTM()),b=c.y,e.scrollTop=100,c.x=c.y=0,c=c.matrixTransform(f.getScreenCTM()),i=b-c.y<100.1?0:b-c.y-150,e.removeChild(f),n.removeChild(e),n.appendChild(f),o&&(n.style.display="block"),a=f.getScreenCTM(),b=a.e,m.border="50px solid red",a=f.getScreenCTM(),0===b&&0===a.e&&0===a.f&&1===a.a?(g=1,h=!0):(g=b!==a.e?1:0,h=1!==a.a),o&&(n.style.display="flex"),n.removeChild(f)},ma=""!==aa(w,"perspective"),na=aa(w,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),oa=aa(w,"transform"),pa=oa.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),qa={},ra={},sa=_gsScope.SVGElement,ta=function(a){return!!(sa&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM))},ua=_gsScope.navigator&&(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_gsScope.navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_gsScope.navigator.userAgent))&&parseFloat(RegExp.$1)<11,va=[],wa=[],xa=function(a){if(!a.getBoundingClientRect||!a.parentNode||!oa)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:u};if(Ta.cacheSVGData!==!1&&a._dCache&&a._dCache.lastUpdate===b.ticker.frame)return a._dCache;var c,d,e,f,j,k,l,m,n,o,p,q,r=a,s=za(a);if(s.lastUpdate=b.ticker.frame,a.getBBox&&!s.isSVGRoot){for(r=a.parentNode,c=a.getBBox();r&&"svg"!==(r.nodeName+"").toLowerCase();)r=r.parentNode;return f=xa(r),s.offsetTop=c.y*f.scaleY,s.offsetLeft=c.x*f.scaleX,s.scaleX=f.scaleX,s.scaleY=f.scaleY,s.offsetParent=r||u,s}for(e=s.offsetParent,e===t.body&&(e=u),wa.length=va.length=0;r&&(j=ia(r,oa,!0),"matrix(1, 0, 0, 1, 0, 0)"!==j&&"none"!==j&&"translate3d(0px, 0px, 0px)"!==j&&(wa.push(r),va.push(r.style[oa]),r.style[oa]="none"),r!==e);)r=r.parentNode;for(d=e.getBoundingClientRect(),j=a.getScreenCTM(),m=a.createSVGPoint(),l=m.matrixTransform(j),s.scaleX=Math.sqrt(j.a*j.a+j.b*j.b),s.scaleY=Math.sqrt(j.d*j.d+j.c*j.c),void 0===g&&la(),s.borderBox&&!h&&a.getAttribute("width")&&(f=da(a)||{},n=parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth)||0,o=parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth)||0,p=parseFloat(f.width)||0,q=parseFloat(f.height)||0,s.scaleX*=(p-n)/p,s.scaleY*=(q-o)/q),i?(c=a.getBoundingClientRect(),s.offsetLeft=c.left-d.left,s.offsetTop=c.top-d.top):(s.offsetLeft=l.x-d.left,s.offsetTop=l.y-d.top),s.offsetParent=e,k=wa.length;--k>-1;)wa[k].style[oa]=va[k];return s},ya=function(a,c){if(c=c||{},!a||a===u||!a.parentNode||a===window)return{x:0,y:0};var d=da(a),e=na&&d?d.getPropertyValue(na):"50% 50%",f=e.split(" "),g=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":f[0],h=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":f[1];return("center"===h||null==h)&&(h="50%"),("center"===g||isNaN(parseFloat(g)))&&(g="50%"),a.getBBox&&ta(a)?(a._gsTransform||(b.set(a,{x:"+=0",overwrite:!1}),void 0===a._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),e=a.getBBox(),c.x=a._gsTransform.xOrigin-e.x,c.y=a._gsTransform.yOrigin-e.y):(a.getBBox&&-1!==(g+h).indexOf("%")&&(a=a.getBBox(),a={offsetWidth:a.width,offsetHeight:a.height}),c.x=-1!==g.indexOf("%")?a.offsetWidth*parseFloat(g)/100:parseFloat(g),c.y=-1!==h.indexOf("%")?a.offsetHeight*parseFloat(h)/100:parseFloat(h)),c},za=function(a){if(Ta.cacheSVGData!==!1&&a._dCache&&a._dCache.lastUpdate===b.ticker.frame)return a._dCache;var c,d=a._dCache=a._dCache||{},e=da(a),f=a.getBBox&&ta(a),g="svg"===(a.nodeName+"").toLowerCase();if(d.isSVG=f,d.isSVGRoot=g,d.borderBox="border-box"===e.boxSizing,d.computedStyle=e,g)c=a.parentNode||u,c.insertBefore(w,a),d.offsetParent=w.offsetParent||u,c.removeChild(w);else if(f){for(c=a.parentNode;c&&"svg"!==(c.nodeName+"").toLowerCase();)c=c.parentNode;d.offsetParent=c}else d.offsetParent=a.offsetParent;return d},Aa=function(a,b,c,d,e){if(a===window||!a||!a.style||!a.parentNode)return[1,0,0,1,0,0];var f,h,i,l,m,n,o,p,q,r,s,v,w,x,y=a._dCache||za(a),z=a.parentNode,A=z._dCache||za(z),B=y.computedStyle,C=y.isSVG?A.offsetParent:z.offsetParent;return f=y.isSVG&&-1!==(a.style[oa]+"").indexOf("matrix")?a.style[oa]:B?B.getPropertyValue(pa):a.currentStyle?a.currentStyle[oa]:"1,0,0,1,0,0",a.getBBox&&-1!==(a.getAttribute("transform")+"").indexOf("matrix")&&(f=a.getAttribute("transform")),f=(f+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0],f.length>6&&(f=[f[0],f[1],f[4],f[5],f[12],f[13]]),d?f[4]=f[5]=0:y.isSVG&&(m=a._gsTransform)&&(m.xOrigin||m.yOrigin)&&(f[0]=parseFloat(f[0]),f[1]=parseFloat(f[1]),f[2]=parseFloat(f[2]),f[3]=parseFloat(f[3]),f[4]=parseFloat(f[4])-(m.xOrigin-(m.xOrigin*f[0]+m.yOrigin*f[2])),f[5]=parseFloat(f[5])-(m.yOrigin-(m.xOrigin*f[1]+m.yOrigin*f[3]))),b&&(void 0===g&&la(),i=y.isSVG||y.isSVGRoot?xa(a):a,y.isSVG?(l=a.getBBox(),r=A.isSVGRoot?{x:0,y:0}:z.getBBox(),i={offsetLeft:l.x-r.x,offsetTop:l.y-r.y,offsetParent:y.offsetParent}):y.isSVGRoot?(s=parseInt(B.borderTopWidth,10)||0,v=parseInt(B.borderLeftWidth,10)||0,w=(f[0]-g)*v+f[2]*s,x=f[1]*v+(f[3]-g)*s,n=b.x,o=b.y,p=n-(n*f[0]+o*f[2]),q=o-(n*f[1]+o*f[3]),f[4]=parseFloat(f[4])+p,f[5]=parseFloat(f[5])+q,b.x-=p,b.y-=q,n=i.scaleX,o=i.scaleY,e||(b.x*=n,b.y*=o),f[0]*=n,f[1]*=o,f[2]*=n,f[3]*=o,ua||(b.x+=w,b.y+=x),C===t.body&&i.offsetParent===u&&(C=u)):!j&&a.offsetParent&&(b.x+=parseInt(ia(a.offsetParent,"borderLeftWidth"),10)||0,b.y+=parseInt(ia(a.offsetParent,"borderTopWidth"),10)||0),h=z===u||z===t.body,f[4]=Number(f[4])+b.x+(i.offsetLeft||0)-c.x-(h?0:z.scrollLeft||0),f[5]=Number(f[5])+b.y+(i.offsetTop||0)-c.y-(h?0:z.scrollTop||0),z&&"fixed"===ia(a,"position",B)&&(f[4]+=U(),f[5]+=T()),!z||z===u||C!==i.offsetParent||A.isSVG||k&&"100100"!==Aa(z).join("")||(i=A.isSVGRoot?xa(z):z,f[4]-=i.offsetLeft||0,f[5]-=i.offsetTop||0,j||!A.offsetParent||y.isSVG||y.isSVGRoot||(f[4]-=parseInt(ia(A.offsetParent,"borderLeftWidth"),10)||0,f[5]-=parseInt(ia(A.offsetParent,"borderTopWidth"),10)||0))),f},Ba=function(a,b){if(!a||a===window||!a.parentNode)return[1,0,0,1,0,0];for(var c,d,e,f,g,h,i,j,k=ya(a,qa),l=ya(a.parentNode,ra),m=Aa(a,k,l,!1,!b);(a=a.parentNode)&&a.parentNode&&a!==u;)k=l,l=ya(a.parentNode,k===qa?ra:qa),i=Aa(a,k,l),c=m[0],d=m[1],e=m[2],f=m[3],g=m[4],h=m[5],m[0]=c*i[0]+d*i[2],m[1]=c*i[1]+d*i[3],m[2]=e*i[0]+f*i[2],m[3]=e*i[1]+f*i[3],m[4]=g*i[0]+h*i[2]+i[4],m[5]=g*i[1]+h*i[3]+i[5];return b&&(c=m[0],d=m[1],e=m[2],f=m[3],g=m[4],h=m[5],j=c*f-d*e,m[0]=f/j,m[1]=-d/j,m[2]=-e/j,m[3]=c/j,m[4]=(e*h-f*g)/j,m[5]=-(c*h-d*g)/j),m},Ca=function(a,b,c,d,e){a=_(a);var f=Ba(a,!1,e),g=b.x,h=b.y;return c&&(ya(a,b),g-=b.x,h-=b.y),d=d===!0?b:d||{},d.x=g*f[0]+h*f[2]+f[4],d.y=g*f[1]+h*f[3]+f[5],d},Da=function(a,b,c){var d=a.x*b[0]+a.y*b[2]+b[4],e=a.x*b[1]+a.y*b[3]+b[5];return a.x=d*c[0]+e*c[2]+c[4],a.y=d*c[1]+e*c[3]+c[5],a},Ea=function(a,b,c){if(!(a=_(a)))return null;b=_(b);var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,v,w,x,y,z,A,C=a.getBBox&&ta(a);if(a===window)g=T(),e=U(),f=e+(u.clientWidth||a.innerWidth||t.body.clientWidth||0),h=g+((a.innerHeight||0)-20<u.clientHeight?u.clientHeight:a.innerHeight||t.body.clientHeight||0);else{if(void 0===b||b===window)return a.getBoundingClientRect();d=ya(a),e=-d.x,g=-d.y,C?(o=a.getBBox(),p=o.width,q=o.height):"svg"!==(a.nodeName+"").toLowerCase()&&a.offsetWidth?(p=a.offsetWidth,q=a.offsetHeight):(z=da(a),p=parseFloat(z.width),q=parseFloat(z.height)),f=e+p,h=g+q,"svg"!==a.nodeName.toLowerCase()||B||(r=xa(a),A=r.computedStyle||{},w=(a.getAttribute("viewBox")||"0 0").split(" "),x=parseFloat(w[0]),y=parseFloat(w[1]),s=parseFloat(A.borderLeftWidth)||0,v=parseFloat(A.borderTopWidth)||0,f-=p-(p-s)/r.scaleX-x,h-=q-(q-v)/r.scaleY-y,e-=s/r.scaleX-x,g-=v/r.scaleY-y,z&&(f+=(parseFloat(A.borderRightWidth)+s)/r.scaleX,h+=(v+parseFloat(A.borderBottomWidth))/r.scaleY))}return a===b?{left:e,top:g,width:f-e,height:h-g}:(i=Ba(a),j=Ba(b,!0),k=Da({x:e,y:g},i,j),l=Da({x:f,y:g},i,j),m=Da({x:f,y:h},i,j),n=Da({x:e,y:h},i,j),e=Math.min(k.x,l.x,m.x,n.x),g=Math.min(k.y,l.y,m.y,n.y),K.x=K.y=0,c&&ya(b,K),{left:e+K.x,top:g+K.y,width:Math.max(k.x,l.x,m.x,n.x)-e,height:Math.max(k.y,l.y,m.y,n.y)-g})},Fa=function(a){return a&&a.length&&a[0]&&(a[0].nodeType&&a[0].style&&!a.nodeType||a[0].length&&a[0][0])?!0:!1},Ga=function(a){var b,c,d,e=[],f=a.length;for(b=0;f>b;b++)if(c=a[b],Fa(c))for(d=c.length,d=0;d<c.length;d++)e.push(c[d]);else c&&0!==c.length&&e.push(c);return e},Ha="undefined"!=typeof window&&"ontouchstart"in u&&"orientation"in window,Ia=function(a){for(var b=a.split(","),c=(void 0!==w.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==w.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":a).split(","),d={},e=4;--e>-1;)d[b[e]]=c[e],d[c[e]]=b[e];return d}("touchstart,touchmove,touchend,touchcancel"),Ja=function(a,b,c,d){if(a.addEventListener){var e=Ia[b];d=d||{passive:!1},a.addEventListener(e||b,c,d),e&&b!==e&&a.addEventListener(b,c,d)}else a.attachEvent&&a.attachEvent("on"+b,c)},Ka=function(a,b,c){if(a.removeEventListener){var d=Ia[b];a.removeEventListener(d||b,c),d&&b!==d&&a.removeEventListener(b,c)}else a.detachEvent&&a.detachEvent("on"+b,c)},La=function(a,b){for(var c=a.length;--c>-1;)if(a[c].identifier===b)return!0;return!1},Ma=function(a){e=a.touches&&H<a.touches.length,Ka(a.target,"touchend",Ma)},Na=function(a){e=a.touches&&H<a.touches.length,Ja(a.target,"touchend",Ma)},Oa=function(a,b,c,d,e,f){var g,h,i,j={};if(b)if(1!==e&&b instanceof Array){if(j.end=g=[],i=b.length,"object"==typeof b[0])for(h=0;i>h;h++)g[h]=N(b[h],e);else for(h=0;i>h;h++)g[h]=b[h]*e;c+=1.1,d-=1.1}else"function"==typeof b?j.end=function(c){var d,f,g=b.call(a,c);if(1!==e)if("object"==typeof g){d={};for(f in g)d[f]=g[f]*e;g=d}else g*=e;return g}:j.end=b;return(c||0===c)&&(j.max=c),(d||0===d)&&(j.min=d),f&&(j.velocity=0),j},Pa=function(a){var b;return a&&a.getAttribute&&"BODY"!==a.nodeName?"true"===(b=a.getAttribute("data-clickable"))||"false"!==b&&(a.onclick||G.test(a.nodeName+"")||"true"===a.getAttribute("contentEditable"))?!0:Pa(a.parentNode):!1},Qa=function(a,b){for(var c,d=a.length;--d>-1;)c=a[d],c.ondragstart=c.onselectstart=b?null:r,ba(c,"userSelect",b?"text":"none")},Ra=function(){var a,b=t.createElement("div"),c=t.createElement("div"),d=c.style,e=t.body||w;return d.display="inline-block",d.position="relative",b.style.cssText=c.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",b.appendChild(c),e.appendChild(b),a=c.offsetHeight+18>b.scrollHeight,e.removeChild(b),a}(),Sa=function(a,c){a=_(a),c=c||{};var d,e,f,g,h,i,j=t.createElement("div"),k=j.style,l=a.firstChild,m=0,n=0,o=a.scrollTop,p=a.scrollLeft,q=a.scrollWidth,r=a.scrollHeight,s=0,u=0,v=0;ma&&c.force3D!==!1?(h="translate3d(",i="px,0px)"):oa&&(h="translate(",i="px)"),this.scrollTop=function(a,b){return arguments.length?void this.top(-a,b):-this.top()},this.scrollLeft=function(a,b){return arguments.length?void this.left(-a,b):-this.left()},this.left=function(d,e){if(!arguments.length)return-(a.scrollLeft+n);var f=a.scrollLeft-p,g=n;return(f>2||-2>f)&&!e?(p=a.scrollLeft,b.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-p),void(c.onKill&&c.onKill())):(d=-d,0>d?(n=d-.5|0,d=0):d>u?(n=d-u|0,d=u):n=0,(n||g)&&(h?this._suspendTransforms||(k[oa]=h+-n+"px,"+-m+i):k.left=-n+"px",n+s>=0&&(k.paddingRight=n+s+"px")),a.scrollLeft=0|d,void(p=a.scrollLeft))},this.top=function(d,e){if(!arguments.length)return-(a.scrollTop+m);var f=a.scrollTop-o,g=m;return(f>2||-2>f)&&!e?(o=a.scrollTop,b.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-o),void(c.onKill&&c.onKill())):(d=-d,0>d?(m=d-.5|0,d=0):d>v?(m=d-v|0,d=v):m=0,(m||g)&&(h?this._suspendTransforms||(k[oa]=h+-n+"px,"+-m+i):k.top=-m+"px"),a.scrollTop=0|d,void(o=a.scrollTop))},this.maxScrollTop=function(){return v},this.maxScrollLeft=function(){return u},this.disable=function(){for(l=j.firstChild;l;)g=l.nextSibling,a.appendChild(l),l=g;a===j.parentNode&&a.removeChild(j)},this.enable=function(){if(l=a.firstChild,l!==j){for(;l;)g=l.nextSibling,j.appendChild(l),l=g;a.appendChild(j),this.calibrate()}},this.calibrate=function(b){var c,g,h=a.clientWidth===d;o=a.scrollTop,p=a.scrollLeft,(!h||a.clientHeight!==e||j.offsetHeight!==f||q!==a.scrollWidth||r!==a.scrollHeight||b)&&((m||n)&&(c=this.left(),g=this.top(),this.left(-a.scrollLeft),this.top(-a.scrollTop)),(!h||b)&&(k.display="block",k.width="auto",k.paddingRight="0px",s=Math.max(0,a.scrollWidth-a.clientWidth),s&&(s+=ia(a,"paddingLeft")+(Ra?ia(a,"paddingRight"):0))),k.display="inline-block",k.position="relative",k.overflow="visible",k.verticalAlign="top",k.width="100%",k.paddingRight=s+"px",Ra&&(k.paddingBottom=ia(a,"paddingBottom",!0)),B&&(k.zoom="1"),d=a.clientWidth,e=a.clientHeight,q=a.scrollWidth,r=a.scrollHeight,u=a.scrollWidth-d,v=a.scrollHeight-e,f=j.offsetHeight,k.display="block",(c||g)&&(this.left(c),this.top(g)))},this.content=j,this.element=a,this._suspendTransforms=!1,this.enable()},Ta=function(d,g){a.call(this,d),d=_(d),f||(f=p.com.greensock.plugins.ThrowPropsPlugin),this.vars=g=N(g||{}),this.target=d,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(g.dragResistance)||0,this.edgeResistance=isNaN(g.edgeResistance)?1:parseFloat(g.edgeResistance)||0,this.lockAxis=g.lockAxis,this.autoScroll=g.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!g.allowEventDefault;var h,i,j,k,q,r,s,v,w,D,G,O,R,T,U,Y,aa,ca,da,ea,fa,ga,ha,la,ma,na,oa,pa,qa,ra,sa,ua,va,wa,xa=(g.type||(B?"top,left":"x,y")).toLowerCase(),ya=-1!==xa.indexOf("x")||-1!==xa.indexOf("y"),za=-1!==xa.indexOf("rotation"),Aa=za?"rotation":ya?"x":"left",Da=ya?"y":"top",Ea=-1!==xa.indexOf("x")||-1!==xa.indexOf("left")||"scroll"===xa,Fa=-1!==xa.indexOf("y")||-1!==xa.indexOf("top")||"scroll"===xa,Ga=g.minimumMovement||2,Ma=this,Ra=M(g.trigger||g.handle||d),Ua={},Va=0,Wa=!1,Ya=g.autoScrollMarginTop||40,Za=g.autoScrollMarginRight||40,$a=g.autoScrollMarginBottom||40,_a=g.autoScrollMarginLeft||40,ab=g.clickableTest||Pa,bb=0,cb=function(a){return Ma.isPressed&&a.which<2?void Ma.endDrag():(a.preventDefault(),a.stopPropagation(),!1)},db=function(a){if(Ma.autoScroll&&Ma.isDragging&&(Wa||ca)){var b,c,e,f,g,h,j,k,l=d,m=15*Ma.autoScroll;for(Wa=!1,L.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=u.scrollTop?u.scrollTop:t.body.scrollTop,L.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=u.scrollLeft?u.scrollLeft:t.body.scrollLeft,f=Ma.pointerX-L.scrollLeft,g=Ma.pointerY-L.scrollTop;l&&!c;)c=X(l.parentNode),b=c?L:l.parentNode,e=c?{bottom:Math.max(u.clientHeight,window.innerHeight||0),right:Math.max(u.clientWidth,window.innerWidth||0),left:0,top:0}:b.getBoundingClientRect(),h=j=0,Fa&&(k=b._gsMaxScrollY-b.scrollTop,0>k?j=k:g>e.bottom-$a&&k?(Wa=!0,j=Math.min(k,m*(1-Math.max(0,e.bottom-g)/$a)|0)):g<e.top+Ya&&b.scrollTop&&(Wa=!0,j=-Math.min(b.scrollTop,m*(1-Math.max(0,g-e.top)/Ya)|0)),j&&(b.scrollTop+=j)),Ea&&(k=b._gsMaxScrollX-b.scrollLeft,0>k?h=k:f>e.right-Za&&k?(Wa=!0,h=Math.min(k,m*(1-Math.max(0,e.right-f)/Za)|0)):f<e.left+_a&&b.scrollLeft&&(Wa=!0,h=-Math.min(b.scrollLeft,m*(1-Math.max(0,f-e.left)/_a)|0)),h&&(b.scrollLeft+=h)),c&&(h||j)&&(window.scrollTo(b.scrollLeft,b.scrollTop),rb(Ma.pointerX+h,Ma.pointerY+j)),l=b}if(ca){var n=Ma.x,o=Ma.y,p=1e-6;p>n&&n>-p&&(n=0),p>o&&o>-p&&(o=0),za?(Ma.deltaX=n-qa.data.rotation,qa.data.rotation=Ma.rotation=n,qa.setRatio(1)):i?(Fa&&(Ma.deltaY=o-i.top(),i.top(o)),Ea&&(Ma.deltaX=n-i.left(),i.left(n))):ya?(Fa&&(Ma.deltaY=o-qa.data.y,qa.data.y=o),Ea&&(Ma.deltaX=n-qa.data.x,qa.data.x=n),qa.setRatio(1)):(Fa&&(Ma.deltaY=o-parseFloat(d.style.top||0),d.style.top=o+"px"),Ea&&(Ma.deltaY=n-parseFloat(d.style.left||0),d.style.left=n+"px")),!v||a||ua||(ua=!0,ja(Ma,"drag","onDrag"),ua=!1)}ca=!1},eb=function(a,c){var e,f=Ma.x,g=Ma.y;d._gsTransform||!ya&&!za||b.set(d,{x:"+=0",overwrite:!1,data:"_draggable"}),ya?(Ma.y=d._gsTransform.y,Ma.x=d._gsTransform.x):za?Ma.x=Ma.rotation=d._gsTransform.rotation:i?(Ma.y=i.top(),Ma.x=i.left()):(Ma.y=parseInt(d.style.top,10)||0,Ma.x=parseInt(d.style.left,10)||0),(ea||fa||ga)&&!c&&(Ma.isDragging||Ma.isThrowing)&&(ga&&(K.x=Ma.x,K.y=Ma.y,e=ga(K),e.x!==Ma.x&&(Ma.x=e.x,ca=!0),e.y!==Ma.y&&(Ma.y=e.y,ca=!0)),ea&&(e=ea(Ma.x),e!==Ma.x&&(Ma.x=e,za&&(Ma.rotation=e),ca=!0)),fa&&(e=fa(Ma.y),e!==Ma.y&&(Ma.y=e),ca=!0)),ca&&db(!0),a||(Ma.deltaX=Ma.x-f,Ma.deltaY=Ma.y-g,ja(Ma,"throwupdate","onThrowUpdate"))},fb=function(){var a,b,c,e;s=!1,i?(i.calibrate(),Ma.minX=D=-i.maxScrollLeft(),Ma.minY=O=-i.maxScrollTop(),Ma.maxX=w=Ma.maxY=G=0,s=!0):g.bounds&&(a=ka(g.bounds,d.parentNode),za?(Ma.minX=D=a.left,Ma.maxX=w=a.left+a.width,Ma.minY=O=Ma.maxY=G=0):void 0!==g.bounds.maxX||void 0!==g.bounds.maxY?(a=g.bounds,Ma.minX=D=a.minX,Ma.minY=O=a.minY,Ma.maxX=w=a.maxX,Ma.maxY=G=a.maxY):(b=ka(d,d.parentNode),Ma.minX=D=ia(d,Aa)+a.left-b.left,Ma.minY=O=ia(d,Da)+a.top-b.top,Ma.maxX=w=D+(a.width-b.width),Ma.maxY=G=O+(a.height-b.height)),D>w&&(Ma.minX=w,Ma.maxX=w=D,D=Ma.minX),O>G&&(Ma.minY=G,Ma.maxY=G=O,O=Ma.minY),za&&(Ma.minRotation=D,Ma.maxRotation=w),s=!0),g.liveSnap&&(c=g.liveSnap===!0?g.snap||{}:g.liveSnap,e=c instanceof Array||"function"==typeof c,za?(ea=nb(e?c:c.rotation,D,w,1),fa=null):c.points?ga=ob(e?c:c.points,D,w,O,G,c.radius,i?-1:1):(Ea&&(ea=nb(e?c:c.x||c.left||c.scrollLeft,D,w,i?-1:1)),Fa&&(fa=nb(e?c:c.y||c.top||c.scrollTop,O,G,i?-1:1))))},gb=function(){Ma.isThrowing=!1,ja(Ma,"throwcomplete","onThrowComplete")},hb=function(){Ma.isThrowing=!1},ib=function(a,b){var c,e,h,j;a&&f?(a===!0&&(c=g.snap||g.liveSnap||{},e=c instanceof Array||"function"==typeof c,a={resistance:(g.throwResistance||g.resistance||1e3)/(za?10:1)},za?a.rotation=Oa(Ma,e?c:c.rotation,w,D,1,b):(Ea&&(a[Aa]=Oa(Ma,e?c:c.points||c.x||c.left||c.scrollLeft,w,D,i?-1:1,b||"x"===Ma.lockedAxis)),Fa&&(a[Da]=Oa(Ma,e?c:c.points||c.y||c.top||c.scrollTop,G,O,i?-1:1,b||"y"===Ma.lockedAxis)),(c.points||c instanceof Array&&"object"==typeof c[0])&&(a.linkedProps=Aa+","+Da,a.radius=c.radius))),Ma.isThrowing=!0,j=isNaN(g.overshootTolerance)?1===g.edgeResistance?0:1-Ma.edgeResistance+.2:g.overshootTolerance,Ma.tween=h=f.to(i||d,{throwProps:a,data:"_draggable",ease:g.ease||p.Power3.easeOut,onComplete:gb,onOverwrite:hb,onUpdate:g.fastMode?ja:eb,onUpdateParams:g.fastMode?[Ma,"onthrowupdate","onThrowUpdate"]:c&&c.radius?[!1,!0]:x},Math.max(g.minDuration||0,g.maxDuration||0)||2,isNaN(g.minDuration)?0===j||"object"==typeof a&&a.resistance>1e3?0:.5:g.minDuration,j),g.fastMode||(i&&(i._suspendTransforms=!0),h.render(h.duration(),!0,!0),eb(!0,!0),Ma.endX=Ma.x,Ma.endY=Ma.y,za&&(Ma.endRotation=Ma.x),h.play(0),eb(!0,!0),i&&(i._suspendTransforms=!1))):s&&Ma.applyBounds()},jb=function(a){var b,c,e,f,g,h,i,l,m,n=ma||[1,0,0,1,0,0];ma=Ba(d.parentNode,!0),a&&Ma.isPressed&&n.join(",")!==ma.join(",")&&(b=n[0],c=n[1],e=n[2],f=n[3],g=n[4],h=n[5],i=b*f-c*e,l=j*(f/i)+k*(-e/i)+(e*h-f*g)/i,m=j*(-c/i)+k*(b/i)+-(b*h-c*g)/i,k=l*ma[1]+m*ma[3]+ma[5],j=l*ma[0]+m*ma[2]+ma[4]),ma[1]||ma[2]||1!=ma[0]||1!=ma[3]||0!=ma[4]||0!=ma[5]||(ma=null)},kb=function(){var a=1-Ma.edgeResistance;jb(!1),ma&&(j=Ma.pointerX*ma[0]+Ma.pointerY*ma[2]+ma[4],k=Ma.pointerX*ma[1]+Ma.pointerY*ma[3]+ma[5]),ca&&(rb(Ma.pointerX,Ma.pointerY),db(!0)),i?(fb(),r=i.top(),q=i.left()):(lb()?(eb(!0,!0),fb()):Ma.applyBounds(),za?(aa=Ma.rotationOrigin=Ca(d,{x:0,y:0}),eb(!0,!0),q=Ma.x,r=Ma.y=Math.atan2(aa.y-Ma.pointerY,Ma.pointerX-aa.x)*y):(oa=d.parentNode?d.parentNode.scrollTop||0:0,pa=d.parentNode?d.parentNode.scrollLeft||0:0,r=ia(d,Da),q=ia(d,Aa))),s&&a&&(q>w?q=w+(q-w)/a:D>q&&(q=D-(D-q)/a),za||(r>G?r=G+(r-G)/a:O>r&&(r=O-(O-r)/a))),Ma.startX=q,Ma.startY=r},lb=function(){return Ma.tween&&Ma.tween.isActive()},mb=function(){!C.parentNode||lb()||Ma.isDragging||C.parentNode.removeChild(C)},nb=function(a,b,c,d){return"function"==typeof a?function(e){var f=Ma.isPressed?1-Ma.edgeResistance:1;return a.call(Ma,e>c?c+(e-c)*f:b>e?b+(e-b)*f:e)*d}:a instanceof Array?function(d){for(var e,f,g=a.length,h=0,i=z;--g>-1;)e=a[g],f=e-d,0>f&&(f=-f),i>f&&e>=b&&c>=e&&(h=g,i=f);return a[h]}:isNaN(a)?function(a){return a}:function(){return a*d}},ob=function(a,b,c,d,e,f,g){return f=f&&z>f?f*f:z,"function"==typeof a?function(h){var i,j,k,l=Ma.isPressed?1-Ma.edgeResistance:1,m=h.x,n=h.y;return h.x=m=m>c?c+(m-c)*l:b>m?b+(m-b)*l:m,h.y=n=n>e?e+(n-e)*l:d>n?d+(n-d)*l:n,i=a.call(Ma,h),i!==h&&(h.x=i.x,h.y=i.y),1!==g&&(h.x*=g,h.y*=g),z>f&&(j=h.x-m,k=h.y-n,j*j+k*k>f&&(h.x=m,h.y=n)),h}:a instanceof Array?function(b){for(var c,d,e,g,h=a.length,i=0,j=z;--h>-1;)e=a[h],c=e.x-b.x,d=e.y-b.y,g=c*c+d*d,j>g&&(i=h,j=g);return f>=j?a[i]:b}:function(a){return a}},pb=function(a,c){var e;if(h&&!Ma.isPressed&&a&&("mousedown"!==a.type&&"pointerdown"!==a.type||c||!(A()-bb<30)||!Ia[Ma.pointerEvent.type])){if(na=lb(),Ma.pointerEvent=a,Ia[a.type]?(la=-1!==a.type.indexOf("touch")?a.currentTarget||a.target:t,Ja(la,"touchend",sb),Ja(la,"touchmove",qb),Ja(la,"touchcancel",sb),Ja(t,"touchstart",Na)):(la=null,Ja(t,"mousemove",qb)),sa=null,Ja(t,"mouseup",sb),a&&a.target&&Ja(a.target,"mouseup",sb),ha=ab.call(Ma,a.target)&&!g.dragClickables&&!c)return Ja(a.target,"change",sb),ja(Ma,"pressInit","onPressInit"),ja(Ma,"press","onPress"),void Qa(Ra,!0);if(ra=!la||Ea===Fa||Ma.vars.allowNativeTouchScrolling===!1||Ma.vars.allowContextMenu&&a&&(a.ctrlKey||a.which>2)?!1:Ea?"y":"x",B?a=$(a,!0):ra||Ma.allowEventDefault||(a.preventDefault(),a.preventManipulation&&a.preventManipulation()),a.changedTouches?(a=U=a.changedTouches[0],Y=a.identifier):a.pointerId?Y=a.pointerId:U=Y=null,H++,P(db),k=Ma.pointerY=a.pageY,j=Ma.pointerX=a.pageX,ja(Ma,"pressInit","onPressInit"),(ra||Ma.autoScroll)&&Z(d.parentNode),!d.parentNode||!Ma.autoScroll||i||za||!d.parentNode._gsMaxScrollX||C.parentNode||d.getBBox||(C.style.width=d.parentNode.scrollWidth+"px",d.parentNode.appendChild(C)),kb(),Ma.tween&&Ma.tween.kill(),Ma.isThrowing=!1,b.killTweensOf(i||d,!0,Ua),i&&b.killTweensOf(d,!0,{scrollTo:1}),Ma.tween=Ma.lockedAxis=null,(g.zIndexBoost||!za&&!i&&g.zIndexBoost!==!1)&&(d.style.zIndex=Ta.zIndex++),Ma.isPressed=!0,v=!(!g.onDrag&&!Ma._listeners.drag),!za)for(e=Ra.length;--e>-1;)ba(Ra[e],"cursor",g.cursor||"move");ja(Ma,"press","onPress")}},qb=function(a){var b,c,d,f,g,i,l=a;if(h&&!e&&Ma.isPressed&&a){if(Ma.pointerEvent=a,b=a.changedTouches){if(a=b[0],a!==U&&a.identifier!==Y){for(f=b.length;--f>-1&&(a=b[f]).identifier!==Y;);if(0>f)return}}else if(a.pointerId&&Y&&a.pointerId!==Y)return;if(B)a=$(a,!0);else{if(la&&ra&&!sa&&(c=a.pageX,d=a.pageY,ma&&(f=c*ma[0]+d*ma[2]+ma[4],d=c*ma[1]+d*ma[3]+ma[5],c=f),g=Math.abs(c-j),i=Math.abs(d-k),(g!==i&&(g>Ga||i>Ga)||I&&ra===sa)&&(sa=g>i&&Ea?"x":"y",Ma.vars.lockAxisOnTouchScroll!==!1&&(Ma.lockedAxis="x"===sa?"y":"x","function"==typeof Ma.vars.onLockAxis&&Ma.vars.onLockAxis.call(Ma,l)),I&&ra===sa)))return void sb(l);Ma.allowEventDefault||ra&&(!sa||ra===sa)||l.cancelable===!1||(l.preventDefault(),l.preventManipulation&&l.preventManipulation())}Ma.autoScroll&&(Wa=!0),rb(a.pageX,a.pageY)}},rb=function(a,b){var c,d,e,f,g,h,i=1-Ma.dragResistance,l=1-Ma.edgeResistance;Ma.pointerX=a,Ma.pointerY=b,za?(f=Math.atan2(aa.y-b,a-aa.x)*y,g=Ma.y-f,g>180?(r-=360,Ma.y=f):-180>g&&(r+=360,Ma.y=f),Ma.x!==q||Math.abs(r-f)>Ga?(Ma.y=f,e=q+(r-f)*i):e=q):(ma&&(h=a*ma[0]+b*ma[2]+ma[4],b=a*ma[1]+b*ma[3]+ma[5],a=h),d=b-k,c=a-j,Ga>d&&d>-Ga&&(d=0),Ga>c&&c>-Ga&&(c=0),(Ma.lockAxis||Ma.lockedAxis)&&(c||d)&&(h=Ma.lockedAxis,h||(Ma.lockedAxis=h=Ea&&Math.abs(c)>Math.abs(d)?"y":Fa?"x":null,h&&"function"==typeof Ma.vars.onLockAxis&&Ma.vars.onLockAxis.call(Ma,Ma.pointerEvent)),"y"===h?d=0:"x"===h&&(c=0)),e=q+c*i,f=r+d*i),(ea||fa||ga)&&(Ma.x!==e||Ma.y!==f&&!za)?(ga&&(K.x=e,K.y=f,h=ga(K),e=h.x,f=h.y),ea&&(e=ea(e)),fa&&(f=fa(f))):s&&(e>w?e=w+(e-w)*l:D>e&&(e=D+(e-D)*l),za||(f>G?f=G+(f-G)*l:O>f&&(f=O+(f-O)*l))),za||ma||(e=Math.round(e),f=Math.round(f)),(Ma.x!==e||Ma.y!==f&&!za)&&(za?(Ma.endRotation=Ma.x=Ma.endX=e,ca=!0):(Fa&&(Ma.y=Ma.endY=f,ca=!0),Ea&&(Ma.x=Ma.endX=e,ca=!0)),!Ma.isDragging&&Ma.isPressed&&(Ma.isDragging=!0,ja(Ma,"dragstart","onDragStart")))},sb=function(a,c){if(h&&Ma.isPressed&&(!a||null==Y||c||!(a.pointerId&&a.pointerId!==Y||a.changedTouches&&!La(a.changedTouches,Y)))){Ma.isPressed=!1;var e,f,i,j,k,l=a,m=Ma.isDragging,n=Ma.vars.allowContextMenu&&a&&(a.ctrlKey||a.which>2),o=b.delayedCall(.001,mb);if(la?(Ka(la,"touchend",sb),Ka(la,"touchmove",qb),Ka(la,"touchcancel",sb),Ka(t,"touchstart",Na)):Ka(t,"mousemove",qb),Ka(t,"mouseup",sb),a&&a.target&&Ka(a.target,"mouseup",sb),ca=!1,ha&&!n)return a&&(Ka(a.target,"change",sb),Ma.pointerEvent=l),Qa(Ra,!1),ja(Ma,"release","onRelease"),ja(Ma,"click","onClick"),void(ha=!1);if(Q(db),!za)for(f=Ra.length;--f>-1;)ba(Ra[f],"cursor",g.cursor||"move");if(m&&(Va=J=A(),Ma.isDragging=!1),H--,a){if(B&&(a=$(a,!1)),e=a.changedTouches,e&&(a=e[0],a!==U&&a.identifier!==Y)){for(f=e.length;--f>-1&&(a=e[f]).identifier!==Y;);if(0>f)return}Ma.pointerEvent=l,Ma.pointerX=a.pageX,Ma.pointerY=a.pageY}return n&&l?(l.preventDefault(),l.preventManipulation&&l.preventManipulation(),ja(Ma,"release","onRelease")):l&&!m?(na&&(g.snap||g.bounds)&&ib(g.throwProps),ja(Ma,"release","onRelease"),I&&"touchmove"===l.type||-1!==l.type.indexOf("cancel")||(ja(Ma,"click","onClick"),A()-bb<300&&ja(Ma,"doubleclick","onDoubleClick"),j=l.target||l.srcElement||d,bb=A(),k=function(){bb!==va&&Ma.enabled()&&!Ma.isPressed&&(j.click?j.click():t.createEvent&&(i=t.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,window,1,Ma.pointerEvent.screenX,Ma.pointerEvent.screenY,Ma.pointerX,Ma.pointerY,!1,!1,!1,!1,0,null),j.dispatchEvent(i)))},I||l.defaultPrevented||b.delayedCall(1e-5,k))):(ib(g.throwProps),B||Ma.allowEventDefault||!l||!g.dragClickables&&ab.call(Ma,l.target)||!m||ra&&(!sa||ra!==sa)||l.cancelable===!1||(l.preventDefault(),l.preventManipulation&&l.preventManipulation()),ja(Ma,"release","onRelease")),lb()&&o.duration(Ma.tween.duration()),m&&ja(Ma,"dragend","onDragEnd"),!0}},tb=function(a){if(a&&Ma.isDragging&&!i){var b=a.target||a.srcElement||d.parentNode,c=b.scrollLeft-b._gsScrollX,e=b.scrollTop-b._gsScrollY;(c||e)&&(ma?(j-=c*ma[0]+e*ma[2],k-=e*ma[3]+c*ma[1]):(j-=c,k-=e),b._gsScrollX+=c,b._gsScrollY+=e,rb(Ma.pointerX,Ma.pointerY))}},ub=function(a){var b=A(),c=40>b-bb,d=40>b-Va,e=c&&va===bb,f=!!a.preventDefault,g=Ma.pointerEvent&&Ma.pointerEvent.defaultPrevented,h=c&&wa===bb,i=a.isTrusted||null==a.isTrusted&&c&&e;return f&&(e||d&&Ma.vars.suppressClickOnDrag!==!1)&&a.stopImmediatePropagation(),!c||Ma.pointerEvent&&Ma.pointerEvent.defaultPrevented||e&&i===h?void((Ma.isPressed||d||c)&&(f?i&&a.detail&&c&&!g||(a.preventDefault(),a.preventManipulation&&a.preventManipulation()):a.returnValue=!1)):(i&&e&&(wa=bb),
void(va=bb))},vb=function(a){return ma?{x:a.x*ma[0]+a.y*ma[2]+ma[4],y:a.x*ma[1]+a.y*ma[3]+ma[5]}:{x:a.x,y:a.y}};da=Ta.get(this.target),da&&da.kill(),this.startDrag=function(a,b){var c,e,f,g;pb(a||Ma.pointerEvent,!0),b&&!Ma.hitTest(a||Ma.pointerEvent)&&(c=Xa(a||Ma.pointerEvent),e=Xa(d),f=vb({x:c.left+c.width/2,y:c.top+c.height/2}),g=vb({x:e.left+e.width/2,y:e.top+e.height/2}),j-=f.x-g.x,k-=f.y-g.y),Ma.isDragging||(Ma.isDragging=!0,ja(Ma,"dragstart","onDragStart"))},this.drag=qb,this.endDrag=function(a){sb(a||Ma.pointerEvent,!0)},this.timeSinceDrag=function(){return Ma.isDragging?0:(A()-Va)/1e3},this.timeSinceClick=function(){return(A()-bb)/1e3},this.hitTest=function(a,b){return Ta.hitTest(Ma.target,a,b)},this.getDirection=function(a,b){var c,d,e,g,h,i,j="velocity"===a&&f?a:"object"!=typeof a||za?"start":"element";return"element"===j&&(h=Xa(Ma.target),i=Xa(a)),c="start"===j?Ma.x-q:"velocity"===j?f.getVelocity(this.target,Aa):h.left+h.width/2-(i.left+i.width/2),za?0>c?"counter-clockwise":"clockwise":(b=b||2,d="start"===j?Ma.y-r:"velocity"===j?f.getVelocity(this.target,Da):h.top+h.height/2-(i.top+i.height/2),e=Math.abs(c/d),g=1/b>e?"":0>c?"left":"right",b>e&&(""!==g&&(g+="-"),g+=0>d?"up":"down"),g)},this.applyBounds=function(a){var b,c,e,f,h,i;if(a&&g.bounds!==a)return g.bounds=a,Ma.update(!0);if(eb(!0),fb(),s){if(b=Ma.x,c=Ma.y,b>w?b=w:D>b&&(b=D),c>G?c=G:O>c&&(c=O),(Ma.x!==b||Ma.y!==c)&&(e=!0,Ma.x=Ma.endX=b,za?Ma.endRotation=b:Ma.y=Ma.endY=c,ca=!0,db(!0),Ma.autoScroll&&!Ma.isDragging))for(Z(d.parentNode),f=d,L.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=u.scrollTop?u.scrollTop:t.body.scrollTop,L.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=u.scrollLeft?u.scrollLeft:t.body.scrollLeft;f&&!i;)i=X(f.parentNode),h=i?L:f.parentNode,Fa&&h.scrollTop>h._gsMaxScrollY&&(h.scrollTop=h._gsMaxScrollY),Ea&&h.scrollLeft>h._gsMaxScrollX&&(h.scrollLeft=h._gsMaxScrollX),f=h;Ma.isThrowing&&(e||Ma.endX>w||Ma.endX<D||Ma.endY>G||Ma.endY<O)&&ib(g.throwProps,e)}return Ma},this.update=function(a,b,c){var e=Ma.x,f=Ma.y;return jb(!b),a?Ma.applyBounds():(ca&&c&&db(!0),eb(!0)),b&&(rb(Ma.pointerX,Ma.pointerY),ca&&db(!0)),Ma.isPressed&&!b&&(Ea&&Math.abs(e-Ma.x)>.01||Fa&&Math.abs(f-Ma.y)>.01&&!za)&&kb(),Ma.autoScroll&&(Z(d.parentNode),Wa=Ma.isDragging,db(!0)),Ma.autoScroll&&(W(d,tb),V(d,tb)),Ma},this.enable=function(a){var e,j,k;if("soft"!==a){for(j=Ra.length;--j>-1;)k=Ra[j],Ja(k,"mousedown",pb),Ja(k,"touchstart",pb),Ja(k,"click",ub,!0),za||ba(k,"cursor",g.cursor||"move"),ba(k,"touchCallout","none"),ba(k,"touchAction",Ea===Fa?"none":Ea?"pan-y":"pan-x"),ta(k)&&ba(k.ownerSVGElement||k,"touchAction",Ea===Fa?"none":Ea?"pan-y":"pan-x"),this.vars.allowContextMenu||Ja(k,"contextmenu",cb);Qa(Ra,!1)}return V(d,tb),h=!0,f&&"soft"!==a&&f.track(i||d,ya?"x,y":za?"rotation":"top,left"),i&&i.enable(),d._gsDragID=e="d"+F++,E[e]=this,i&&(i.element._gsDragID=e),b.set(d,{x:"+=0",overwrite:!1,data:"_draggable"}),qa={t:d,data:B?T:d._gsTransform,tween:{},setRatio:B?function(){b.set(d,R)}:c._internals.setTransformRatio||c._internals.set3DTransformRatio},kb(),Ma.update(!0),Ma},this.disable=function(a){var b,c,e=Ma.isDragging;if(!za)for(b=Ra.length;--b>-1;)ba(Ra[b],"cursor",null);if("soft"!==a){for(b=Ra.length;--b>-1;)c=Ra[b],ba(c,"touchCallout",null),ba(c,"touchAction",null),Ka(c,"mousedown",pb),Ka(c,"touchstart",pb),Ka(c,"click",ub),Ka(c,"contextmenu",cb);Qa(Ra,!0),la&&(Ka(la,"touchcancel",sb),Ka(la,"touchend",sb),Ka(la,"touchmove",qb)),Ka(t,"mouseup",sb),Ka(t,"mousemove",qb)}return W(d,tb),h=!1,f&&"soft"!==a&&f.untrack(i||d,ya?"x,y":za?"rotation":"top,left"),i&&i.disable(),Q(db),Ma.isDragging=Ma.isPressed=ha=!1,e&&ja(Ma,"dragend","onDragEnd"),Ma},this.enabled=function(a,b){return arguments.length?a?Ma.enable(b):Ma.disable(b):h},this.kill=function(){return Ma.isThrowing=!1,b.killTweensOf(i||d,!0,Ua),Ma.disable(),b.set(Ra,{clearProps:"userSelect"}),delete E[d._gsDragID],Ma},-1!==xa.indexOf("scroll")&&(i=this.scrollProxy=new Sa(d,S({onKill:function(){Ma.isPressed&&sb(null)}},g)),d.style.overflowY=Fa&&!Ha?"auto":"hidden",d.style.overflowX=Ea&&!Ha?"auto":"hidden",d=i.content),g.force3D!==!1&&b.set(d,{force3D:!0}),za?Ua.rotation=1:(Ea&&(Ua[Aa]=1),Fa&&(Ua[Da]=1)),za?(R=o,T=R.css,R.overwrite=!1):ya&&(R=Ea&&Fa?l:Ea?m:n,T=R.css,R.overwrite=!1),this.enable()},Ua=Ta.prototype=new a;Ua.constructor=Ta,Ua.pointerX=Ua.pointerY=Ua.startX=Ua.startY=Ua.deltaX=Ua.deltaY=0,Ua.isDragging=Ua.isPressed=!1,Ta.version="0.16.5",Ta.zIndex=1e3,Ja(t,"touchcancel",function(){}),Ja(t,"contextmenu",function(a){var b;for(b in E)E[b].isPressed&&E[b].endDrag()}),Ta.create=function(a,c){"string"==typeof a&&(a=b.selector(a));for(var d=a&&0!==a.length?Fa(a)?Ga(a):[a]:[],e=d.length;--e>-1;)d[e]=new Ta(d[e],c);return d},Ta.get=function(a){return E[(_(a)||{})._gsDragID]},Ta.timeSinceDrag=function(){return(A()-J)/1e3};var Va={},Wa=function(a){var b,c,d=0,e=0;for(a=_(a),b=a.offsetWidth,c=a.offsetHeight;a;)d+=a.offsetTop,e+=a.offsetLeft,a=a.offsetParent;return{top:d,left:e,width:b,height:c}},Xa=function(a,b){if(a===window)return Va.left=Va.top=0,Va.width=Va.right=u.clientWidth||a.innerWidth||t.body.clientWidth||0,Va.height=Va.bottom=(a.innerHeight||0)-20<u.clientHeight?u.clientHeight:a.innerHeight||t.body.clientHeight||0,Va;var c=a.pageX!==b?{left:a.pageX-U(),top:a.pageY-T(),right:a.pageX-U()+1,bottom:a.pageY-T()+1}:a.nodeType||a.left===b||a.top===b?B?Wa(a):_(a).getBoundingClientRect():a;return c.right===b&&c.width!==b?(c.right=c.left+c.width,c.bottom=c.top+c.height):c.width===b&&(c={width:c.right-c.left,height:c.bottom-c.top,right:c.right,left:c.left,bottom:c.bottom,top:c.top}),c};return Ta.hitTest=function(a,b,c){if(a===b)return!1;var d,e,f,g=Xa(a),h=Xa(b),i=h.left>g.right||h.right<g.left||h.top>g.bottom||h.bottom<g.top;return i||!c?!i:(f=-1!==(c+"").indexOf("%"),c=parseFloat(c)||0,d={left:Math.max(g.left,h.left),top:Math.max(g.top,h.top)},d.width=Math.min(g.right,h.right)-d.left,d.height=Math.min(g.bottom,h.bottom)-d.top,d.width<0||d.height<0?!1:f?(c*=.01,e=d.width*d.height,e>=g.width*g.height*c||e>=h.width*h.height*c):d.width>c&&d.height>c)},C.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Ta},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"undefined"!=typeof module&&module.exports?(require("../TweenLite.min.js"),require("../plugins/CSSPlugin.min.js"),module.exports=b()):"function"==typeof define&&define.amd&&define(["TweenLite","CSSPlugin"],b)}("Draggable");
/*
 Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
*/
(function(){var b,f;b=this.jQuery||window.jQuery;f=b(window);b.fn.stick_in_parent=function(d){var A,w,J,n,B,K,p,q,k,E,t;null==d&&(d={});t=d.sticky_class;B=d.inner_scrolling;E=d.recalc_every;k=d.parent;q=d.offset_top;p=d.spacer;w=d.bottoming;null==q&&(q=0);null==k&&(k=void 0);null==B&&(B=!0);null==t&&(t="is_stuck");A=b(document);null==w&&(w=!0);J=function(a,d,n,C,F,u,r,G){var v,H,m,D,I,c,g,x,y,z,h,l;if(!a.data("sticky_kit")){a.data("sticky_kit",!0);I=A.height();g=a.parent();null!=k&&(g=g.closest(k));
if(!g.length)throw"failed to find stick parent";v=m=!1;(h=null!=p?p&&a.closest(p):b("<div />"))&&h.css("position",a.css("position"));x=function(){var c,f,e;if(!G&&(I=A.height(),c=parseInt(g.css("border-top-width"),10),f=parseInt(g.css("padding-top"),10),d=parseInt(g.css("padding-bottom"),10),n=g.offset().top+c+f,C=g.height(),m&&(v=m=!1,null==p&&(a.insertAfter(h),h.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(t),e=!0),F=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-q,
u=a.outerHeight(!0),r=a.css("float"),h&&h.css({width:a.outerWidth(!0),height:u,display:a.css("display"),"vertical-align":a.css("vertical-align"),"float":r}),e))return l()};x();if(u!==C)return D=void 0,c=q,z=E,l=function(){var b,l,e,k;if(!G&&(e=!1,null!=z&&(--z,0>=z&&(z=E,x(),e=!0)),e||A.height()===I||x(),e=f.scrollTop(),null!=D&&(l=e-D),D=e,m?(w&&(k=e+u+c>C+n,v&&!k&&(v=!1,a.css({position:"fixed",bottom:"",top:c}).trigger("sticky_kit:unbottom"))),e<F&&(m=!1,c=q,null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),
h.detach()),b={position:"",width:"",top:""},a.css(b).removeClass(t).trigger("sticky_kit:unstick")),B&&(b=f.height(),u+q>b&&!v&&(c-=l,c=Math.max(b-u,c),c=Math.min(q,c),m&&a.css({top:c+"px"})))):e>F&&(m=!0,b={position:"fixed",top:c},b.width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(b).addClass(t),null==p&&(a.after(h),"left"!==r&&"right"!==r||h.append(a)),a.trigger("sticky_kit:stick")),m&&w&&(null==k&&(k=e+u+c>C+n),!v&&k)))return v=!0,"static"===g.css("position")&&g.css({position:"relative"}),
a.css({position:"absolute",bottom:d,top:"auto"}).trigger("sticky_kit:bottom")},y=function(){x();return l()},H=function(){G=!0;f.off("touchmove",l);f.off("scroll",l);f.off("resize",y);b(document.body).off("sticky_kit:recalc",y);a.off("sticky_kit:detach",H);a.removeData("sticky_kit");a.css({position:"",bottom:"",top:"",width:""});g.position("position","");if(m)return null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.remove()),a.removeClass(t)},f.on("touchmove",l),f.on("scroll",l),f.on("resize",
y),b(document.body).on("sticky_kit:recalc",y),a.on("sticky_kit:detach",H),setTimeout(l,0)}};n=0;for(K=this.length;n<K;n++)d=this[n],J(b(d));return this}}).call(this);

/**
  stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
  @version v3.6.4
  @link https://github.com/dollarshaveclub/stickybits#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (https://jeffry.in)
  @license MIT
**/
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):(t=t||self).stickybits=s()}(this,function(){"use strict";var e=function(){function t(t,s){var e=void 0!==s?s:{};this.version="3.6.4",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={customStickyChangeNumber:e.customStickyChangeNumber||null,noStyles:e.noStyles||!1,stickyBitStickyOffset:e.stickyBitStickyOffset||0,parentClass:e.parentClass||"js-stickybit-parent",scrollEl:"string"==typeof e.scrollEl?document.querySelector(e.scrollEl):e.scrollEl||window,stickyClass:e.stickyClass||"js-is-sticky",stuckClass:e.stuckClass||"js-is-stuck",stickyChangeClass:e.stickyChangeClass||"js-is-sticky--change",useStickyClasses:e.useStickyClasses||!1,useFixed:e.useFixed||!1,useGetBoundingClientRect:e.useGetBoundingClientRect||!1,verticalPosition:e.verticalPosition||"top"},this.props.positionVal=this.definePosition()||"fixed",this.instances=[];var i=this.props,n=i.positionVal,o=i.verticalPosition,r=i.noStyles,a=i.stickyBitStickyOffset,l=i.useStickyClasses,c="top"!==o||r?"":a+"px",u="fixed"!==n?n:"";this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]);for(var f=0;f<this.els.length;f++){var p=this.els[f];p.style[o]=c,p.style.position=u,("fixed"===n||l)&&this.instances.push(this.addInstance(p,this.props))}}var s=t.prototype;return s.definePosition=function(){var t;if(this.props.useFixed)t="fixed";else{for(var s=["","-o-","-webkit-","-moz-","-ms-"],e=document.head.style,i=0;i<s.length;i+=1)e.position=s[i]+"sticky";t=e.position?e.position:"fixed",e.position=""}return t},s.addInstance=function(t,s){var e=this,i={el:t,parent:t.parentNode,props:s};this.isWin=this.props.scrollEl===window;var n=this.isWin?window:this.getClosestParent(i.el,i.props.scrollEl);return this.computeScrollOffsets(i),i.parent.className+=" "+s.parentClass,i.state="default",i.stateContainer=function(){return e.manageState(i)},n.addEventListener("scroll",i.stateContainer),i},s.getClosestParent=function(t,s){var e=s,i=t;if(i.parentElement===e)return e;for(;i.parentElement!==e;)i=i.parentElement;return e},s.getTopPosition=function(t){if(this.props.useGetBoundingClientRect)return t.getBoundingClientRect().top+(this.props.scrollEl.pageYOffset||document.documentElement.scrollTop);for(var s=0;s=t.offsetTop+s,t=t.offsetParent;);return s},s.computeScrollOffsets=function(t){var s=t,e=s.props,i=s.el,n=s.parent,o=!this.isWin&&"fixed"===e.positionVal,r="bottom"!==e.verticalPosition,a=o?this.getTopPosition(e.scrollEl):0,l=o?this.getTopPosition(n)-a:this.getTopPosition(n),c=null!==e.customStickyChangeNumber?e.customStickyChangeNumber:i.offsetHeight,u=l+n.offsetHeight;s.offset=a+e.stickyBitStickyOffset,s.stickyStart=r?l:0,s.stickyChange=s.stickyStart+c,s.stickyStop=r?u-(i.offsetHeight+s.offset):u-window.innerHeight},s.toggleClasses=function(t,s,e){var i=t,n=i.className.split(" ");e&&-1===n.indexOf(e)&&n.push(e);var o=n.indexOf(s);-1!==o&&n.splice(o,1),i.className=n.join(" ")},s.manageState=function(t){var s=t,e=s.el,i=s.props,n=s.state,o=s.stickyStart,r=s.stickyChange,a=s.stickyStop,l=e.style,c=i.noStyles,u=i.positionVal,f=i.scrollEl,p=i.stickyClass,h=i.stickyChangeClass,d=i.stuckClass,y=i.verticalPosition,m="bottom"!==y,g=function(t){t()},k=this.isWin&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)||g,v=this.toggleClasses,C=this.isWin?window.scrollY||window.pageYOffset:f.scrollTop,S=m&&C<=o&&("sticky"===n||"stuck"===n),w=a<=C&&"sticky"===n;o<C&&C<a&&("default"===n||"stuck"===n)?(s.state="sticky",k(function(){v(e,d,p),l.position=u,c||(l.bottom="",l[y]=s.offset+"px")})):S?(s.state="default",k(function(){v(e,p),v(e,d),"fixed"===u&&(l.position="")})):w&&(s.state="stuck",k(function(){v(e,p,d),"fixed"!==u||c||(l.top="",l.bottom="0",l.position="absolute")}));var b=r<=C&&C<=a;C<r/2||a<C?k(function(){v(e,h)}):b&&k(function(){v(e,"stub",h)})},s.update=function(t){void 0===t&&(t=null);for(var s=0;s<this.instances.length;s+=1){var e=this.instances[s];if(this.computeScrollOffsets(e),t)for(var i in t)e.props[i]=t[i]}return this},s.removeInstance=function(t){var s=t.el,e=t.props,i=this.toggleClasses;s.style.position="",s.style[e.verticalPosition]="",i(s,e.stickyClass),i(s,e.stuckClass),i(s.parentNode,e.parentClass)},s.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var s=this.instances[t];s.props.scrollEl.removeEventListener("scroll",s.stateContainer),this.removeInstance(s)}this.manageState=!1,this.instances=[]},t}();return function(t,s){return new e(t,s)}});

/**
 * sticky-sidebar - A JavaScript plugin for making smart and high performance.
 * @version v3.3.1
 * @link https://github.com/abouolia/sticky-sidebar
 * @author Ahmed Bouhuolia
 * @license The MIT License (MIT)
**/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.StickySidebar={})}(this,function(t){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,i,n=(function(t,e){(function(t){Object.defineProperty(t,"__esModule",{value:!0});var l,n,e=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),i=(l=".stickySidebar",n={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1},function(){function c(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.options=c.extend(n,i),this.sidebar="string"==typeof t?document.querySelector(t):t,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this.dimensions={translateY:0,maxTranslateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach(function(t){e[t]=e[t].bind(e)}),this.initialize()}return e(c,[{key:"initialize",value:function(){var i=this;if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){var t=document.createElement("div");for(t.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(t);this.sidebar.firstChild!=t;)t.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){var e=document.querySelectorAll(this.options.containerSelector);if((e=Array.prototype.slice.call(e)).forEach(function(t,e){t.contains(i.sidebar)&&(i.container=t)}),!e.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}},{key:"bindEvents",value:function(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+l,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}},{key:"handleEvent",value:function(t){this.updateSticky(t)}},{key:"calcDimensions",value:function(){if(!this._breakpoint){var t=this.dimensions;t.containerTop=c.offsetRelative(this.container).top,t.containerHeight=this.container.clientHeight,t.containerBottom=t.containerTop+t.containerHeight,t.sidebarHeight=this.sidebarInner.offsetHeight,t.sidebarWidth=this.sidebarInner.offsetWidth,t.viewportHeight=window.innerHeight,t.maxTranslateY=t.containerHeight-t.sidebarHeight,this._calcDimensionsWithScroll()}}},{key:"_calcDimensionsWithScroll",value:function(){var t=this.dimensions;t.sidebarLeft=c.offsetRelative(this.sidebar).left,t.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,t.viewportBottom=t.viewportTop+t.viewportHeight,t.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,t.topSpacing=this.options.topSpacing,t.bottomSpacing=this.options.bottomSpacing,"function"==typeof t.topSpacing&&(t.topSpacing=parseInt(t.topSpacing(this.sidebar))||0),"function"==typeof t.bottomSpacing&&(t.bottomSpacing=parseInt(t.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?t.topSpacing<t.lastTopSpacing&&(t.translateY+=t.lastTopSpacing-t.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&t.bottomSpacing<t.lastBottomSpacing&&(t.translateY+=t.lastBottomSpacing-t.bottomSpacing,this._reStyle=!0),t.lastTopSpacing=t.topSpacing,t.lastBottomSpacing=t.bottomSpacing}},{key:"isSidebarFitsViewport",value:function(){var t=this.dimensions,e="down"===this.scrollDirection?t.lastBottomSpacing:t.lastTopSpacing;return this.dimensions.sidebarHeight+e<this.dimensions.viewportHeight}},{key:"observeScrollDir",value:function(){var t=this.dimensions;if(t.lastViewportTop!==t.viewportTop){var e="down"===this.direction?Math.min:Math.max;t.viewportTop===e(t.viewportTop,t.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}},{key:"getAffixType",value:function(){this._calcDimensionsWithScroll();var t=this.dimensions,e=t.viewportTop+t.topSpacing,i=this.affixedType;return e<=t.containerTop||t.containerHeight<=t.sidebarHeight?(t.translateY=0,i="STATIC"):i="up"===this.direction?this._getAffixTypeScrollingUp():this._getAffixTypeScrollingDown(),t.translateY=Math.max(0,t.translateY),t.translateY=Math.min(t.containerHeight,t.translateY),t.translateY=Math.round(t.translateY),t.lastViewportTop=t.viewportTop,i}},{key:"_getAffixTypeScrollingDown",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,i=t.viewportTop+t.topSpacing,n=t.viewportBottom-t.bottomSpacing,o=this.affixedType;return this.isSidebarFitsViewport()?t.sidebarHeight+i>=t.containerBottom?(t.translateY=t.containerBottom-e,o="CONTAINER-BOTTOM"):i>=t.containerTop&&(t.translateY=i-t.containerTop,o="VIEWPORT-TOP"):t.containerBottom<=n?(t.translateY=t.containerBottom-e,o="CONTAINER-BOTTOM"):e+t.translateY<=n?(t.translateY=n-e,o="VIEWPORT-BOTTOM"):t.containerTop+t.translateY<=i&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(o="VIEWPORT-UNBOTTOM"),o}},{key:"_getAffixTypeScrollingUp",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,i=t.viewportTop+t.topSpacing,n=t.viewportBottom-t.bottomSpacing,o=this.affixedType;return i<=t.translateY+t.containerTop?(t.translateY=i-t.containerTop,o="VIEWPORT-TOP"):t.containerBottom<=n?(t.translateY=t.containerBottom-e,o="CONTAINER-BOTTOM"):this.isSidebarFitsViewport()||t.containerTop<=i&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(o="VIEWPORT-UNBOTTOM"),o}},{key:"_getStyle",value:function(t){if(void 0!==t){var e={inner:{},outer:{}},i=this.dimensions;switch(t){case"VIEWPORT-TOP":e.inner={position:"fixed",top:i.topSpacing + VietinBank.headertransform.height(),left:i.sidebarLeft-i.viewportLeft,width:i.sidebarWidth};break;case"VIEWPORT-BOTTOM":e.inner={position:"fixed",top:"auto",left:i.sidebarLeft,bottom:i.bottomSpacing,width:i.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":var n=this._getTranslate(0,i.translateY+"px");e.inner=n?{transform:n}:{position:"absolute",top:i.translateY,width:i.sidebarWidth}}switch(t){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":e.outer={height:i.sidebarHeight,position:"relative"}}return e.outer=c.extend({height:"",position:""},e.outer),e.inner=c.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:""},e.inner),e}}},{key:"stickyPosition",value:function(t){if(!this._breakpoint){t=this._reStyle||t||!1,this.options.topSpacing,this.options.bottomSpacing;var e=this.getAffixType(),i=this._getStyle(e);if((this.affixedType!=e||t)&&e){var n="affix."+e.toLowerCase().replace("viewport-","")+l;for(var o in c.eventTrigger(this.sidebar,n),"STATIC"===e?c.removeClass(this.sidebar,this.options.stickyClass):c.addClass(this.sidebar,this.options.stickyClass),i.outer){var s="number"==typeof i.outer[o]?"px":"";this.sidebar.style[o]=i.outer[o]+s}for(var r in i.inner){var a="number"==typeof i.inner[r]?"px":"";this.sidebarInner.style[r]=i.inner[r]+a}var p="affixed."+e.toLowerCase().replace("viewport-","")+l;c.eventTrigger(this.sidebar,p)}else this._initialized&&(this.sidebarInner.style.left=i.inner.left);this.affixedType=e}}},{key:"_widthBreakpoint",value:function(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),c.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}},{key:"updateSticky",value:function(){var t,e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._running||(this._running=!0,t=i.type,requestAnimationFrame(function(){switch(t){case"scroll":e._calcDimensionsWithScroll(),e.observeScrollDir(),e.stickyPosition();break;case"resize":default:e._widthBreakpoint(),e.calcDimensions(),e.stickyPosition(!0)}e._running=!1}))}},{key:"_setSupportFeatures",value:function(){var t=this.support;t.transform=c.supportTransform(),t.transform3d=c.supportTransform(!0)}},{key:"_getTranslate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return this.support.transform3d?"translate3d("+t+", "+e+", "+i+")":!!this.support.translate&&"translate("+t+", "+e+")"}},{key:"destroy",value:function(){window.removeEventListener("resize",this,{capture:!1}),window.removeEventListener("scroll",this,{capture:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+l,this);var t={inner:{},outer:{}};for(var e in t.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},t.outer={height:"",position:""},t.outer)this.sidebar.style[e]=t.outer[e];for(var i in t.inner)this.sidebarInner.style[i]=t.inner[i];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}}],[{key:"supportTransform",value:function(t){var i=!1,e=t?"perspective":"transform",n=e.charAt(0).toUpperCase()+e.slice(1),o=document.createElement("support").style;return(e+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ").forEach(function(t,e){if(void 0!==o[t])return i=t,!1}),i}},{key:"eventTrigger",value:function(t,e,i){try{var n=new CustomEvent(e,{detail:i})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i)}t.dispatchEvent(n)}},{key:"extend",value:function(t,e){var i={};for(var n in t)void 0!==e[n]?i[n]=e[n]:i[n]=t[n];return i}},{key:"offsetRelative",value:function(t){var e={left:0,top:0};do{var i=t.offsetTop,n=t.offsetLeft;isNaN(i)||(e.top+=i),isNaN(n)||(e.left+=n),t="BODY"===t.tagName?t.parentElement:t.offsetParent}while(t);return e}},{key:"addClass",value:function(t,e){c.hasClass(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)}},{key:"removeClass",value:function(t,e){c.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{key:"defaults",get:function(){return n}}]),c}());t.default=i,window.StickySidebar=i})(e)}(e={exports:{}},e.exports),e.exports),o=(i=n)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;t.default=o,t.__moduleExports=n,Object.defineProperty(t,"__esModule",{value:!0})});
!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0});var l=!1;if("undefined"!=typeof window){var e={get passive(){l=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var d="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],u=!1,a=-1,s=void 0,v=void 0,f=function(t){return c.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},m=function(e){var t=e||window.event;return!!f(t.target)||(1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1))},o=function(){setTimeout(function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)})};exports.disableBodyScroll=function(i,e){if(d){if(!i)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(i&&!c.some(function(e){return e.targetElement===i})){var t={targetElement:i,options:e||{}};c=[].concat(r(c),[t]),i.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,o,n,r;1===e.targetTouches.length&&(o=i,r=(t=e).targetTouches[0].clientY-a,!f(t.target)&&(o&&0===o.scrollTop&&0<r?m(t):(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&r<0?m(t):t.stopPropagation()))},u||(document.addEventListener("touchmove",m,l?{passive:!1}:void 0),u=!0)}}else{n=e,setTimeout(function(){if(void 0===v){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(v=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow="hidden")});var o={targetElement:i,options:e||{}};c=[].concat(r(c),[o])}var n},exports.clearAllBodyScrollLocks=function(){d?(c.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),u&&(document.removeEventListener("touchmove",m,l?{passive:!1}:void 0),u=!1),c=[],a=-1):(o(),c=[])},exports.enableBodyScroll=function(t){if(d){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,c=c.filter(function(e){return e.targetElement!==t}),u&&0===c.length&&(document.removeEventListener("touchmove",m,l?{passive:!1}:void 0),u=!1)}else 1===c.length&&c[0].targetElement===t?(o(),c=[]):c=c.filter(function(e){return e.targetElement!==t})}});
/**
 * @fileoverview dragscroll - scroll area by dragging
 * @version 0.0.8
 * 
 * @license MIT, see http://github.com/asvd/dragscroll
 * @copyright 2015 asvd <heliosframework@gmail.com> 
 */
(function(root,factory){if(typeof define==='function'&&define.amd){define(['exports'],factory)}else if(typeof exports!=='undefined'){factory(exports)}else{factory((root.dragscroll={}))}}(this,function(exports){var _window=window;var _document=document;var mousemove='mousemove';var mouseup='mouseup';var mousedown='mousedown';var EventListener='EventListener';var addEventListener='add'+EventListener;var removeEventListener='remove'+EventListener;var newScrollX,newScrollY;var dragged=[];var reset=function(i,el){for(i=0;i<dragged.length;){el=dragged[i++];el=el.container||el;el[removeEventListener](mousedown,el.md,0);_window[removeEventListener](mouseup,el.mu,0);_window[removeEventListener](mousemove,el.mm,0)}
dragged=[].slice.call(_document.getElementsByClassName('styled-nav'));for(i=0;i<dragged.length;){(function(el,lastClientX,lastClientY,pushed,scroller,cont){(cont=el.container||el)[addEventListener](mousedown,cont.md=function(e){if(!el.hasAttribute('nochilddrag')||_document.elementFromPoint(e.pageX,e.pageY)==cont){pushed=1;lastClientX=e.clientX;lastClientY=e.clientY;e.preventDefault()}},0);_window[addEventListener](mouseup,cont.mu=function(){pushed=0},0);_window[addEventListener](mousemove,cont.mm=function(e){if(pushed){(scroller=el.scroller||el).scrollLeft-=newScrollX=(-lastClientX+(lastClientX=e.clientX));scroller.scrollTop-=newScrollY=(-lastClientY+(lastClientY=e.clientY));if(el==_document.body){(scroller=_document.documentElement).scrollLeft-=newScrollX;scroller.scrollTop-=newScrollY}}},0)})(dragged[i++])}}
if(_document.readyState=='complete'){reset()}else{_window[addEventListener]('load',reset,0)}
exports.reset=reset}))
/**
 * @license
 * Lodash lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 */
;(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&false!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&false!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return false;
return true}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!(null==n||!n.length)&&-1<v(n,t,0)}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return true;return false}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);
return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return true;return false}function p(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,false}),e}function _(n,t,r,e){var u=n.length;for(r+=e?1:-1;e?r--:++r<u;)if(t(n[r],r,n))return r;return-1}function v(n,t,r){if(t===t)n:{--r;for(var e=n.length;++r<e;)if(n[r]===t){n=r;break n}n=-1}else n=_(n,d,r);return n}function g(n,t,r,e){
--r;for(var u=n.length;++r<u;)if(e(n[r],t))return r;return-1}function d(n){return n!==n}function y(n,t){var r=null==n?0:n.length;return r?m(n,t)/r:F}function b(n){return function(t){return null==t?T:t[n]}}function x(n){return function(t){return null==n?T:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=false,n):t(r,n,u,i)}),r}function w(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function m(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==T&&(r=r===T?i:r+i)}return r;
}function A(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function E(n,t){return c(t,function(t){return[t,n[t]]})}function k(n){return function(t){return n(t)}}function S(n,t){return c(t,function(t){return n[t]})}function O(n,t){return n.has(t)}function I(n,t){for(var r=-1,e=n.length;++r<e&&-1<v(t,n[r],0););return r}function R(n,t){for(var r=n.length;r--&&-1<v(t,n[r],0););return r}function z(n){return"\\"+Un[n]}function W(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n];
}),r}function B(n,t){return function(r){return n(t(r))}}function L(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&"__lodash_placeholder__"!==o||(n[r]="__lodash_placeholder__",i[u++]=r)}return i}function U(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function C(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function D(n){if(Rn.test(n)){for(var t=On.lastIndex=0;On.test(n);)++t;n=t}else n=Qn(n);return n}function M(n){return Rn.test(n)?n.match(On)||[]:n.split("");
}var T,$=1/0,F=NaN,N=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],P=/\b__p\+='';/g,Z=/\b(__p\+=)''\+/g,q=/(__e\(.*?\)|\b__t\))\+'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp(V.source),H=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nn=/^\w*$/,tn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rn=/[\\^$.*+?()[\]{}|]/g,en=RegExp(rn.source),un=/^\s+|\s+$/g,on=/^\s+/,fn=/\s+$/,cn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,an=/\{\n\/\* \[wrapped with (.+)\] \*/,ln=/,? & /,sn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hn=/\\(\\)?/g,pn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_n=/\w*$/,vn=/^[-+]0x[0-9a-f]+$/i,gn=/^0b[01]+$/i,dn=/^\[object .+?Constructor\]$/,yn=/^0o[0-7]+$/i,bn=/^(?:0|[1-9]\d*)$/,xn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jn=/($^)/,wn=/['\n\r\u2028\u2029\\]/g,mn="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",An="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+mn,En="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",kn=RegExp("['\u2019]","g"),Sn=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),On=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+En+mn,"g"),In=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",An].join("|"),"g"),Rn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),zn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wn="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Bn={};
Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=true,Bn["[object Arguments]"]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object Boolean]"]=Bn["[object DataView]"]=Bn["[object Date]"]=Bn["[object Error]"]=Bn["[object Function]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn["[object Object]"]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object WeakMap]"]=false;
var Ln={};Ln["[object Arguments]"]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object DataView]"]=Ln["[object Boolean]"]=Ln["[object Date]"]=Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln["[object Object]"]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object Symbol]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=true,
Ln["[object Error]"]=Ln["[object Function]"]=Ln["[object WeakMap]"]=false;var Un={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,Dn=parseInt,Mn=typeof global=="object"&&global&&global.Object===Object&&global,Tn=typeof self=="object"&&self&&self.Object===Object&&self,$n=Mn||Tn||Function("return this")(),Fn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nn=Fn&&typeof module=="object"&&module&&!module.nodeType&&module,Pn=Nn&&Nn.exports===Fn,Zn=Pn&&Mn.process,qn=function(){
try{var n=Nn&&Nn.f&&Nn.f("util").types;return n?n:Zn&&Zn.binding&&Zn.binding("util")}catch(n){}}(),Vn=qn&&qn.isArrayBuffer,Kn=qn&&qn.isDate,Gn=qn&&qn.isMap,Hn=qn&&qn.isRegExp,Jn=qn&&qn.isSet,Yn=qn&&qn.isTypedArray,Qn=b("length"),Xn=x({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I",
"\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C",
"\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i",
"\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r",
"\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij",
"\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),nt=x({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),tt=x({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),rt=function x(mn){function An(n){if(yu(n)&&!ff(n)&&!(n instanceof Un)){if(n instanceof On)return n;if(oi.call(n,"__wrapped__"))return Fe(n)}return new On(n)}function En(){}function On(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=T}function Un(n){this.__wrapped__=n,
this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Mn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Tn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Fn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Nn(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new Fn;++t<r;)this.add(n[t]);
}function Zn(n){this.size=(this.__data__=new Tn(n)).size}function qn(n,t){var r,e=ff(n),u=!e&&of(n),i=!e&&!u&&af(n),o=!e&&!u&&!i&&_f(n),u=(e=e||u||i||o)?A(n.length,ni):[],f=u.length;for(r in n)!t&&!oi.call(n,r)||e&&("length"==r||i&&("offset"==r||"parent"==r)||o&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||Se(r,f))||u.push(r);return u}function Qn(n){var t=n.length;return t?n[ir(0,t-1)]:T}function et(n,t){return De(Ur(n),pt(t,0,n.length))}function ut(n){return De(Ur(n))}function it(n,t,r){(r===T||lu(n[t],r))&&(r!==T||t in n)||st(n,t,r);
}function ot(n,t,r){var e=n[t];oi.call(n,t)&&lu(e,r)&&(r!==T||t in n)||st(n,t,r)}function ft(n,t){for(var r=n.length;r--;)if(lu(n[r][0],t))return r;return-1}function ct(n,t,r,e){return uo(n,function(n,u,i){t(e,n,r(n),i)}),e}function at(n,t){return n&&Cr(t,Wu(t),n)}function lt(n,t){return n&&Cr(t,Bu(t),n)}function st(n,t,r){"__proto__"==t&&Ai?Ai(n,t,{configurable:true,enumerable:true,value:r,writable:true}):n[t]=r}function ht(n,t){for(var r=-1,e=t.length,u=Ku(e),i=null==n;++r<e;)u[r]=i?T:Ru(n,t[r]);return u;
}function pt(n,t,r){return n===n&&(r!==T&&(n=n<=r?n:r),t!==T&&(n=n>=t?n:t)),n}function _t(n,t,e,u,i,o){var f,c=1&t,a=2&t,l=4&t;if(e&&(f=i?e(n,u,i,o):e(n)),f!==T)return f;if(!du(n))return n;if(u=ff(n)){if(f=me(n),!c)return Ur(n,f)}else{var s=vo(n),h="[object Function]"==s||"[object GeneratorFunction]"==s;if(af(n))return Ir(n,c);if("[object Object]"==s||"[object Arguments]"==s||h&&!i){if(f=a||h?{}:Ae(n),!c)return a?Mr(n,lt(f,n)):Dr(n,at(f,n))}else{if(!Ln[s])return i?n:{};f=Ee(n,s,c)}}if(o||(o=new Zn),
i=o.get(n))return i;o.set(n,f),pf(n)?n.forEach(function(r){f.add(_t(r,t,e,r,n,o))}):sf(n)&&n.forEach(function(r,u){f.set(u,_t(r,t,e,u,n,o))});var a=l?a?ve:_e:a?Bu:Wu,p=u?T:a(n);return r(p||n,function(r,u){p&&(u=r,r=n[u]),ot(f,u,_t(r,t,e,u,n,o))}),f}function vt(n){var t=Wu(n);return function(r){return gt(r,n,t)}}function gt(n,t,r){var e=r.length;if(null==n)return!e;for(n=Qu(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===T&&!(u in n)||!i(o))return false}return true}function dt(n,t,r){if(typeof n!="function")throw new ti("Expected a function");
return bo(function(){n.apply(T,r)},t)}function yt(n,t,r,e){var u=-1,i=o,a=true,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=c(t,k(r))),e?(i=f,a=false):200<=t.length&&(i=O,a=false,t=new Nn(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p),p=e||0!==p?p:0;if(a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function bt(n,t){var r=true;return uo(n,function(n,e,u){return r=!!t(n,e,u)}),r}function xt(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===T?o===o&&!wu(o):r(o,f)))var f=o,c=i;
}return c}function jt(n,t){var r=[];return uo(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function wt(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=ke),u||(u=[]);++i<o;){var f=n[i];0<t&&r(f)?1<t?wt(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function mt(n,t){return n&&oo(n,t,Wu)}function At(n,t){return n&&fo(n,t,Wu)}function Et(n,t){return i(t,function(t){return _u(n[t])})}function kt(n,t){t=Sr(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Me(t[r++])];return r&&r==e?n:T}function St(n,t,r){return t=t(n),
ff(n)?t:a(t,r(n))}function Ot(n){if(null==n)n=n===T?"[object Undefined]":"[object Null]";else if(mi&&mi in Qu(n)){var t=oi.call(n,mi),r=n[mi];try{n[mi]=T;var e=true}catch(n){}var u=ai.call(n);e&&(t?n[mi]=r:delete n[mi]),n=u}else n=ai.call(n);return n}function It(n,t){return n>t}function Rt(n,t){return null!=n&&oi.call(n,t)}function zt(n,t){return null!=n&&t in Qu(n)}function Wt(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=Ku(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,k(t))),s=Ci(p.length,s),
l[a]=!r&&(t||120<=u&&120<=p.length)?new Nn(a&&p):T}var p=n[0],_=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],d=t?t(g):g,g=r||0!==g?g:0;if(v?!O(v,d):!e(h,d,r)){for(a=i;--a;){var y=l[a];if(y?!O(y,d):!e(n[a],d,r))continue n}v&&v.push(d),h.push(g)}}return h}function Bt(n,t,r){var e={};return mt(n,function(n,u,i){t(e,r(n),u,i)}),e}function Lt(t,r,e){return r=Sr(r,t),t=2>r.length?t:kt(t,hr(r,0,-1)),r=null==t?t:t[Me(Ve(r))],null==r?T:n(r,t,e)}function Ut(n){return yu(n)&&"[object Arguments]"==Ot(n)}function Ct(n){
return yu(n)&&"[object ArrayBuffer]"==Ot(n)}function Dt(n){return yu(n)&&"[object Date]"==Ot(n)}function Mt(n,t,r,e,u){if(n===t)t=true;else if(null==n||null==t||!yu(n)&&!yu(t))t=n!==n&&t!==t;else n:{var i=ff(n),o=ff(t),f=i?"[object Array]":vo(n),c=o?"[object Array]":vo(t),f="[object Arguments]"==f?"[object Object]":f,c="[object Arguments]"==c?"[object Object]":c,a="[object Object]"==f,o="[object Object]"==c;if((c=f==c)&&af(n)){if(!af(t)){t=false;break n}i=true,a=false}if(c&&!a)u||(u=new Zn),t=i||_f(n)?se(n,t,r,e,Mt,u):he(n,t,f,r,e,Mt,u);else{
if(!(1&r)&&(i=a&&oi.call(n,"__wrapped__"),f=o&&oi.call(t,"__wrapped__"),i||f)){n=i?n.value():n,t=f?t.value():t,u||(u=new Zn),t=Mt(n,t,r,e,u);break n}if(c)t:if(u||(u=new Zn),i=1&r,f=_e(n),o=f.length,c=_e(t).length,o==c||i){for(a=o;a--;){var l=f[a];if(!(i?l in t:oi.call(t,l))){t=false;break t}}if((c=u.get(n))&&u.get(t))t=c==t;else{c=true,u.set(n,t),u.set(t,n);for(var s=i;++a<o;){var l=f[a],h=n[l],p=t[l];if(e)var _=i?e(p,h,l,t,n,u):e(h,p,l,n,t,u);if(_===T?h!==p&&!Mt(h,p,r,e,u):!_){c=false;break}s||(s="constructor"==l);
}c&&!s&&(r=n.constructor,e=t.constructor,r!=e&&"constructor"in n&&"constructor"in t&&!(typeof r=="function"&&r instanceof r&&typeof e=="function"&&e instanceof e)&&(c=false)),u.delete(n),u.delete(t),t=c}}else t=false;else t=false}}return t}function Tt(n){return yu(n)&&"[object Map]"==vo(n)}function $t(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=Qu(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return false}for(;++u<i;){var f=r[u],c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===T&&!(c in n))return false;
}else{if(f=new Zn,e)var s=e(a,l,c,n,t,f);if(s===T?!Mt(l,a,3,e,f):!s)return false}}return true}function Ft(n){return!(!du(n)||ci&&ci in n)&&(_u(n)?hi:dn).test(Te(n))}function Nt(n){return yu(n)&&"[object RegExp]"==Ot(n)}function Pt(n){return yu(n)&&"[object Set]"==vo(n)}function Zt(n){return yu(n)&&gu(n.length)&&!!Bn[Ot(n)]}function qt(n){return typeof n=="function"?n:null==n?$u:typeof n=="object"?ff(n)?Jt(n[0],n[1]):Ht(n):Zu(n)}function Vt(n){if(!ze(n))return Li(n);var t,r=[];for(t in Qu(n))oi.call(n,t)&&"constructor"!=t&&r.push(t);
return r}function Kt(n,t){return n<t}function Gt(n,t){var r=-1,e=su(n)?Ku(n.length):[];return uo(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Ht(n){var t=xe(n);return 1==t.length&&t[0][2]?We(t[0][0],t[0][1]):function(r){return r===n||$t(r,n,t)}}function Jt(n,t){return Ie(n)&&t===t&&!du(t)?We(Me(n),t):function(r){var e=Ru(r,n);return e===T&&e===t?zu(r,n):Mt(t,e,3)}}function Yt(n,t,r,e,u){n!==t&&oo(t,function(i,o){if(u||(u=new Zn),du(i)){var f=u,c=Le(n,o),a=Le(t,o),l=f.get(a);if(l)it(n,o,l);else{
var l=e?e(c,a,o+"",n,t,f):T,s=l===T;if(s){var h=ff(a),p=!h&&af(a),_=!h&&!p&&_f(a),l=a;h||p||_?ff(c)?l=c:hu(c)?l=Ur(c):p?(s=false,l=Ir(a,true)):_?(s=false,l=zr(a,true)):l=[]:xu(a)||of(a)?(l=c,of(c)?l=Ou(c):du(c)&&!_u(c)||(l=Ae(a))):s=false}s&&(f.set(a,l),Yt(l,a,r,e,f),f.delete(a)),it(n,o,l)}}else f=e?e(Le(n,o),i,o+"",n,t,u):T,f===T&&(f=i),it(n,o,f)},Bu)}function Qt(n,t){var r=n.length;if(r)return t+=0>t?r:0,Se(t,r)?n[t]:T}function Xt(n,t,r){var e=-1;return t=c(t.length?t:[$u],k(ye())),n=Gt(n,function(n){return{
a:c(t,function(t){return t(n)}),b:++e,c:n}}),w(n,function(n,t){var e;n:{e=-1;for(var u=n.a,i=t.a,o=u.length,f=r.length;++e<o;){var c=Wr(u[e],i[e]);if(c){e=e>=f?c:c*("desc"==r[e]?-1:1);break n}}e=n.b-t.b}return e})}function nr(n,t){return tr(n,t,function(t,r){return zu(n,r)})}function tr(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=kt(n,o);r(f,o)&&lr(i,Sr(o,n),f)}return i}function rr(n){return function(t){return kt(t,n)}}function er(n,t,r,e){var u=e?g:v,i=-1,o=t.length,f=n;for(n===t&&(t=Ur(t)),
r&&(f=c(n,k(r)));++i<o;)for(var a=0,l=t[i],l=r?r(l):l;-1<(a=u(f,l,a,e));)f!==n&&xi.call(f,a,1),xi.call(n,a,1);return n}function ur(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Se(u)?xi.call(n,u,1):xr(n,u)}}}function ir(n,t){return n+Ii(Ti()*(t-n+1))}function or(n,t){var r="";if(!n||1>t||9007199254740991<t)return r;do t%2&&(r+=n),(t=Ii(t/2))&&(n+=n);while(t);return r}function fr(n,t){return xo(Be(n,t,$u),n+"")}function cr(n){return Qn(Uu(n))}function ar(n,t){var r=Uu(n);
return De(r,pt(t,0,r.length))}function lr(n,t,r,e){if(!du(n))return n;t=Sr(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Me(t[u]),a=r;if(u!=o){var l=f[c],a=e?e(l,c,f):T;a===T&&(a=du(l)?l:Se(t[u+1])?[]:{})}ot(f,c,a),f=f[c]}return n}function sr(n){return De(Uu(n))}function hr(n,t,r){var e=-1,u=n.length;for(0>t&&(t=-t>u?0:u+t),r=r>u?u:r,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Ku(u);++e<u;)r[e]=n[e+t];return r}function pr(n,t){var r;return uo(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}
function _r(n,t,r){var e=0,u=null==n?e:n.length;if(typeof t=="number"&&t===t&&2147483647>=u){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!wu(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return vr(n,t,$u,r)}function vr(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=wu(t),a=t===T;u<i;){var l=Ii((u+i)/2),s=r(n[l]),h=s!==T,p=null===s,_=s===s,v=wu(s);(o?e||_:a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):p||v?0:e?s<=t:s<t)?u=l+1:i=l}return Ci(i,4294967294)}function gr(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){
var o=n[r],f=t?t(o):o;if(!r||!lu(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function dr(n){return typeof n=="number"?n:wu(n)?F:+n}function yr(n){if(typeof n=="string")return n;if(ff(n))return c(n,yr)+"";if(wu(n))return ro?ro.call(n):"";var t=n+"";return"0"==t&&1/n==-$?"-0":t}function br(n,t,r){var e=-1,u=o,i=n.length,c=true,a=[],l=a;if(r)c=false,u=f;else if(200<=i){if(u=t?null:so(n))return U(u);c=false,u=O,l=new Nn}else l=t?[]:a;n:for(;++e<i;){var s=n[e],h=t?t(s):s,s=r||0!==s?s:0;if(c&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue n;
t&&l.push(h),a.push(s)}else u(l,h,r)||(l!==a&&l.push(h),a.push(s))}return a}function xr(n,t){return t=Sr(t,n),n=2>t.length?n:kt(n,hr(t,0,-1)),null==n||delete n[Me(Ve(t))]}function jr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?hr(n,e?0:i,e?i+1:u):hr(n,e?i+1:0,e?u:i)}function wr(n,t){var r=n;return r instanceof Un&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function mr(n,t,r){var e=n.length;if(2>e)return e?br(n[0]):[];for(var u=-1,i=Ku(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=yt(i[u]||o,n[f],t,r));
return br(wt(i,1),t,r)}function Ar(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;)r(o,n[e],e<i?t[e]:T);return o}function Er(n){return hu(n)?n:[]}function kr(n){return typeof n=="function"?n:$u}function Sr(n,t){return ff(n)?n:Ie(n,t)?[n]:jo(Iu(n))}function Or(n,t,r){var e=n.length;return r=r===T?e:r,!t&&r>=e?n:hr(n,t,r)}function Ir(n,t){if(t)return n.slice();var r=n.length,r=gi?gi(r):new n.constructor(r);return n.copy(r),r}function Rr(n){var t=new n.constructor(n.byteLength);return new vi(t).set(new vi(n)),
t}function zr(n,t){return new n.constructor(t?Rr(n.buffer):n.buffer,n.byteOffset,n.length)}function Wr(n,t){if(n!==t){var r=n!==T,e=null===n,u=n===n,i=wu(n),o=t!==T,f=null===t,c=t===t,a=wu(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Br(n,t,r,e){var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Ui(i-o,0),l=Ku(c+a);for(e=!e;++f<c;)l[f]=t[f];for(;++u<o;)(e||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];
return l}function Lr(n,t,r,e){var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Ui(i-f,0),s=Ku(l+a);for(e=!e;++u<l;)s[u]=n[u];for(l=u;++c<a;)s[l+c]=t[c];for(;++o<f;)(e||u<i)&&(s[l+r[o]]=n[u++]);return s}function Ur(n,t){var r=-1,e=n.length;for(t||(t=Ku(e));++r<e;)t[r]=n[r];return t}function Cr(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):T;c===T&&(c=n[f]),u?st(r,f,c):ot(r,f,c)}return r}function Dr(n,t){return Cr(n,po(n),t)}function Mr(n,t){return Cr(n,_o(n),t);
}function Tr(n,r){return function(e,u){var i=ff(e)?t:ct,o=r?r():{};return i(e,n,ye(u,2),o)}}function $r(n){return fr(function(t,r){var e=-1,u=r.length,i=1<u?r[u-1]:T,o=2<u?r[2]:T,i=3<n.length&&typeof i=="function"?(u--,i):T;for(o&&Oe(r[0],r[1],o)&&(i=3>u?T:i,u=1),t=Qu(t);++e<u;)(o=r[e])&&n(t,o,e,i);return t})}function Fr(n,t){return function(r,e){if(null==r)return r;if(!su(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=Qu(r);(t?i--:++i<u)&&false!==e(o[i],i,o););return r}}function Nr(n){return function(t,r,e){
var u=-1,i=Qu(t);e=e(t);for(var o=e.length;o--;){var f=e[n?o:++u];if(false===r(i[f],f,i))break}return t}}function Pr(n,t,r){function e(){return(this&&this!==$n&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=1&t,i=Vr(n);return e}function Zr(n){return function(t){t=Iu(t);var r=Rn.test(t)?M(t):T,e=r?r[0]:t.charAt(0);return t=r?Or(r,1).join(""):t.slice(1),e[n]()+t}}function qr(n){return function(t){return l(Mu(Du(t).replace(kn,"")),n,"")}}function Vr(n){return function(){var t=arguments;switch(t.length){
case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=eo(n.prototype),t=n.apply(r,t);return du(t)?t:r}}function Kr(t,r,e){function u(){for(var o=arguments.length,f=Ku(o),c=o,a=de(u);c--;)f[c]=arguments[c];return c=3>o&&f[0]!==a&&f[o-1]!==a?[]:L(f,a),
o-=c.length,o<e?ue(t,r,Jr,u.placeholder,T,f,c,T,T,e-o):n(this&&this!==$n&&this instanceof u?i:t,this,f)}var i=Vr(t);return u}function Gr(n){return function(t,r,e){var u=Qu(t);if(!su(t)){var i=ye(r,3);t=Wu(t),r=function(n){return i(u[n],n,u)}}return r=n(t,r,e),-1<r?u[i?t[r]:r]:T}}function Hr(n){return pe(function(t){var r=t.length,e=r,u=On.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if(typeof i!="function")throw new ti("Expected a function");if(u&&!o&&"wrapper"==ge(i))var o=new On([],true)}for(e=o?e:r;++e<r;)var i=t[e],u=ge(i),f="wrapper"==u?ho(i):T,o=f&&Re(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?o[ge(f[0])].apply(o,f[3]):1==i.length&&Re(i)?o[u]():o.thru(i);
return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ff(e))return o.plant(e).value();for(var u=0,n=r?t[u].apply(this,n):e;++u<r;)n=t[u].call(this,n);return n}})}function Jr(n,t,r,e,u,i,o,f,c,a){function l(){for(var d=arguments.length,y=Ku(d),b=d;b--;)y[b]=arguments[b];if(_){var x,j=de(l),b=y.length;for(x=0;b--;)y[b]===j&&++x}if(e&&(y=Br(y,e,u,_)),i&&(y=Lr(y,i,o,_)),d-=x,_&&d<a)return j=L(y,j),ue(n,t,Jr,l.placeholder,r,y,j,f,c,a-d);if(j=h?r:this,b=p?j[n]:n,d=y.length,f){x=y.length;for(var w=Ci(f.length,x),m=Ur(y);w--;){
var A=f[w];y[w]=Se(A,x)?m[A]:T}}else v&&1<d&&y.reverse();return s&&c<d&&(y.length=c),this&&this!==$n&&this instanceof l&&(b=g||Vr(b)),b.apply(j,y)}var s=128&t,h=1&t,p=2&t,_=24&t,v=512&t,g=p?T:Vr(n);return l}function Yr(n,t){return function(r,e){return Bt(r,n,t(e))}}function Qr(n,t){return function(r,e){var u;if(r===T&&e===T)return t;if(r!==T&&(u=r),e!==T){if(u===T)return e;typeof r=="string"||typeof e=="string"?(r=yr(r),e=yr(e)):(r=dr(r),e=dr(e)),u=n(r,e)}return u}}function Xr(t){return pe(function(r){
return r=c(r,k(ye())),fr(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function ne(n,t){t=t===T?" ":yr(t);var r=t.length;return 2>r?r?or(t,n):t:(r=or(t,Oi(n/D(t))),Rn.test(t)?Or(M(r),0,n).join(""):r.slice(0,n))}function te(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=Ku(l+c),h=this&&this!==$n&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];return n(h,o?e:this,s)}var o=1&r,f=Vr(t);return i}function re(n){return function(t,r,e){
e&&typeof e!="number"&&Oe(t,r,e)&&(r=e=T),t=Au(t),r===T?(r=t,t=0):r=Au(r),e=e===T?t<r?1:-1:Au(e);var u=-1;r=Ui(Oi((r-t)/(e||1)),0);for(var i=Ku(r);r--;)i[n?r:++u]=t,t+=e;return i}}function ee(n){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Su(t),r=Su(r)),n(t,r)}}function ue(n,t,r,e,u,i,o,f,c,a){var l=8&t,s=l?o:T;o=l?T:o;var h=l?i:T;return i=l?T:i,t=(t|(l?32:64))&~(l?64:32),4&t||(t&=-4),u=[n,t,u,h,s,i,o,f,c,a],r=r.apply(T,u),Re(n)&&yo(r,u),r.placeholder=e,Ue(r,n,t)}function ie(n){
var t=Yu[n];return function(n,r){if(n=Su(n),(r=null==r?0:Ci(Eu(r),292))&&Wi(n)){var e=(Iu(n)+"e").split("e"),e=t(e[0]+"e"+(+e[1]+r)),e=(Iu(e)+"e").split("e");return+(e[0]+"e"+(+e[1]-r))}return t(n)}}function oe(n){return function(t){var r=vo(t);return"[object Map]"==r?W(t):"[object Set]"==r?C(t):E(t,n(t))}}function fe(n,t,r,e,u,i,o,f){var c=2&t;if(!c&&typeof n!="function")throw new ti("Expected a function");var a=e?e.length:0;if(a||(t&=-97,e=u=T),o=o===T?o:Ui(Eu(o),0),f=f===T?f:Eu(f),a-=u?u.length:0,
64&t){var l=e,s=u;e=u=T}var h=c?T:ho(n);return i=[n,t,r,e,u,l,s,i,o,f],h&&(r=i[1],n=h[1],t=r|n,e=128==n&&8==r||128==n&&256==r&&i[7].length<=h[8]||384==n&&h[7].length<=h[8]&&8==r,131>t||e)&&(1&n&&(i[2]=h[2],t|=1&r?0:4),(r=h[3])&&(e=i[3],i[3]=e?Br(e,r,h[4]):r,i[4]=e?L(i[3],"__lodash_placeholder__"):h[4]),(r=h[5])&&(e=i[5],i[5]=e?Lr(e,r,h[6]):r,i[6]=e?L(i[5],"__lodash_placeholder__"):h[6]),(r=h[7])&&(i[7]=r),128&n&&(i[8]=null==i[8]?h[8]:Ci(i[8],h[8])),null==i[9]&&(i[9]=h[9]),i[0]=h[0],i[1]=t),n=i[0],
t=i[1],r=i[2],e=i[3],u=i[4],f=i[9]=i[9]===T?c?0:n.length:Ui(i[9]-a,0),!f&&24&t&&(t&=-25),Ue((h?co:yo)(t&&1!=t?8==t||16==t?Kr(n,t,f):32!=t&&33!=t||u.length?Jr.apply(T,i):te(n,t,r,e):Pr(n,t,r),i),n,t)}function ce(n,t,r,e){return n===T||lu(n,ei[r])&&!oi.call(e,r)?t:n}function ae(n,t,r,e,u,i){return du(n)&&du(t)&&(i.set(t,n),Yt(n,t,T,ae,i),i.delete(t)),n}function le(n){return xu(n)?T:n}function se(n,t,r,e,u,i){var o=1&r,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return false;if((c=i.get(n))&&i.get(t))return c==t;
var c=-1,a=true,l=2&r?new Nn:T;for(i.set(n,t),i.set(t,n);++c<f;){var s=n[c],p=t[c];if(e)var _=o?e(p,s,c,t,n,i):e(s,p,c,n,t,i);if(_!==T){if(_)continue;a=false;break}if(l){if(!h(t,function(n,t){if(!O(l,t)&&(s===n||u(s,n,r,e,i)))return l.push(t)})){a=false;break}}else if(s!==p&&!u(s,p,r,e,i)){a=false;break}}return i.delete(n),i.delete(t),a}function he(n,t,r,e,u,i,o){switch(r){case"[object DataView]":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)break;n=n.buffer,t=t.buffer;case"[object ArrayBuffer]":
if(n.byteLength!=t.byteLength||!i(new vi(n),new vi(t)))break;return true;case"[object Boolean]":case"[object Date]":case"[object Number]":return lu(+n,+t);case"[object Error]":return n.name==t.name&&n.message==t.message;case"[object RegExp]":case"[object String]":return n==t+"";case"[object Map]":var f=W;case"[object Set]":if(f||(f=U),n.size!=t.size&&!(1&e))break;return(r=o.get(n))?r==t:(e|=2,o.set(n,t),t=se(f(n),f(t),e,u,i,o),o.delete(n),t);case"[object Symbol]":if(to)return to.call(n)==to.call(t)}
return false}function pe(n){return xo(Be(n,T,Ze),n+"")}function _e(n){return St(n,Wu,po)}function ve(n){return St(n,Bu,_o)}function ge(n){for(var t=n.name+"",r=Gi[t],e=oi.call(Gi,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function de(n){return(oi.call(An,"placeholder")?An:n).placeholder}function ye(){var n=An.iteratee||Fu,n=n===Fu?qt:n;return arguments.length?n(arguments[0],arguments[1]):n}function be(n,t){var r=n.__data__,e=typeof t;return("string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r[typeof t=="string"?"string":"hash"]:r.map;
}function xe(n){for(var t=Wu(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,u===u&&!du(u)]}return t}function je(n,t){var r=null==n?T:n[t];return Ft(r)?r:T}function we(n,t,r){t=Sr(t,n);for(var e=-1,u=t.length,i=false;++e<u;){var o=Me(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:(u=null==n?0:n.length,!!u&&gu(u)&&Se(o,u)&&(ff(n)||of(n)))}function me(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&oi.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ae(n){
return typeof n.constructor!="function"||ze(n)?{}:eo(di(n))}function Ee(n,t,r){var e=n.constructor;switch(t){case"[object ArrayBuffer]":return Rr(n);case"[object Boolean]":case"[object Date]":return new e(+n);case"[object DataView]":return t=r?Rr(n.buffer):n.buffer,new n.constructor(t,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":
case"[object Uint16Array]":case"[object Uint32Array]":return zr(n,r);case"[object Map]":return new e;case"[object Number]":case"[object String]":return new e(n);case"[object RegExp]":return t=new n.constructor(n.source,_n.exec(n)),t.lastIndex=n.lastIndex,t;case"[object Set]":return new e;case"[object Symbol]":return to?Qu(to.call(n)):{}}}function ke(n){return ff(n)||of(n)||!!(ji&&n&&n[ji])}function Se(n,t){var r=typeof n;return t=null==t?9007199254740991:t,!!t&&("number"==r||"symbol"!=r&&bn.test(n))&&-1<n&&0==n%1&&n<t;
}function Oe(n,t,r){if(!du(r))return false;var e=typeof t;return!!("number"==e?su(r)&&Se(t,r.length):"string"==e&&t in r)&&lu(r[t],n)}function Ie(n,t){if(ff(n))return false;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!wu(n))||(nn.test(n)||!X.test(n)||null!=t&&n in Qu(t))}function Re(n){var t=ge(n),r=An[t];return typeof r=="function"&&t in Un.prototype&&(n===r||(t=ho(r),!!t&&n===t[0]))}function ze(n){var t=n&&n.constructor;return n===(typeof t=="function"&&t.prototype||ei)}function We(n,t){
return function(r){return null!=r&&(r[n]===t&&(t!==T||n in Qu(r)))}}function Be(t,r,e){return r=Ui(r===T?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Ui(u.length-r,0),f=Ku(o);++i<o;)f[i]=u[r+i];for(i=-1,o=Ku(r+1);++i<r;)o[i]=u[i];return o[r]=e(f),n(t,this,o)}}function Le(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Ue(n,t,r){var e=t+"";t=xo;var u,i=$e;return u=(u=e.match(an))?u[1].split(ln):[],r=i(u,r),(i=r.length)&&(u=i-1,r[u]=(1<i?"& ":"")+r[u],
r=r.join(2<i?", ":" "),e=e.replace(cn,"{\n/* [wrapped with "+r+"] */\n")),t(n,e)}function Ce(n){var t=0,r=0;return function(){var e=Di(),u=16-(e-r);if(r=e,0<u){if(800<=++t)return arguments[0]}else t=0;return n.apply(T,arguments)}}function De(n,t){var r=-1,e=n.length,u=e-1;for(t=t===T?e:t;++r<t;){var e=ir(r,u),i=n[e];n[e]=n[r],n[r]=i}return n.length=t,n}function Me(n){if(typeof n=="string"||wu(n))return n;var t=n+"";return"0"==t&&1/n==-$?"-0":t}function Te(n){if(null!=n){try{return ii.call(n)}catch(n){}
return n+""}return""}function $e(n,t){return r(N,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Fe(n){if(n instanceof Un)return n.clone();var t=new On(n.__wrapped__,n.__chain__);return t.__actions__=Ur(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Ne(n,t,r){var e=null==n?0:n.length;return e?(r=null==r?0:Eu(r),0>r&&(r=Ui(e+r,0)),_(n,ye(t,3),r)):-1}function Pe(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==T&&(u=Eu(r),u=0>r?Ui(e+u,0):Ci(u,e-1)),
_(n,ye(t,3),u,true)}function Ze(n){return(null==n?0:n.length)?wt(n,1):[]}function qe(n){return n&&n.length?n[0]:T}function Ve(n){var t=null==n?0:n.length;return t?n[t-1]:T}function Ke(n,t){return n&&n.length&&t&&t.length?er(n,t):n}function Ge(n){return null==n?n:$i.call(n)}function He(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){if(hu(n))return t=Ui(n.length,t),true}),A(t,function(t){return c(n,b(t))})}function Je(t,r){if(!t||!t.length)return[];var e=He(t);return null==r?e:c(e,function(t){
return n(r,T,t)})}function Ye(n){return n=An(n),n.__chain__=true,n}function Qe(n,t){return t(n)}function Xe(){return this}function nu(n,t){return(ff(n)?r:uo)(n,ye(t,3))}function tu(n,t){return(ff(n)?e:io)(n,ye(t,3))}function ru(n,t){return(ff(n)?c:Gt)(n,ye(t,3))}function eu(n,t,r){return t=r?T:t,t=n&&null==t?n.length:t,fe(n,128,T,T,T,T,t)}function uu(n,t){var r;if(typeof t!="function")throw new ti("Expected a function");return n=Eu(n),function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=T),
r}}function iu(n,t,r){return t=r?T:t,n=fe(n,8,T,T,T,T,T,t),n.placeholder=iu.placeholder,n}function ou(n,t,r){return t=r?T:t,n=fe(n,16,T,T,T,T,T,t),n.placeholder=ou.placeholder,n}function fu(n,t,r){function e(t){var r=c,e=a;return c=a=T,_=t,s=n.apply(e,r)}function u(n){var r=n-p;return n-=_,p===T||r>=t||0>r||g&&n>=l}function i(){var n=Go();if(u(n))return o(n);var r,e=bo;r=n-_,n=t-(n-p),r=g?Ci(n,l-r):n,h=e(i,r)}function o(n){return h=T,d&&c?e(n):(c=a=T,s)}function f(){var n=Go(),r=u(n);if(c=arguments,
a=this,p=n,r){if(h===T)return _=n=p,h=bo(i,t),v?e(n):s;if(g)return lo(h),h=bo(i,t),e(p)}return h===T&&(h=bo(i,t)),s}var c,a,l,s,h,p,_=0,v=false,g=false,d=true;if(typeof n!="function")throw new ti("Expected a function");return t=Su(t)||0,du(r)&&(v=!!r.leading,l=(g="maxWait"in r)?Ui(Su(r.maxWait)||0,t):l,d="trailing"in r?!!r.trailing:d),f.cancel=function(){h!==T&&lo(h),_=0,c=p=a=h=T},f.flush=function(){return h===T?s:o(Go())},f}function cu(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;
return i.has(u)?i.get(u):(e=n.apply(this,e),r.cache=i.set(u,e)||i,e)}if(typeof n!="function"||null!=t&&typeof t!="function")throw new ti("Expected a function");return r.cache=new(cu.Cache||Fn),r}function au(n){if(typeof n!="function")throw new ti("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function lu(n,t){return n===t||n!==n&&t!==t;
}function su(n){return null!=n&&gu(n.length)&&!_u(n)}function hu(n){return yu(n)&&su(n)}function pu(n){if(!yu(n))return false;var t=Ot(n);return"[object Error]"==t||"[object DOMException]"==t||typeof n.message=="string"&&typeof n.name=="string"&&!xu(n)}function _u(n){return!!du(n)&&(n=Ot(n),"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n)}function vu(n){return typeof n=="number"&&n==Eu(n)}function gu(n){return typeof n=="number"&&-1<n&&0==n%1&&9007199254740991>=n;
}function du(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function yu(n){return null!=n&&typeof n=="object"}function bu(n){return typeof n=="number"||yu(n)&&"[object Number]"==Ot(n)}function xu(n){return!(!yu(n)||"[object Object]"!=Ot(n))&&(n=di(n),null===n||(n=oi.call(n,"constructor")&&n.constructor,typeof n=="function"&&n instanceof n&&ii.call(n)==li))}function ju(n){return typeof n=="string"||!ff(n)&&yu(n)&&"[object String]"==Ot(n)}function wu(n){return typeof n=="symbol"||yu(n)&&"[object Symbol]"==Ot(n);
}function mu(n){if(!n)return[];if(su(n))return ju(n)?M(n):Ur(n);if(wi&&n[wi]){n=n[wi]();for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}return t=vo(n),("[object Map]"==t?W:"[object Set]"==t?U:Uu)(n)}function Au(n){return n?(n=Su(n),n===$||n===-$?1.7976931348623157e308*(0>n?-1:1):n===n?n:0):0===n?n:0}function Eu(n){n=Au(n);var t=n%1;return n===n?t?n-t:n:0}function ku(n){return n?pt(Eu(n),0,4294967295):0}function Su(n){if(typeof n=="number")return n;if(wu(n))return F;if(du(n)&&(n=typeof n.valueOf=="function"?n.valueOf():n,
n=du(n)?n+"":n),typeof n!="string")return 0===n?n:+n;n=n.replace(un,"");var t=gn.test(n);return t||yn.test(n)?Dn(n.slice(2),t?2:8):vn.test(n)?F:+n}function Ou(n){return Cr(n,Bu(n))}function Iu(n){return null==n?"":yr(n)}function Ru(n,t,r){return n=null==n?T:kt(n,t),n===T?r:n}function zu(n,t){return null!=n&&we(n,t,zt)}function Wu(n){return su(n)?qn(n):Vt(n)}function Bu(n){if(su(n))n=qn(n,true);else if(du(n)){var t,r=ze(n),e=[];for(t in n)("constructor"!=t||!r&&oi.call(n,t))&&e.push(t);n=e}else{if(t=[],
null!=n)for(r in Qu(n))t.push(r);n=t}return n}function Lu(n,t){if(null==n)return{};var r=c(ve(n),function(n){return[n]});return t=ye(t),tr(n,r,function(n,r){return t(n,r[0])})}function Uu(n){return null==n?[]:S(n,Wu(n))}function Cu(n){return $f(Iu(n).toLowerCase())}function Du(n){return(n=Iu(n))&&n.replace(xn,Xn).replace(Sn,"")}function Mu(n,t,r){return n=Iu(n),t=r?T:t,t===T?zn.test(n)?n.match(In)||[]:n.match(sn)||[]:n.match(t)||[]}function Tu(n){return function(){return n}}function $u(n){return n;
}function Fu(n){return qt(typeof n=="function"?n:_t(n,1))}function Nu(n,t,e){var u=Wu(t),i=Et(t,u);null!=e||du(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=Et(t,Wu(t)));var o=!(du(e)&&"chain"in e&&!e.chain),f=_u(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Ur(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function Pu(){}
function Zu(n){return Ie(n)?b(Me(n)):rr(n)}function qu(){return[]}function Vu(){return false}mn=null==mn?$n:rt.defaults($n.Object(),mn,rt.pick($n,Wn));var Ku=mn.Array,Gu=mn.Date,Hu=mn.Error,Ju=mn.Function,Yu=mn.Math,Qu=mn.Object,Xu=mn.RegExp,ni=mn.String,ti=mn.TypeError,ri=Ku.prototype,ei=Qu.prototype,ui=mn["__core-js_shared__"],ii=Ju.prototype.toString,oi=ei.hasOwnProperty,fi=0,ci=function(){var n=/[^.]+$/.exec(ui&&ui.keys&&ui.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ai=ei.toString,li=ii.call(Qu),si=$n._,hi=Xu("^"+ii.call(oi).replace(rn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pi=Pn?mn.Buffer:T,_i=mn.Symbol,vi=mn.Uint8Array,gi=pi?pi.g:T,di=B(Qu.getPrototypeOf,Qu),yi=Qu.create,bi=ei.propertyIsEnumerable,xi=ri.splice,ji=_i?_i.isConcatSpreadable:T,wi=_i?_i.iterator:T,mi=_i?_i.toStringTag:T,Ai=function(){
try{var n=je(Qu,"defineProperty");return n({},"",{}),n}catch(n){}}(),Ei=mn.clearTimeout!==$n.clearTimeout&&mn.clearTimeout,ki=Gu&&Gu.now!==$n.Date.now&&Gu.now,Si=mn.setTimeout!==$n.setTimeout&&mn.setTimeout,Oi=Yu.ceil,Ii=Yu.floor,Ri=Qu.getOwnPropertySymbols,zi=pi?pi.isBuffer:T,Wi=mn.isFinite,Bi=ri.join,Li=B(Qu.keys,Qu),Ui=Yu.max,Ci=Yu.min,Di=Gu.now,Mi=mn.parseInt,Ti=Yu.random,$i=ri.reverse,Fi=je(mn,"DataView"),Ni=je(mn,"Map"),Pi=je(mn,"Promise"),Zi=je(mn,"Set"),qi=je(mn,"WeakMap"),Vi=je(Qu,"create"),Ki=qi&&new qi,Gi={},Hi=Te(Fi),Ji=Te(Ni),Yi=Te(Pi),Qi=Te(Zi),Xi=Te(qi),no=_i?_i.prototype:T,to=no?no.valueOf:T,ro=no?no.toString:T,eo=function(){
function n(){}return function(t){return du(t)?yi?yi(t):(n.prototype=t,t=new n,n.prototype=T,t):{}}}();An.templateSettings={escape:J,evaluate:Y,interpolate:Q,variable:"",imports:{_:An}},An.prototype=En.prototype,An.prototype.constructor=An,On.prototype=eo(En.prototype),On.prototype.constructor=On,Un.prototype=eo(En.prototype),Un.prototype.constructor=Un,Mn.prototype.clear=function(){this.__data__=Vi?Vi(null):{},this.size=0},Mn.prototype.delete=function(n){return n=this.has(n)&&delete this.__data__[n],
this.size-=n?1:0,n},Mn.prototype.get=function(n){var t=this.__data__;return Vi?(n=t[n],"__lodash_hash_undefined__"===n?T:n):oi.call(t,n)?t[n]:T},Mn.prototype.has=function(n){var t=this.__data__;return Vi?t[n]!==T:oi.call(t,n)},Mn.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Vi&&t===T?"__lodash_hash_undefined__":t,this},Tn.prototype.clear=function(){this.__data__=[],this.size=0},Tn.prototype.delete=function(n){var t=this.__data__;return n=ft(t,n),!(0>n)&&(n==t.length-1?t.pop():xi.call(t,n,1),
--this.size,true)},Tn.prototype.get=function(n){var t=this.__data__;return n=ft(t,n),0>n?T:t[n][1]},Tn.prototype.has=function(n){return-1<ft(this.__data__,n)},Tn.prototype.set=function(n,t){var r=this.__data__,e=ft(r,n);return 0>e?(++this.size,r.push([n,t])):r[e][1]=t,this},Fn.prototype.clear=function(){this.size=0,this.__data__={hash:new Mn,map:new(Ni||Tn),string:new Mn}},Fn.prototype.delete=function(n){return n=be(this,n).delete(n),this.size-=n?1:0,n},Fn.prototype.get=function(n){return be(this,n).get(n);
},Fn.prototype.has=function(n){return be(this,n).has(n)},Fn.prototype.set=function(n,t){var r=be(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},Nn.prototype.add=Nn.prototype.push=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(n){return this.__data__.has(n)},Zn.prototype.clear=function(){this.__data__=new Tn,this.size=0},Zn.prototype.delete=function(n){var t=this.__data__;return n=t.delete(n),this.size=t.size,n},Zn.prototype.get=function(n){
return this.__data__.get(n)},Zn.prototype.has=function(n){return this.__data__.has(n)},Zn.prototype.set=function(n,t){var r=this.__data__;if(r instanceof Tn){var e=r.__data__;if(!Ni||199>e.length)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new Fn(e)}return r.set(n,t),this.size=r.size,this};var uo=Fr(mt),io=Fr(At,true),oo=Nr(),fo=Nr(true),co=Ki?function(n,t){return Ki.set(n,t),n}:$u,ao=Ai?function(n,t){return Ai(n,"toString",{configurable:true,enumerable:false,value:Tu(t),writable:true})}:$u,lo=Ei||function(n){
return $n.clearTimeout(n)},so=Zi&&1/U(new Zi([,-0]))[1]==$?function(n){return new Zi(n)}:Pu,ho=Ki?function(n){return Ki.get(n)}:Pu,po=Ri?function(n){return null==n?[]:(n=Qu(n),i(Ri(n),function(t){return bi.call(n,t)}))}:qu,_o=Ri?function(n){for(var t=[];n;)a(t,po(n)),n=di(n);return t}:qu,vo=Ot;(Fi&&"[object DataView]"!=vo(new Fi(new ArrayBuffer(1)))||Ni&&"[object Map]"!=vo(new Ni)||Pi&&"[object Promise]"!=vo(Pi.resolve())||Zi&&"[object Set]"!=vo(new Zi)||qi&&"[object WeakMap]"!=vo(new qi))&&(vo=function(n){
var t=Ot(n);if(n=(n="[object Object]"==t?n.constructor:T)?Te(n):"")switch(n){case Hi:return"[object DataView]";case Ji:return"[object Map]";case Yi:return"[object Promise]";case Qi:return"[object Set]";case Xi:return"[object WeakMap]"}return t});var go=ui?_u:Vu,yo=Ce(co),bo=Si||function(n,t){return $n.setTimeout(n,t)},xo=Ce(ao),jo=function(n){n=cu(n,function(n){return 500===t.size&&t.clear(),n});var t=n.cache;return n}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(tn,function(n,r,e,u){
t.push(e?u.replace(hn,"$1"):r||n)}),t}),wo=fr(function(n,t){return hu(n)?yt(n,wt(t,1,hu,true)):[]}),mo=fr(function(n,t){var r=Ve(t);return hu(r)&&(r=T),hu(n)?yt(n,wt(t,1,hu,true),ye(r,2)):[]}),Ao=fr(function(n,t){var r=Ve(t);return hu(r)&&(r=T),hu(n)?yt(n,wt(t,1,hu,true),T,r):[]}),Eo=fr(function(n){var t=c(n,Er);return t.length&&t[0]===n[0]?Wt(t):[]}),ko=fr(function(n){var t=Ve(n),r=c(n,Er);return t===Ve(r)?t=T:r.pop(),r.length&&r[0]===n[0]?Wt(r,ye(t,2)):[]}),So=fr(function(n){var t=Ve(n),r=c(n,Er);return(t=typeof t=="function"?t:T)&&r.pop(),
r.length&&r[0]===n[0]?Wt(r,T,t):[]}),Oo=fr(Ke),Io=pe(function(n,t){var r=null==n?0:n.length,e=ht(n,t);return ur(n,c(t,function(n){return Se(n,r)?+n:n}).sort(Wr)),e}),Ro=fr(function(n){return br(wt(n,1,hu,true))}),zo=fr(function(n){var t=Ve(n);return hu(t)&&(t=T),br(wt(n,1,hu,true),ye(t,2))}),Wo=fr(function(n){var t=Ve(n),t=typeof t=="function"?t:T;return br(wt(n,1,hu,true),T,t)}),Bo=fr(function(n,t){return hu(n)?yt(n,t):[]}),Lo=fr(function(n){return mr(i(n,hu))}),Uo=fr(function(n){var t=Ve(n);return hu(t)&&(t=T),
mr(i(n,hu),ye(t,2))}),Co=fr(function(n){var t=Ve(n),t=typeof t=="function"?t:T;return mr(i(n,hu),T,t)}),Do=fr(He),Mo=fr(function(n){var t=n.length,t=1<t?n[t-1]:T,t=typeof t=="function"?(n.pop(),t):T;return Je(n,t)}),To=pe(function(n){function t(t){return ht(t,n)}var r=n.length,e=r?n[0]:0,u=this.__wrapped__;return!(1<r||this.__actions__.length)&&u instanceof Un&&Se(e)?(u=u.slice(e,+e+(r?1:0)),u.__actions__.push({func:Qe,args:[t],thisArg:T}),new On(u,this.__chain__).thru(function(n){return r&&!n.length&&n.push(T),
n})):this.thru(t)}),$o=Tr(function(n,t,r){oi.call(n,r)?++n[r]:st(n,r,1)}),Fo=Gr(Ne),No=Gr(Pe),Po=Tr(function(n,t,r){oi.call(n,r)?n[r].push(t):st(n,r,[t])}),Zo=fr(function(t,r,e){var u=-1,i=typeof r=="function",o=su(t)?Ku(t.length):[];return uo(t,function(t){o[++u]=i?n(r,t,e):Lt(t,r,e)}),o}),qo=Tr(function(n,t,r){st(n,r,t)}),Vo=Tr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),Ko=fr(function(n,t){if(null==n)return[];var r=t.length;return 1<r&&Oe(n,t[0],t[1])?t=[]:2<r&&Oe(t[0],t[1],t[2])&&(t=[t[0]]),
Xt(n,wt(t,1),[])}),Go=ki||function(){return $n.Date.now()},Ho=fr(function(n,t,r){var e=1;if(r.length)var u=L(r,de(Ho)),e=32|e;return fe(n,e,t,r,u)}),Jo=fr(function(n,t,r){var e=3;if(r.length)var u=L(r,de(Jo)),e=32|e;return fe(t,e,n,r,u)}),Yo=fr(function(n,t){return dt(n,1,t)}),Qo=fr(function(n,t,r){return dt(n,Su(t)||0,r)});cu.Cache=Fn;var Xo=fr(function(t,r){r=1==r.length&&ff(r[0])?c(r[0],k(ye())):c(wt(r,1),k(ye()));var e=r.length;return fr(function(u){for(var i=-1,o=Ci(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);
return n(t,this,u)})}),nf=fr(function(n,t){return fe(n,32,T,t,L(t,de(nf)))}),tf=fr(function(n,t){return fe(n,64,T,t,L(t,de(tf)))}),rf=pe(function(n,t){return fe(n,256,T,T,T,t)}),ef=ee(It),uf=ee(function(n,t){return n>=t}),of=Ut(function(){return arguments}())?Ut:function(n){return yu(n)&&oi.call(n,"callee")&&!bi.call(n,"callee")},ff=Ku.isArray,cf=Vn?k(Vn):Ct,af=zi||Vu,lf=Kn?k(Kn):Dt,sf=Gn?k(Gn):Tt,hf=Hn?k(Hn):Nt,pf=Jn?k(Jn):Pt,_f=Yn?k(Yn):Zt,vf=ee(Kt),gf=ee(function(n,t){return n<=t}),df=$r(function(n,t){
if(ze(t)||su(t))Cr(t,Wu(t),n);else for(var r in t)oi.call(t,r)&&ot(n,r,t[r])}),yf=$r(function(n,t){Cr(t,Bu(t),n)}),bf=$r(function(n,t,r,e){Cr(t,Bu(t),n,e)}),xf=$r(function(n,t,r,e){Cr(t,Wu(t),n,e)}),jf=pe(ht),wf=fr(function(n,t){n=Qu(n);var r=-1,e=t.length,u=2<e?t[2]:T;for(u&&Oe(t[0],t[1],u)&&(e=1);++r<e;)for(var u=t[r],i=Bu(u),o=-1,f=i.length;++o<f;){var c=i[o],a=n[c];(a===T||lu(a,ei[c])&&!oi.call(n,c))&&(n[c]=u[c])}return n}),mf=fr(function(t){return t.push(T,ae),n(Of,T,t)}),Af=Yr(function(n,t,r){
null!=t&&typeof t.toString!="function"&&(t=ai.call(t)),n[t]=r},Tu($u)),Ef=Yr(function(n,t,r){null!=t&&typeof t.toString!="function"&&(t=ai.call(t)),oi.call(n,t)?n[t].push(r):n[t]=[r]},ye),kf=fr(Lt),Sf=$r(function(n,t,r){Yt(n,t,r)}),Of=$r(function(n,t,r,e){Yt(n,t,r,e)}),If=pe(function(n,t){var r={};if(null==n)return r;var e=false;t=c(t,function(t){return t=Sr(t,n),e||(e=1<t.length),t}),Cr(n,ve(n),r),e&&(r=_t(r,7,le));for(var u=t.length;u--;)xr(r,t[u]);return r}),Rf=pe(function(n,t){return null==n?{}:nr(n,t);
}),zf=oe(Wu),Wf=oe(Bu),Bf=qr(function(n,t,r){return t=t.toLowerCase(),n+(r?Cu(t):t)}),Lf=qr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Uf=qr(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Cf=Zr("toLowerCase"),Df=qr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Mf=qr(function(n,t,r){return n+(r?" ":"")+$f(t)}),Tf=qr(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),$f=Zr("toUpperCase"),Ff=fr(function(t,r){try{return n(t,T,r)}catch(n){return pu(n)?n:new Hu(n)}}),Nf=pe(function(n,t){
return r(t,function(t){t=Me(t),st(n,t,Ho(n[t],n))}),n}),Pf=Hr(),Zf=Hr(true),qf=fr(function(n,t){return function(r){return Lt(r,n,t)}}),Vf=fr(function(n,t){return function(r){return Lt(n,r,t)}}),Kf=Xr(c),Gf=Xr(u),Hf=Xr(h),Jf=re(),Yf=re(true),Qf=Qr(function(n,t){return n+t},0),Xf=ie("ceil"),nc=Qr(function(n,t){return n/t},1),tc=ie("floor"),rc=Qr(function(n,t){return n*t},1),ec=ie("round"),uc=Qr(function(n,t){return n-t},0);return An.after=function(n,t){if(typeof t!="function")throw new ti("Expected a function");
return n=Eu(n),function(){if(1>--n)return t.apply(this,arguments)}},An.ary=eu,An.assign=df,An.assignIn=yf,An.assignInWith=bf,An.assignWith=xf,An.at=jf,An.before=uu,An.bind=Ho,An.bindAll=Nf,An.bindKey=Jo,An.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return ff(n)?n:[n]},An.chain=Ye,An.chunk=function(n,t,r){if(t=(r?Oe(n,t,r):t===T)?1:Ui(Eu(t),0),r=null==n?0:n.length,!r||1>t)return[];for(var e=0,u=0,i=Ku(Oi(r/t));e<r;)i[u++]=hr(n,e,e+=t);return i},An.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){
var i=n[t];i&&(u[e++]=i)}return u},An.concat=function(){var n=arguments.length;if(!n)return[];for(var t=Ku(n-1),r=arguments[0];n--;)t[n-1]=arguments[n];return a(ff(r)?Ur(r):[r],wt(t,1))},An.cond=function(t){var r=null==t?0:t.length,e=ye();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new ti("Expected a function");return[e(n[0]),n[1]]}):[],fr(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})},An.conforms=function(n){return vt(_t(n,1))},An.constant=Tu,
An.countBy=$o,An.create=function(n,t){var r=eo(n);return null==t?r:at(r,t)},An.curry=iu,An.curryRight=ou,An.debounce=fu,An.defaults=wf,An.defaultsDeep=mf,An.defer=Yo,An.delay=Qo,An.difference=wo,An.differenceBy=mo,An.differenceWith=Ao,An.drop=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===T?1:Eu(t),hr(n,0>t?0:t,e)):[]},An.dropRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===T?1:Eu(t),t=e-t,hr(n,0,0>t?0:t)):[]},An.dropRightWhile=function(n,t){return n&&n.length?jr(n,ye(t,3),true,true):[];
},An.dropWhile=function(n,t){return n&&n.length?jr(n,ye(t,3),true):[]},An.fill=function(n,t,r,e){var u=null==n?0:n.length;if(!u)return[];for(r&&typeof r!="number"&&Oe(n,t,r)&&(r=0,e=u),u=n.length,r=Eu(r),0>r&&(r=-r>u?0:u+r),e=e===T||e>u?u:Eu(e),0>e&&(e+=u),e=r>e?0:ku(e);r<e;)n[r++]=t;return n},An.filter=function(n,t){return(ff(n)?i:jt)(n,ye(t,3))},An.flatMap=function(n,t){return wt(ru(n,t),1)},An.flatMapDeep=function(n,t){return wt(ru(n,t),$)},An.flatMapDepth=function(n,t,r){return r=r===T?1:Eu(r),
wt(ru(n,t),r)},An.flatten=Ze,An.flattenDeep=function(n){return(null==n?0:n.length)?wt(n,$):[]},An.flattenDepth=function(n,t){return null!=n&&n.length?(t=t===T?1:Eu(t),wt(n,t)):[]},An.flip=function(n){return fe(n,512)},An.flow=Pf,An.flowRight=Zf,An.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},An.functions=function(n){return null==n?[]:Et(n,Wu(n))},An.functionsIn=function(n){return null==n?[]:Et(n,Bu(n))},An.groupBy=Po,An.initial=function(n){
return(null==n?0:n.length)?hr(n,0,-1):[]},An.intersection=Eo,An.intersectionBy=ko,An.intersectionWith=So,An.invert=Af,An.invertBy=Ef,An.invokeMap=Zo,An.iteratee=Fu,An.keyBy=qo,An.keys=Wu,An.keysIn=Bu,An.map=ru,An.mapKeys=function(n,t){var r={};return t=ye(t,3),mt(n,function(n,e,u){st(r,t(n,e,u),n)}),r},An.mapValues=function(n,t){var r={};return t=ye(t,3),mt(n,function(n,e,u){st(r,e,t(n,e,u))}),r},An.matches=function(n){return Ht(_t(n,1))},An.matchesProperty=function(n,t){return Jt(n,_t(t,1))},An.memoize=cu,
An.merge=Sf,An.mergeWith=Of,An.method=qf,An.methodOf=Vf,An.mixin=Nu,An.negate=au,An.nthArg=function(n){return n=Eu(n),fr(function(t){return Qt(t,n)})},An.omit=If,An.omitBy=function(n,t){return Lu(n,au(ye(t)))},An.once=function(n){return uu(2,n)},An.orderBy=function(n,t,r,e){return null==n?[]:(ff(t)||(t=null==t?[]:[t]),r=e?T:r,ff(r)||(r=null==r?[]:[r]),Xt(n,t,r))},An.over=Kf,An.overArgs=Xo,An.overEvery=Gf,An.overSome=Hf,An.partial=nf,An.partialRight=tf,An.partition=Vo,An.pick=Rf,An.pickBy=Lu,An.property=Zu,
An.propertyOf=function(n){return function(t){return null==n?T:kt(n,t)}},An.pull=Oo,An.pullAll=Ke,An.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?er(n,t,ye(r,2)):n},An.pullAllWith=function(n,t,r){return n&&n.length&&t&&t.length?er(n,t,T,r):n},An.pullAt=Io,An.range=Jf,An.rangeRight=Yf,An.rearg=rf,An.reject=function(n,t){return(ff(n)?i:jt)(n,au(ye(t,3)))},An.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=ye(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),
u.push(e))}return ur(n,u),r},An.rest=function(n,t){if(typeof n!="function")throw new ti("Expected a function");return t=t===T?t:Eu(t),fr(n,t)},An.reverse=Ge,An.sampleSize=function(n,t,r){return t=(r?Oe(n,t,r):t===T)?1:Eu(t),(ff(n)?et:ar)(n,t)},An.set=function(n,t,r){return null==n?n:lr(n,t,r)},An.setWith=function(n,t,r,e){return e=typeof e=="function"?e:T,null==n?n:lr(n,t,r,e)},An.shuffle=function(n){return(ff(n)?ut:sr)(n)},An.slice=function(n,t,r){var e=null==n?0:n.length;return e?(r&&typeof r!="number"&&Oe(n,t,r)?(t=0,
r=e):(t=null==t?0:Eu(t),r=r===T?e:Eu(r)),hr(n,t,r)):[]},An.sortBy=Ko,An.sortedUniq=function(n){return n&&n.length?gr(n):[]},An.sortedUniqBy=function(n,t){return n&&n.length?gr(n,ye(t,2)):[]},An.split=function(n,t,r){return r&&typeof r!="number"&&Oe(n,t,r)&&(t=r=T),r=r===T?4294967295:r>>>0,r?(n=Iu(n))&&(typeof t=="string"||null!=t&&!hf(t))&&(t=yr(t),!t&&Rn.test(n))?Or(M(n),0,r):n.split(t,r):[]},An.spread=function(t,r){if(typeof t!="function")throw new ti("Expected a function");return r=null==r?0:Ui(Eu(r),0),
fr(function(e){var u=e[r];return e=Or(e,0,r),u&&a(e,u),n(t,this,e)})},An.tail=function(n){var t=null==n?0:n.length;return t?hr(n,1,t):[]},An.take=function(n,t,r){return n&&n.length?(t=r||t===T?1:Eu(t),hr(n,0,0>t?0:t)):[]},An.takeRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===T?1:Eu(t),t=e-t,hr(n,0>t?0:t,e)):[]},An.takeRightWhile=function(n,t){return n&&n.length?jr(n,ye(t,3),false,true):[]},An.takeWhile=function(n,t){return n&&n.length?jr(n,ye(t,3)):[]},An.tap=function(n,t){return t(n),
n},An.throttle=function(n,t,r){var e=true,u=true;if(typeof n!="function")throw new ti("Expected a function");return du(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),fu(n,t,{leading:e,maxWait:t,trailing:u})},An.thru=Qe,An.toArray=mu,An.toPairs=zf,An.toPairsIn=Wf,An.toPath=function(n){return ff(n)?c(n,Me):wu(n)?[n]:Ur(jo(Iu(n)))},An.toPlainObject=Ou,An.transform=function(n,t,e){var u=ff(n),i=u||af(n)||_f(n);if(t=ye(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:du(n)&&_u(o)?eo(di(n)):{};
}return(i?r:mt)(n,function(n,r,u){return t(e,n,r,u)}),e},An.unary=function(n){return eu(n,1)},An.union=Ro,An.unionBy=zo,An.unionWith=Wo,An.uniq=function(n){return n&&n.length?br(n):[]},An.uniqBy=function(n,t){return n&&n.length?br(n,ye(t,2)):[]},An.uniqWith=function(n,t){return t=typeof t=="function"?t:T,n&&n.length?br(n,T,t):[]},An.unset=function(n,t){return null==n||xr(n,t)},An.unzip=He,An.unzipWith=Je,An.update=function(n,t,r){return null==n?n:lr(n,t,kr(r)(kt(n,t)),void 0)},An.updateWith=function(n,t,r,e){
return e=typeof e=="function"?e:T,null!=n&&(n=lr(n,t,kr(r)(kt(n,t)),e)),n},An.values=Uu,An.valuesIn=function(n){return null==n?[]:S(n,Bu(n))},An.without=Bo,An.words=Mu,An.wrap=function(n,t){return nf(kr(t),n)},An.xor=Lo,An.xorBy=Uo,An.xorWith=Co,An.zip=Do,An.zipObject=function(n,t){return Ar(n||[],t||[],ot)},An.zipObjectDeep=function(n,t){return Ar(n||[],t||[],lr)},An.zipWith=Mo,An.entries=zf,An.entriesIn=Wf,An.extend=yf,An.extendWith=bf,Nu(An,An),An.add=Qf,An.attempt=Ff,An.camelCase=Bf,An.capitalize=Cu,
An.ceil=Xf,An.clamp=function(n,t,r){return r===T&&(r=t,t=T),r!==T&&(r=Su(r),r=r===r?r:0),t!==T&&(t=Su(t),t=t===t?t:0),pt(Su(n),t,r)},An.clone=function(n){return _t(n,4)},An.cloneDeep=function(n){return _t(n,5)},An.cloneDeepWith=function(n,t){return t=typeof t=="function"?t:T,_t(n,5,t)},An.cloneWith=function(n,t){return t=typeof t=="function"?t:T,_t(n,4,t)},An.conformsTo=function(n,t){return null==t||gt(n,t,Wu(t))},An.deburr=Du,An.defaultTo=function(n,t){return null==n||n!==n?t:n},An.divide=nc,An.endsWith=function(n,t,r){
n=Iu(n),t=yr(t);var e=n.length,e=r=r===T?e:pt(Eu(r),0,e);return r-=t.length,0<=r&&n.slice(r,e)==t},An.eq=lu,An.escape=function(n){return(n=Iu(n))&&H.test(n)?n.replace(K,nt):n},An.escapeRegExp=function(n){return(n=Iu(n))&&en.test(n)?n.replace(rn,"\\$&"):n},An.every=function(n,t,r){var e=ff(n)?u:bt;return r&&Oe(n,t,r)&&(t=T),e(n,ye(t,3))},An.find=Fo,An.findIndex=Ne,An.findKey=function(n,t){return p(n,ye(t,3),mt)},An.findLast=No,An.findLastIndex=Pe,An.findLastKey=function(n,t){return p(n,ye(t,3),At);
},An.floor=tc,An.forEach=nu,An.forEachRight=tu,An.forIn=function(n,t){return null==n?n:oo(n,ye(t,3),Bu)},An.forInRight=function(n,t){return null==n?n:fo(n,ye(t,3),Bu)},An.forOwn=function(n,t){return n&&mt(n,ye(t,3))},An.forOwnRight=function(n,t){return n&&At(n,ye(t,3))},An.get=Ru,An.gt=ef,An.gte=uf,An.has=function(n,t){return null!=n&&we(n,t,Rt)},An.hasIn=zu,An.head=qe,An.identity=$u,An.includes=function(n,t,r,e){return n=su(n)?n:Uu(n),r=r&&!e?Eu(r):0,e=n.length,0>r&&(r=Ui(e+r,0)),ju(n)?r<=e&&-1<n.indexOf(t,r):!!e&&-1<v(n,t,r);
},An.indexOf=function(n,t,r){var e=null==n?0:n.length;return e?(r=null==r?0:Eu(r),0>r&&(r=Ui(e+r,0)),v(n,t,r)):-1},An.inRange=function(n,t,r){return t=Au(t),r===T?(r=t,t=0):r=Au(r),n=Su(n),n>=Ci(t,r)&&n<Ui(t,r)},An.invoke=kf,An.isArguments=of,An.isArray=ff,An.isArrayBuffer=cf,An.isArrayLike=su,An.isArrayLikeObject=hu,An.isBoolean=function(n){return true===n||false===n||yu(n)&&"[object Boolean]"==Ot(n)},An.isBuffer=af,An.isDate=lf,An.isElement=function(n){return yu(n)&&1===n.nodeType&&!xu(n)},An.isEmpty=function(n){
if(null==n)return true;if(su(n)&&(ff(n)||typeof n=="string"||typeof n.splice=="function"||af(n)||_f(n)||of(n)))return!n.length;var t=vo(n);if("[object Map]"==t||"[object Set]"==t)return!n.size;if(ze(n))return!Vt(n).length;for(var r in n)if(oi.call(n,r))return false;return true},An.isEqual=function(n,t){return Mt(n,t)},An.isEqualWith=function(n,t,r){var e=(r=typeof r=="function"?r:T)?r(n,t):T;return e===T?Mt(n,t,T,r):!!e},An.isError=pu,An.isFinite=function(n){return typeof n=="number"&&Wi(n)},An.isFunction=_u,
An.isInteger=vu,An.isLength=gu,An.isMap=sf,An.isMatch=function(n,t){return n===t||$t(n,t,xe(t))},An.isMatchWith=function(n,t,r){return r=typeof r=="function"?r:T,$t(n,t,xe(t),r)},An.isNaN=function(n){return bu(n)&&n!=+n},An.isNative=function(n){if(go(n))throw new Hu("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ft(n)},An.isNil=function(n){return null==n},An.isNull=function(n){return null===n},An.isNumber=bu,An.isObject=du,An.isObjectLike=yu,An.isPlainObject=xu,An.isRegExp=hf,
An.isSafeInteger=function(n){return vu(n)&&-9007199254740991<=n&&9007199254740991>=n},An.isSet=pf,An.isString=ju,An.isSymbol=wu,An.isTypedArray=_f,An.isUndefined=function(n){return n===T},An.isWeakMap=function(n){return yu(n)&&"[object WeakMap]"==vo(n)},An.isWeakSet=function(n){return yu(n)&&"[object WeakSet]"==Ot(n)},An.join=function(n,t){return null==n?"":Bi.call(n,t)},An.kebabCase=Lf,An.last=Ve,An.lastIndexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;if(r!==T&&(u=Eu(r),u=0>u?Ui(e+u,0):Ci(u,e-1)),
t===t){for(r=u+1;r--&&n[r]!==t;);n=r}else n=_(n,d,u,true);return n},An.lowerCase=Uf,An.lowerFirst=Cf,An.lt=vf,An.lte=gf,An.max=function(n){return n&&n.length?xt(n,$u,It):T},An.maxBy=function(n,t){return n&&n.length?xt(n,ye(t,2),It):T},An.mean=function(n){return y(n,$u)},An.meanBy=function(n,t){return y(n,ye(t,2))},An.min=function(n){return n&&n.length?xt(n,$u,Kt):T},An.minBy=function(n,t){return n&&n.length?xt(n,ye(t,2),Kt):T},An.stubArray=qu,An.stubFalse=Vu,An.stubObject=function(){return{}},An.stubString=function(){
return""},An.stubTrue=function(){return true},An.multiply=rc,An.nth=function(n,t){return n&&n.length?Qt(n,Eu(t)):T},An.noConflict=function(){return $n._===this&&($n._=si),this},An.noop=Pu,An.now=Go,An.pad=function(n,t,r){n=Iu(n);var e=(t=Eu(t))?D(n):0;return!t||e>=t?n:(t=(t-e)/2,ne(Ii(t),r)+n+ne(Oi(t),r))},An.padEnd=function(n,t,r){n=Iu(n);var e=(t=Eu(t))?D(n):0;return t&&e<t?n+ne(t-e,r):n},An.padStart=function(n,t,r){n=Iu(n);var e=(t=Eu(t))?D(n):0;return t&&e<t?ne(t-e,r)+n:n},An.parseInt=function(n,t,r){
return r||null==t?t=0:t&&(t=+t),Mi(Iu(n).replace(on,""),t||0)},An.random=function(n,t,r){if(r&&typeof r!="boolean"&&Oe(n,t,r)&&(t=r=T),r===T&&(typeof t=="boolean"?(r=t,t=T):typeof n=="boolean"&&(r=n,n=T)),n===T&&t===T?(n=0,t=1):(n=Au(n),t===T?(t=n,n=0):t=Au(t)),n>t){var e=n;n=t,t=e}return r||n%1||t%1?(r=Ti(),Ci(n+r*(t-n+Cn("1e-"+((r+"").length-1))),t)):ir(n,t)},An.reduce=function(n,t,r){var e=ff(n)?l:j,u=3>arguments.length;return e(n,ye(t,4),r,u,uo)},An.reduceRight=function(n,t,r){var e=ff(n)?s:j,u=3>arguments.length;
return e(n,ye(t,4),r,u,io)},An.repeat=function(n,t,r){return t=(r?Oe(n,t,r):t===T)?1:Eu(t),or(Iu(n),t)},An.replace=function(){var n=arguments,t=Iu(n[0]);return 3>n.length?t:t.replace(n[1],n[2])},An.result=function(n,t,r){t=Sr(t,n);var e=-1,u=t.length;for(u||(u=1,n=T);++e<u;){var i=null==n?T:n[Me(t[e])];i===T&&(e=u,i=r),n=_u(i)?i.call(n):i}return n},An.round=ec,An.runInContext=x,An.sample=function(n){return(ff(n)?Qn:cr)(n)},An.size=function(n){if(null==n)return 0;if(su(n))return ju(n)?D(n):n.length;
var t=vo(n);return"[object Map]"==t||"[object Set]"==t?n.size:Vt(n).length},An.snakeCase=Df,An.some=function(n,t,r){var e=ff(n)?h:pr;return r&&Oe(n,t,r)&&(t=T),e(n,ye(t,3))},An.sortedIndex=function(n,t){return _r(n,t)},An.sortedIndexBy=function(n,t,r){return vr(n,t,ye(r,2))},An.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=_r(n,t);if(e<r&&lu(n[e],t))return e}return-1},An.sortedLastIndex=function(n,t){return _r(n,t,true)},An.sortedLastIndexBy=function(n,t,r){return vr(n,t,ye(r,2),true);
},An.sortedLastIndexOf=function(n,t){if(null==n?0:n.length){var r=_r(n,t,true)-1;if(lu(n[r],t))return r}return-1},An.startCase=Mf,An.startsWith=function(n,t,r){return n=Iu(n),r=null==r?0:pt(Eu(r),0,n.length),t=yr(t),n.slice(r,r+t.length)==t},An.subtract=uc,An.sum=function(n){return n&&n.length?m(n,$u):0},An.sumBy=function(n,t){return n&&n.length?m(n,ye(t,2)):0},An.template=function(n,t,r){var e=An.templateSettings;r&&Oe(n,t,r)&&(t=T),n=Iu(n),t=bf({},t,e,ce),r=bf({},t.imports,e.imports,ce);var u,i,o=Wu(r),f=S(r,o),c=0;
r=t.interpolate||jn;var a="__p+='";r=Xu((t.escape||jn).source+"|"+r.source+"|"+(r===Q?pn:jn).source+"|"+(t.evaluate||jn).source+"|$","g");var l=oi.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";if(n.replace(r,function(t,r,e,o,f,l){return e||(e=o),a+=n.slice(c,l).replace(wn,z),r&&(u=true,a+="'+__e("+r+")+'"),f&&(i=true,a+="';"+f+";\n__p+='"),e&&(a+="'+((__t=("+e+"))==null?'':__t)+'"),c=l+t.length,t}),a+="';",(t=oi.call(t,"variable")&&t.variable)||(a="with(obj){"+a+"}"),
a=(i?a.replace(P,""):a).replace(Z,"$1").replace(q,"$1;"),a="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(u?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+a+"return __p}",t=Ff(function(){return Ju(o,l+"return "+a).apply(T,f)}),t.source=a,pu(t))throw t;return t},An.times=function(n,t){if(n=Eu(n),1>n||9007199254740991<n)return[];var r=4294967295,e=Ci(n,4294967295);for(t=ye(t),n-=4294967295,e=A(e,t);++r<n;)t(r);return e},An.toFinite=Au,
An.toInteger=Eu,An.toLength=ku,An.toLower=function(n){return Iu(n).toLowerCase()},An.toNumber=Su,An.toSafeInteger=function(n){return n?pt(Eu(n),-9007199254740991,9007199254740991):0===n?n:0},An.toString=Iu,An.toUpper=function(n){return Iu(n).toUpperCase()},An.trim=function(n,t,r){return(n=Iu(n))&&(r||t===T)?n.replace(un,""):n&&(t=yr(t))?(n=M(n),r=M(t),t=I(n,r),r=R(n,r)+1,Or(n,t,r).join("")):n},An.trimEnd=function(n,t,r){return(n=Iu(n))&&(r||t===T)?n.replace(fn,""):n&&(t=yr(t))?(n=M(n),t=R(n,M(t))+1,
Or(n,0,t).join("")):n},An.trimStart=function(n,t,r){return(n=Iu(n))&&(r||t===T)?n.replace(on,""):n&&(t=yr(t))?(n=M(n),t=I(n,M(t)),Or(n,t).join("")):n},An.truncate=function(n,t){var r=30,e="...";if(du(t))var u="separator"in t?t.separator:u,r="length"in t?Eu(t.length):r,e="omission"in t?yr(t.omission):e;n=Iu(n);var i=n.length;if(Rn.test(n))var o=M(n),i=o.length;if(r>=i)return n;if(i=r-D(e),1>i)return e;if(r=o?Or(o,0,i).join(""):n.slice(0,i),u===T)return r+e;if(o&&(i+=r.length-i),hf(u)){if(n.slice(i).search(u)){
var f=r;for(u.global||(u=Xu(u.source,Iu(_n.exec(u))+"g")),u.lastIndex=0;o=u.exec(f);)var c=o.index;r=r.slice(0,c===T?i:c)}}else n.indexOf(yr(u),i)!=i&&(u=r.lastIndexOf(u),-1<u&&(r=r.slice(0,u)));return r+e},An.unescape=function(n){return(n=Iu(n))&&G.test(n)?n.replace(V,tt):n},An.uniqueId=function(n){var t=++fi;return Iu(n)+t},An.upperCase=Tf,An.upperFirst=$f,An.each=nu,An.eachRight=tu,An.first=qe,Nu(An,function(){var n={};return mt(An,function(t,r){oi.call(An.prototype,r)||(n[r]=t)}),n}(),{chain:false
}),An.VERSION="4.17.15",r("bind bindKey curry curryRight partial partialRight".split(" "),function(n){An[n].placeholder=An}),r(["drop","take"],function(n,t){Un.prototype[n]=function(r){r=r===T?1:Ui(Eu(r),0);var e=this.__filtered__&&!t?new Un(this):this.clone();return e.__filtered__?e.__takeCount__=Ci(r,e.__takeCount__):e.__views__.push({size:Ci(r,4294967295),type:n+(0>e.__dir__?"Right":"")}),e},Un.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){
var r=t+1,e=1==r||3==r;Un.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:ye(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");Un.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Un.prototype[n]=function(){return this.__filtered__?new Un(this):this[r](1)}}),Un.prototype.compact=function(){return this.filter($u)},Un.prototype.find=function(n){
return this.filter(n).head()},Un.prototype.findLast=function(n){return this.reverse().find(n)},Un.prototype.invokeMap=fr(function(n,t){return typeof n=="function"?new Un(this):this.map(function(r){return Lt(r,n,t)})}),Un.prototype.reject=function(n){return this.filter(au(ye(n)))},Un.prototype.slice=function(n,t){n=Eu(n);var r=this;return r.__filtered__&&(0<n||0>t)?new Un(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==T&&(t=Eu(t),r=0>t?r.dropRight(-t):r.take(t-n)),r)},Un.prototype.takeRightWhile=function(n){
return this.reverse().takeWhile(n).reverse()},Un.prototype.toArray=function(){return this.take(4294967295)},mt(Un.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=An[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(An.prototype[t]=function(){function t(n){return n=u.apply(An,a([n],f)),e&&h?n[0]:n}var o=this.__wrapped__,f=e?[1]:arguments,c=o instanceof Un,l=f[0],s=c||ff(o);s&&r&&typeof l=="function"&&1!=l.length&&(c=s=false);var h=this.__chain__,p=!!this.__actions__.length,l=i&&!h,c=c&&!p;
return!i&&s?(o=c?o:new Un(this),o=n.apply(o,f),o.__actions__.push({func:Qe,args:[t],thisArg:T}),new On(o,h)):l&&c?n.apply(this,f):(o=this.thru(t),l?e?o.value()[0]:o.value():o)})}),r("pop push shift sort splice unshift".split(" "),function(n){var t=ri[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);An.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ff(u)?u:[],n)}return this[r](function(r){return t.apply(ff(r)?r:[],n)});
}}),mt(Un.prototype,function(n,t){var r=An[t];if(r){var e=r.name+"";oi.call(Gi,e)||(Gi[e]=[]),Gi[e].push({name:t,func:r})}}),Gi[Jr(T,2).name]=[{name:"wrapper",func:T}],Un.prototype.clone=function(){var n=new Un(this.__wrapped__);return n.__actions__=Ur(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Ur(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Ur(this.__views__),n},Un.prototype.reverse=function(){if(this.__filtered__){var n=new Un(this);
n.__dir__=-1,n.__filtered__=true}else n=this.clone(),n.__dir__*=-1;return n},Un.prototype.value=function(){var n,t=this.__wrapped__.value(),r=this.__dir__,e=ff(t),u=0>r,i=e?t.length:0;n=i;for(var o=this.__views__,f=0,c=-1,a=o.length;++c<a;){var l=o[c],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":n-=s;break;case"take":n=Ci(n,f+s);break;case"takeRight":f=Ui(f,n-s)}}if(n={start:f,end:n},o=n.start,f=n.end,n=f-o,o=u?f:o-1,f=this.__iteratees__,c=f.length,a=0,l=Ci(n,this.__takeCount__),!e||!u&&i==n&&l==n)return wr(t,this.__actions__);
e=[];n:for(;n--&&a<l;){for(o+=r,u=-1,i=t[o];++u<c;){var h=f[u],s=h.type,h=(0,h.iteratee)(i);if(2==s)i=h;else if(!h){if(1==s)continue n;break n}}e[a++]=i}return e},An.prototype.at=To,An.prototype.chain=function(){return Ye(this)},An.prototype.commit=function(){return new On(this.value(),this.__chain__)},An.prototype.next=function(){this.__values__===T&&(this.__values__=mu(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?T:this.__values__[this.__index__++]}},An.prototype.plant=function(n){
for(var t,r=this;r instanceof En;){var e=Fe(r);e.__index__=0,e.__values__=T,t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},An.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Un?(this.__actions__.length&&(n=new Un(this)),n=n.reverse(),n.__actions__.push({func:Qe,args:[Ge],thisArg:T}),new On(n,this.__chain__)):this.thru(Ge)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return wr(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,
wi&&(An.prototype[wi]=Xe),An}();typeof define=="function"&&typeof define.amd=="object"&&define.amd?($n._=rt, define(function(){return rt})):Nn?((Nn.exports=rt)._=rt,Fn._=rt):$n._=rt}).call(this);
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function c(){return e.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function y(e,t,n,s){return Tt(e,t,n,s,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function v(e){if(null==e._isValid){var t=g(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function p(e){var t=y(NaN);return null!=e?_(g(t),e):g(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var r=c.momentProperties=[];function w(e,t){var n,s,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),0<r.length)for(n=0;n<r.length;n++)l(i=t[s=r[n]])||(e[s]=i);return e}var t=!1;function M(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,c.updateOffset(this),t=!1)}function k(e){return e instanceof M||null!=e&&null!=e._isAMomentObject}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function D(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=S(t)),n}function a(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&D(e[s])!==D(t[s]))&&a++;return a+r}function Y(e){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,r){var a=!0;return _(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var s in e+="\n["+n+"] ",arguments[0])e+=s+": "+arguments[0][s]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}Y(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var s,O={};function T(e,t){null!=c.deprecationHandler&&c.deprecationHandler(e,t),O[e]||(Y(t),O[e]=!0)}function b(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,s=_({},e);for(n in t)m(t,n)&&(u(e[n])&&u(t[n])?(s[n]={},_(s[n],e[n]),_(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)m(e,n)&&!m(t,n)&&u(e[n])&&(s[n]=_({},s[n]));return s}function P(e){null!=e&&this.set(e)}c.suppressDeprecationWarnings=!1,c.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n};var W={};function C(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e}function H(e){return"string"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function R(e){var t,n,s={};for(n in e)m(e,n)&&(t=H(n))&&(s[t]=e[n]);return s}var U={};function F(e,t){U[e]=t}function L(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},E={};function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(E[e]=i),t&&(E[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function A(e,t){return e.isValid()?(t=j(t,e.localeData()),V[t]=V[t]||function(s){var e,i,t,r=s.match(N);for(e=0,i=r.length;e<i;e++)E[r[e]]?r[e]=E[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=b(r[t])?r[t].call(e,s):r[t];return n}}(t),V[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;0<=n&&G.test(e);)e=e.replace(G,s),G.lastIndex=0,n-=1;return e}var Z=/\d/,z=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,B=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,K=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function ue(e,n,s){oe[e]=b(n)?n:function(e,t){return e&&s?s:n}}function le(e,t){return m(oe,e)?oe[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function ce(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),h(n)&&(s=function(e,t){t[n]=D(e)}),t=0;t<e.length;t++)de[e[t]]=s}function fe(e,i){ce(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var me=0,_e=1,ye=2,ge=3,ve=4,pe=5,we=6,Me=7,ke=8;function Se(e){return De(e)?366:365}function De(e){return e%4==0&&e%100!=0||e%400==0}I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),C("year","y"),F("year",1),ue("Y",se),ue("YY",B,z),ue("YYYY",ee,q),ue("YYYYY",te,J),ue("YYYYYY",te,J),ce(["YYYYY","YYYYYY"],me),ce("YYYY",function(e,t){t[me]=2===e.length?c.parseTwoDigitYear(e):D(e)}),ce("YY",function(e,t){t[me]=c.parseTwoDigitYear(e)}),ce("Y",function(e,t){t[me]=parseInt(e,10)}),c.parseTwoDigitYear=function(e){return D(e)+(68<D(e)?1900:2e3)};var Ye,Oe=Te("FullYear",!0);function Te(t,n){return function(e){return null!=e?(xe(this,t,e),c.updateOffset(this,n),this):be(this,t)}}function be(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function xe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&De(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,s=(t%(n=12)+n)%n;return e+=(t-s)/12,1===s?De(e)?29:28:31-s%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),F("month",8),ue("M",B),ue("MM",B,z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),ce(["M","MM"],function(e,t){t[_e]=D(e)-1}),ce(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[_e]=i:g(n).invalidMonth=e});var We=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=D(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ue(e){return null!=e?(Re(this,e),c.updateOffset(this,!0),this):be(this,"Month")}var Fe=ae;var Le=ae;function Ne(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=y([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=he(s[t]),i[t]=he(i[t]);for(t=0;t<24;t++)r[t]=he(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ve(e,t,n){var s=7+t-n;return-((7+Ge(e,0,s).getUTCDay()-t)%7)+s-1}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ve(e,s,i);return a=o<=0?Se(r=e-1)+o:o>Se(e)?(r=e+1,o-Se(e)):(r=e,o),{year:r,dayOfYear:a}}function Ie(e,t,n){var s,i,r=Ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ae(i=e.year()-1,t,n):a>Ae(e.year(),t,n)?(s=a-Ae(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ae(e,t,n){var s=Ve(e,t,n),i=Ve(e+1,t,n);return(Se(e)-s+i)/7}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",B),ue("ww",B,z),ue("W",B),ue("WW",B,z),fe(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=D(e)});function je(e,t){return e.slice(t,7).concat(e.slice(0,t))}I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",B),ue("e",B),ue("E",B),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),fe(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e}),fe(["d","e","E"],function(e,t,n,s){t[s]=D(e)});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var $e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var qe=ae;var Je=ae;var Be=ae;function Qe(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=y([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=he(o[t]),u[t]=he(u[t]),l[t]=he(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ke(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Xe),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),C("hour","h"),F("hour",13),ue("a",et),ue("A",et),ue("H",B),ue("h",B),ue("k",B),ue("HH",B,z),ue("hh",B,z),ue("kk",B,z),ue("hmm",Q),ue("hmmss",X),ue("Hmm",Q),ue("Hmmss",X),ce(["H","HH"],ge),ce(["k","kk"],function(e,t,n){var s=D(e);t[ge]=24===s?0:s}),ce(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ce(["h","hh"],function(e,t,n){t[ge]=D(e),g(n).bigHour=!0}),ce("hmm",function(e,t,n){var s=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s)),g(n).bigHour=!0}),ce("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s,2)),t[pe]=D(e.substr(i)),g(n).bigHour=!0}),ce("Hmm",function(e,t,n){var s=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s))}),ce("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s,2)),t[pe]=D(e.substr(i))});var tt,nt=Te("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:He,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},it={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),ut(t)}catch(e){}return it[e]}function ut(e,t){var n;return e&&((n=l(t)?ht(e):lt(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function lt(e,t){if(null===t)return delete it[e],null;var n,s=st;if(t.abbr=e,null!=it[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])s=it[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;s=n._config}return it[e]=new P(x(s,t)),rt[e]&&rt[e].forEach(function(e){lt(e.name,e.config)}),ut(e),it[e]}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=at(e[r]).split("-")).length,n=(n=at(e[r+1]))?n.split("-"):null;0<t;){if(s=ot(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&a(i,n,!0)>=t-1)break;t--}r++}return tt}(e)}function dt(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[_e]<0||11<n[_e]?_e:n[ye]<1||n[ye]>Pe(n[me],n[_e])?ye:n[ge]<0||24<n[ge]||24===n[ge]&&(0!==n[ve]||0!==n[pe]||0!==n[we])?ge:n[ve]<0||59<n[ve]?ve:n[pe]<0||59<n[pe]?pe:n[we]<0||999<n[we]?we:-1,g(e)._overflowDayOfYear&&(t<me||ye<t)&&(t=ye),g(e)._overflowWeeks&&-1===t&&(t=Me),g(e)._overflowWeekday&&-1===t&&(t=ke),g(e).overflow=t),e}function ct(e,t,n){return null!=e?e:null!=t?t:n}function ft(e){var t,n,s,i,r,a=[];if(!e._d){var o,u;for(o=e,u=new Date(c.now()),s=o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[ye]&&null==e._a[_e]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=ct(t.GG,e._a[me],Ie(bt(),1,4).year),s=ct(t.W,1),((i=ct(t.E,1))<1||7<i)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(bt(),r,a);n=ct(t.gg,e._a[me],l.year),s=ct(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(u=!0)):i=r}s<1||s>Ae(n,r,a)?g(e)._overflowWeeks=!0:null!=u?g(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[me]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=ct(e._a[me],s[me]),(e._dayOfYear>Se(r)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=Ge(r,0,e._dayOfYear),e._a[_e]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ge]&&0===e._a[ve]&&0===e._a[pe]&&0===e._a[we]&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Ge:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,s,i,r,a,o=e._i,u=mt.exec(o)||_t.exec(o);if(u){for(g(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[1])){i=gt[t][0],s=!1!==gt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[3])){r=(u[2]||" ")+vt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!yt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Yt(e)}else e._isValid=!1}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function kt(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),He.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,s,i=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var r=kt(i[4],i[3],i[2],i[5],i[6],i[7]);if(t=i[1],n=r,s=e,t&&ze.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(g(s).weekdayMismatch=!0,!(s._isValid=!1)))return;e._a=r,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}(i[8],i[9],i[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Yt(e){if(e._f!==c.ISO_8601)if(e._f!==c.RFC_2822){e._a=[],g(e).empty=!0;var t,n,s,i,r,a,o,u,l=""+e._i,h=l.length,d=0;for(s=j(e._f,e._locale).match(N)||[],t=0;t<s.length;t++)i=s[t],(n=(l.match(le(i,e))||[])[0])&&(0<(r=l.substr(0,l.indexOf(n))).length&&g(e).unusedInput.push(r),l=l.slice(l.indexOf(n)+n.length),d+=n.length),E[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),a=i,u=e,null!=(o=n)&&m(de,a)&&de[a](o,u._a,u,a)):e._strict&&!n&&g(e).unusedTokens.push(i);g(e).charsLeftOver=h-d,0<l.length&&g(e).unusedInput.push(l),e._a[ge]<=12&&!0===g(e).bigHour&&0<e._a[ge]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ge]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0)),t)}(e._locale,e._a[ge],e._meridiem),ft(e),dt(e)}else Dt(e);else wt(e)}function Ot(e){var t,n,s,i,r=e._i,a=e._f;return e._locale=e._locale||ht(e._l),null===r||void 0===a&&""===r?p({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),k(r)?new M(dt(r)):(d(r)?e._d=r:o(a)?function(e){var t,n,s,i,r;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Yt(t),v(t)&&(r+=g(t).charsLeftOver,r+=10*g(t).unusedTokens.length,g(t).score=r,(null==s||r<s)&&(s=r,n=t));_(e,n||t)}(e):a?Yt(e):l(n=(t=e)._i)?t._d=new Date(c.now()):d(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null===(i=pt.exec(s._i))?(wt(s),!1===s._isValid&&(delete s._isValid,Dt(s),!1===s._isValid&&(delete s._isValid,c.createFromInputFallback(s)))):s._d=new Date(+i[1])):o(n)?(t._a=f(n.slice(0),function(e){return parseInt(e,10)}),ft(t)):u(n)?function(e){if(!e._d){var t=R(e._i);e._a=f([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ft(e)}}(t):h(n)?t._d=new Date(n):c.createFromInputFallback(t),v(e)||(e._d=null),e))}function Tt(e,t,n,s,i){var r,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new M(dt(Ot(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function bt(e,t,n,s){return Tt(e,t,n,s,!1)}c.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var xt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Pt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:p()});function Wt(e,t){var n,s;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ht(e){var t=R(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ye.call(Ct,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Ct.length;++s)if(e[Ct[s]]){if(n)return!1;parseFloat(e[Ct[s]])!==D(e[Ct[s]])&&(n=!0)}return!0}(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ht(),this._bubble()}function Rt(e){return e instanceof Ht}function Ut(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){I(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+L(~~(e/60),2)+n+L(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ue("Z",re),ue("ZZ",re),ce(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(re,e)});var Lt=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Lt)||["-",0,0],i=60*s[1]+D(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Gt(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(k(e)||d(e)?e.valueOf():bt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),c.updateOffset(n,!1),n):bt(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}c.updateOffset=function(){};var It=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,At=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(e,t){var n,s,i,r=e,a=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=It.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:D(a[ye])*n,h:D(a[ge])*n,m:D(a[ve])*n,s:D(a[pe])*n,ms:D(Ut(1e3*a[we]))*n}):(a=At.exec(e))?(n="-"===a[1]?-1:1,r={y:Zt(a[2],n),M:Zt(a[3],n),w:Zt(a[4],n),d:Zt(a[5],n),h:Zt(a[6],n),m:Zt(a[7],n),s:Zt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(bt(r.from),bt(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&m(e,"_locale")&&(s._locale=e._locale),s}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,jt(e="string"==typeof e?+e:e,t),s),this}}function qt(e,t,n,s){var i=t._milliseconds,r=Ut(t._days),a=Ut(t._months);e.isValid()&&(s=null==s||s,a&&Re(e,be(e,"Month")+a*n),r&&xe(e,"Date",be(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&c.updateOffset(e,r||a))}jt.fn=Ht.prototype,jt.invalid=function(){return jt(NaN)};var Jt=$t(1,"add"),Bt=$t(-1,"subtract");function Qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(n+1,"months")-s)))||0}function Xt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function en(){return this._locale}var tn=126227808e5;function nn(e,t){return(e%t+t)%t}function sn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-tn:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-tn:Date.UTC(e,t,n)}function an(e,t){I(0,[e,e.length],0,t)}function on(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:((r=Ae(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=Ge(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",B,z),ue("gg",B,z),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,J),ue("ggggg",te,J),fe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=D(e)}),fe(["gg","GG"],function(e,t,n,s){t[s]=c.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),C("quarter","Q"),F("quarter",7),ue("Q",Z),ce("Q",function(e,t){t[_e]=3*(D(e)-1)}),I("D",["DD",2],"Do","date"),C("date","D"),F("date",9),ue("D",B),ue("DD",B,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],ye),ce("Do",function(e,t){t[ye]=D(e.match(B)[0])});var un=Te("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",K),ue("DDDD",$),ce(["DDD","DDDD"],function(e,t,n){n._dayOfYear=D(e)}),I("m",["mm",2],0,"minute"),C("minute","m"),F("minute",14),ue("m",B),ue("mm",B,z),ce(["m","mm"],ve);var ln=Te("Minutes",!1);I("s",["ss",2],0,"second"),C("second","s"),F("second",15),ue("s",B),ue("ss",B,z),ce(["s","ss"],pe);var hn,dn=Te("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),F("millisecond",16),ue("S",K,Z),ue("SS",K,z),ue("SSS",K,$),hn="SSSS";hn.length<=9;hn+="S")ue(hn,ne);function cn(e,t){t[we]=D(1e3*("0."+e))}for(hn="S";hn.length<=9;hn+="S")ce(hn,cn);var fn=Te("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var mn=M.prototype;function _n(e){return e}mn.add=Jt,mn.calendar=function(e,t){var n=e||bt(),s=Gt(n,this).startOf("day"),i=c.calendarFormat(this,s)||"sameElse",r=t&&(b(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,bt(n)))},mn.clone=function(){return new M(this)},mn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=H(t)){case"year":r=Qt(this,s)/12;break;case"month":r=Qt(this,s);break;case"quarter":r=Qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:S(r)},mn.endOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?rn:sn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1;break}return this._d.setTime(t),c.updateOffset(this,!0),this},mn.format=function(e){e||(e=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var t=A(this,e);return this.localeData().postformat(t)},mn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||bt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mn.fromNow=function(e){return this.from(bt(),e)},mn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||bt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mn.toNow=function(e){return this.to(bt(),e)},mn.get=function(e){return b(this[e=H(e)])?this[e]():this},mn.invalidAt=function(){return g(this).overflow},mn.isAfter=function(e,t){var n=k(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},mn.isBefore=function(e,t){var n=k(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},mn.isBetween=function(e,t,n,s){var i=k(e)?e:bt(e),r=k(t)?t:bt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n))},mn.isSame=function(e,t){var n,s=k(e)?e:bt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},mn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},mn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},mn.isValid=function(){return v(this)},mn.lang=Kt,mn.locale=Xt,mn.localeData=en,mn.max=Pt,mn.min=xt,mn.parsingFlags=function(){return _({},g(this))},mn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=R(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(b(this[e=H(e)]))return this[e](t);return this},mn.startOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?rn:sn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3);break}return this._d.setTime(t),c.updateOffset(this,!0),this},mn.subtract=Bt,mn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},mn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):b(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.year=Oe,mn.isLeapYear=function(){return De(this.year())},mn.weekYear=function(e){return on.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(e){return on.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},mn.month=Ue,mn.daysInMonth=function(){return Pe(this.year(),this.month())},mn.week=mn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},mn.isoWeek=mn.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},mn.weeksInYear=function(){var e=this.localeData()._week;return Ae(this.year(),e.dow,e.doy)},mn.isoWeeksInYear=function(){return Ae(this.year(),1,4)},mn.date=un,mn.day=mn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},mn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},mn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},mn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},mn.hour=mn.hours=nt,mn.minute=mn.minutes=ln,mn.second=mn.seconds=dn,mn.millisecond=mn.milliseconds=fn,mn.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Vt(this);if("string"==typeof e){if(null===(e=Nt(re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Vt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?qt(this,jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this},mn.utc=function(e){return this.utcOffset(0,e)},mn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},mn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=Et,mn.isUTC=Et,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=n("dates accessor is deprecated. Use date instead.",un),mn.months=n("months accessor is deprecated. Use month instead",Ue),mn.years=n("years accessor is deprecated. Use year instead",Oe),mn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),mn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=Ot(e))._a){var t=e._isUTC?y(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&0<a(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var yn=P.prototype;function gn(e,t,n,s){var i=ht(),r=y().set(s,t);return i[n](r,e)}function vn(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=gn(e,s,n,"month");return i}function pn(e,t,n,s){t=("boolean"==typeof e?h(t)&&(n=t,t=void 0):(t=e,e=!1,h(n=t)&&(n=t,t=void 0)),t||"");var i,r=ht(),a=e?r._week.dow:0;if(null!=n)return gn(t,(n+a)%7,s,"day");var o=[];for(i=0;i<7;i++)o[i]=gn(t,(i+a)%7,s,"day");return o}yn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return b(s)?s.call(t,n):s},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=_n,yn.postformat=_n,yn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return b(i)?i(e,t,n,s):i.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return b(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)b(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||We).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[We.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=y([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=y([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},yn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?je(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=y([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=y([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===D(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),c.lang=n("moment.lang is deprecated. Use moment.locale instead.",ut),c.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ht);var wn=Math.abs;function Mn(e,t,n,s){var i=jt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function kn(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function Yn(e){return function(){return this.as(e)}}var On=Yn("ms"),Tn=Yn("s"),bn=Yn("m"),xn=Yn("h"),Pn=Yn("d"),Wn=Yn("w"),Cn=Yn("M"),Hn=Yn("Q"),Rn=Yn("y");function Un(e){return function(){return this.isValid()?this._data[e]:NaN}}var Fn=Un("milliseconds"),Ln=Un("seconds"),Nn=Un("minutes"),Gn=Un("hours"),Vn=Un("days"),En=Un("months"),In=Un("years");var An=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11};var Zn=Math.abs;function zn(e){return(0<e)-(e<0)||+e}function $n(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Zn(this._milliseconds)/1e3,s=Zn(this._days),i=Zn(this._months);t=S((e=S(n/60))/60),n%=60,e%=60;var r=S(i/12),a=i%=12,o=s,u=t,l=e,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",f=zn(this._months)!==zn(d)?"-":"",m=zn(this._days)!==zn(d)?"-":"",_=zn(this._milliseconds)!==zn(d)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||h?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(h?_+h+"S":"")}var qn=Ht.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var e=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),e.milliseconds=wn(e.milliseconds),e.seconds=wn(e.seconds),e.minutes=wn(e.minutes),e.hours=wn(e.hours),e.months=wn(e.months),e.years=wn(e.years),this},qn.add=function(e,t){return Mn(this,e,t,1)},qn.subtract=function(e,t){return Mn(this,e,t,-1)},qn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+Sn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},qn.asMilliseconds=On,qn.asSeconds=Tn,qn.asMinutes=bn,qn.asHours=xn,qn.asDays=Pn,qn.asWeeks=Wn,qn.asMonths=Cn,qn.asQuarters=Hn,qn.asYears=Rn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12):NaN},qn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*kn(Dn(o)+a),o=a=0),u.milliseconds=r%1e3,e=S(r/1e3),u.seconds=e%60,t=S(e/60),u.minutes=t%60,n=S(t/60),u.hours=n%24,o+=i=S(Sn(a+=S(n/24))),a-=kn(Dn(i)),s=S(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},qn.clone=function(){return jt(this)},qn.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},qn.milliseconds=Fn,qn.seconds=Ln,qn.minutes=Nn,qn.hours=Gn,qn.days=Vn,qn.weeks=function(){return S(this.days()/7)},qn.months=En,qn.years=In,qn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,l,h,d,c=this.localeData(),f=(n=!e,s=c,i=jt(t=this).abs(),r=An(i.as("s")),a=An(i.as("m")),o=An(i.as("h")),u=An(i.as("d")),l=An(i.as("M")),h=An(i.as("y")),(d=r<=jn.ss&&["s",r]||r<jn.s&&["ss",r]||a<=1&&["m"]||a<jn.m&&["mm",a]||o<=1&&["h"]||o<jn.h&&["hh",o]||u<=1&&["d"]||u<jn.d&&["dd",u]||l<=1&&["M"]||l<jn.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=n,d[3]=0<+t,d[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,d));return e&&(f=c.pastFuture(+this,f)),c.postformat(f)},qn.toISOString=$n,qn.toString=$n,qn.toJSON=$n,qn.locale=Xt,qn.localeData=en,qn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$n),qn.lang=Kt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),ce("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ce("x",function(e,t,n){n._d=new Date(D(e))}),c.version="2.24.0",e=bt,c.fn=mn,c.min=function(){return Wt("isBefore",[].slice.call(arguments,0))},c.max=function(){return Wt("isAfter",[].slice.call(arguments,0))},c.now=function(){return Date.now?Date.now():+new Date},c.utc=y,c.unix=function(e){return bt(1e3*e)},c.months=function(e,t){return vn(e,t,"months")},c.isDate=d,c.locale=ut,c.invalid=p,c.duration=jt,c.isMoment=k,c.weekdays=function(e,t,n){return pn(e,t,n,"weekdays")},c.parseZone=function(){return bt.apply(null,arguments).parseZone()},c.localeData=ht,c.isDuration=Rt,c.monthsShort=function(e,t){return vn(e,t,"monthsShort")},c.weekdaysMin=function(e,t,n){return pn(e,t,n,"weekdaysMin")},c.defineLocale=lt,c.updateLocale=function(e,t){if(null!=t){var n,s,i=st;null!=(s=ot(e))&&(i=s._config),(n=new P(t=x(i,t))).parentLocale=it[e],it[e]=n,ut(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},c.locales=function(){return s(it)},c.weekdaysShort=function(e,t,n){return pn(e,t,n,"weekdaysShort")},c.normalizeUnits=H,c.relativeTimeRounding=function(e){return void 0===e?An:"function"==typeof e&&(An=e,!0)},c.relativeTimeThreshold=function(e,t){return void 0!==jn[e]&&(void 0===t?jn[e]:(jn[e]=t,"s"===e&&(jn.ss=t-1),!0))},c.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},c.prototype=mn,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c});
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){
this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var a=function(a,n){var r,i,o,s,d,l,p,c={},u=!0,f=!1,m=!1,h=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],w=["days","months","years","decades"],b=["top","bottom","auto"],g=["left","right","auto"],v=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},D={},C=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},x=function(e){var a;return a=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):C()?t.tz(e,l,n.useStrict,n.timeZone):t(e,l,n.useStrict),C()&&a.tz(n.timeZone),a},T=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==d.indexOf("Y");case"M":return-1!==d.indexOf("M");case"d":return-1!==d.toLowerCase().indexOf("d");case"h":case"H":return-1!==d.toLowerCase().indexOf("h");case"m":return-1!==d.indexOf("m");case"s":return-1!==d.indexOf("s");default:return!1}},M=function(){return T("h")||T("m")||T("s")},S=function(){return T("y")||T("M")||T("d")},O=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<i>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<i>").addClass(n.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},P=function(){var t=e("<tr>"),a=e("<tr>"),r=e("<tr>");return T("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<i>").addClass(n.icons.down))))),T("m")&&(T("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<i>").addClass(n.icons.down))))),T("s")&&(T("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<i>").addClass(n.icons.down))))),s||(t.append(e("<td>").addClass("separator")),a.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,r]))},E=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[P()];return T("h")&&r.push(t),T("m")&&r.push(a),T("s")&&r.push(n),r},H=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<i>").addClass(n.icons.today)))),!n.sideBySide&&S()&&M()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<i>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<i>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<i>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},I=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),a=e("<div>").addClass("datepicker").append(O()),r=e("<div>").addClass("timepicker").append(E()),i=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(H());return n.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),T("s")&&!s&&t.addClass("wider"),n.sideBySide&&S()&&M()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(o),t):("top"===n.toolbarPlacement&&i.append(o),S()&&i.append(e("<li>").addClass(n.collapse&&M()?"collapse show":"").append(a)),"default"===n.toolbarPlacement&&i.append(o),M()&&i.append(e("<li>").addClass(n.collapse&&S()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&i.append(o),t.append(i))},Y=function(){var t,r=(f||a).position(),i=(f||a).offset(),o=n.widgetPositioning.vertical,s=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(m);else if(a.is("input"))t=a.after(m).parent();else{if(n.inline)return void(t=a.append(m));t=a,a.children().first().after(m)}if("auto"===o&&(o=i.top+1.5*m.height()>=e(window).height()+e(window).scrollTop()&&m.height()+a.outerHeight()<i.top?"top":"bottom"),"auto"===s&&(s=t.width()<i.left+m.outerWidth()/2&&i.left+m.outerWidth()>e(window).width()?"right":"left"),"top"===o?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===s?m.addClass("pull-right"):m.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");m.css({top:"top"===o?"auto":r.top+a.outerHeight(),bottom:"top"===o?t.outerHeight()-(t===a?0:r.top):"auto",left:"left"===s?t===a?0:r.left:"auto",right:"left"===s?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:r.left)})},q=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},B=function(e){"y"===e&&(e="YYYY"),q({type:"dp.update",change:e,viewDate:i.clone()})},j=function(e){m&&(e&&(p=Math.max(h,Math.min(3,p+e))),m.find(".datepicker > div").hide().filter(".datepicker-"+y[p].clsName).show())},A=function(){var t=e("<tr>"),a=i.clone().startOf("w").startOf("d");for(!0===n.calendarWeeks&&t.append(e("<th>").addClass("cw").text("#"));a.isBefore(i.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");m.find(".datepicker-days thead").append(t)},F=function(e){return!0===n.disabledDates[e.format("YYYY-MM-DD")]},L=function(e){return!0===n.enabledDates[e.format("YYYY-MM-DD")]},W=function(e){return!0===n.disabledHours[e.format("H")]},z=function(e){return!0===n.enabledHours[e.format("H")]},N=function(t,a){if(!t.isValid())return!1;if(n.disabledDates&&"d"===a&&F(t))return!1;if(n.enabledDates&&"d"===a&&!L(t))return!1;if(n.minDate&&t.isBefore(n.minDate,a))return!1;if(n.maxDate&&t.isAfter(n.maxDate,a))return!1;if(n.daysOfWeekDisabled&&"d"===a&&-1!==n.daysOfWeekDisabled.indexOf(t.day()))return!1;if(n.disabledHours&&("h"===a||"m"===a||"s"===a)&&W(t))return!1;if(n.enabledHours&&("h"===a||"m"===a||"s"===a)&&!z(t))return!1;if(n.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},V=function(){for(var t=[],a=i.clone().startOf("y").startOf("d");a.isSame(i,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");m.find(".datepicker-months td").empty().append(t)},Z=function(){var t=m.find(".datepicker-months"),a=t.find("th"),o=t.find("tbody").find("span");a.eq(0).find("span").attr("title",n.tooltips.prevYear),a.eq(1).attr("title",n.tooltips.selectYear),a.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),N(i.clone().subtract(1,"y"),"y")||a.eq(0).addClass("disabled"),a.eq(1).text(i.year()),N(i.clone().add(1,"y"),"y")||a.eq(2).addClass("disabled"),o.removeClass("active"),r.isSame(i,"y")&&!u&&o.eq(r.month()).addClass("active"),o.each(function(t){N(i.clone().month(t),"M")||e(this).addClass("disabled")})},R=function(){var e=m.find(".datepicker-years"),t=e.find("th"),a=i.clone().subtract(5,"y"),o=i.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+o.year()),n.maxDate&&n.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!a.isAfter(o,"y");)s+='<span data-action="selectYear" class="year'+(a.isSame(r,"y")&&!u?" active":"")+(N(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(s)},Q=function(){var e,a=m.find(".datepicker-decades"),o=a.find("th"),s=t({y:i.year()-i.year()%100-1}),d=s.clone().add(100,"y"),l=s.clone(),p=!1,c=!1,u="";for(o.eq(0).find("span").attr("title",n.tooltips.prevCentury),o.eq(2).find("span").attr("title",n.tooltips.nextCentury),a.find(".disabled").removeClass("disabled"),(s.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(s,"y"))&&o.eq(0).addClass("disabled"),o.eq(1).text(s.year()+"-"+d.year()),(s.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(d,"y"))&&o.eq(2).addClass("disabled");!s.isAfter(d,"y");)e=s.year()+12,p=n.minDate&&n.minDate.isAfter(s,"y")&&n.minDate.year()<=e,c=n.maxDate&&n.maxDate.isAfter(s,"y")&&n.maxDate.year()<=e,u+='<span data-action="selectDecade" class="decade'+(r.isAfter(s)&&r.year()<=e?" active":"")+(N(s,"y")||p||c?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");u+="<span></span><span></span><span></span>",a.find("td").html(u),o.eq(1).text(l.year()+1+"-"+s.year())},U=function(){var t,a,o,s=m.find(".datepicker-days"),d=s.find("th"),l=[],p=[];if(S()){for(d.eq(0).find("span").attr("title",n.tooltips.prevMonth),d.eq(1).attr("title",n.tooltips.selectMonth),d.eq(2).find("span").attr("title",n.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),d.eq(1).text(i.format(n.dayViewHeaderFormat)),N(i.clone().subtract(1,"M"),"M")||d.eq(0).addClass("disabled"),N(i.clone().add(1,"M"),"M")||d.eq(2).addClass("disabled"),t=i.clone().startOf("M").startOf("w").startOf("d"),o=0;o<42;o++)0===t.weekday()&&(a=e("<tr>"),n.calendarWeeks&&a.append('<td class="cw">'+t.week()+"</td>"),l.push(a)),p=["day"],t.isBefore(i,"M")&&p.push("old"),t.isAfter(i,"M")&&p.push("new"),t.isSame(r,"d")&&!u&&p.push("active"),N(t,"d")||p.push("disabled"),t.isSame(x(),"d")&&p.push("today"),0!==t.day()&&6!==t.day()||p.push("weekend"),q({type:"dp.classify",date:t,classNames:p}),a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+p.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(l),Z(),R(),Q()}},G=function(){var t=m.find(".timepicker-hours table"),a=i.clone().startOf("d"),n=[],r=e("<tr>");for(i.hour()>11&&!s&&a.hour(12);a.isSame(i,"d")&&(s||i.hour()<12&&a.hour()<12||i.hour()>11);)a.hour()%4==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(N(a,"h")?"":" disabled")+'">'+a.format(s?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n)},J=function(){for(var t=m.find(".timepicker-minutes table"),a=i.clone().startOf("h"),r=[],o=e("<tr>"),s=1===n.stepping?5:n.stepping;i.isSame(a,"h");)a.minute()%(4*s)==0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(N(a,"m")?"":" disabled")+'">'+a.format("mm")+"</td>"),a.add(s,"m");t.empty().append(r)},K=function(){for(var t=m.find(".timepicker-seconds table"),a=i.clone().startOf("m"),n=[],r=e("<tr>");i.isSame(a,"m");)a.second()%20==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(N(a,"s")?"":" disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(n)},X=function(){var e,t,a=m.find(".timepicker span[data-time-component]");s||(e=m.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),N(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),a.filter("[data-time-component=hours]").text(r.format(s?"HH":"hh")),a.filter("[data-time-component=minutes]").text(r.format("mm")),a.filter("[data-time-component=seconds]").text(r.format("ss")),G(),J(),K()},$=function(){m&&(U(),X())},_=function(e){var t=u?null:r;if(!e)return u=!0,o.val(""),a.data("date",""),q({type:"dp.change",date:!1,oldDate:t}),void $();if(e=e.clone().locale(n.locale),C()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");N(e)?(i=(r=e).clone(),o.val(r.format(d)),a.data("date",r.format(d)),u=!1,$(),q({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid?q({type:"dp.change",date:e,oldDate:t}):o.val(u?"":r.format(d)),q({type:"dp.error",date:e,oldDate:t}))},ee=function(){var t=!1;return m?(m.find(".collapse").each(function(){var a=e(this).data("collapse");return!a||!a.transitioning||(t=!0,!1)}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),e(window).off("resize",Y),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,q({type:"dp.hide",date:r.clone()}),o.blur(),i=r.clone(),c)):c},te=function(){_(null)},ae=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=x(e)):e=n.parseInputDate(e),e},ne={next:function(){var e=y[p].navFnc;i.add(y[p].navStep,e),U(),B(e)},previous:function(){var e=y[p].navFnc;i.subtract(y[p].navStep,e),U(),B(e)},pickerSwitch:function(){j(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));i.month(a),p===h?(_(r.clone().year(i.year()).month(i.month())),n.inline||ee()):(j(-1),U()),B("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;i.year(a),p===h?(_(r.clone().year(i.year())),n.inline||ee()):(j(-1),U()),B("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;i.year(a),p===h?(_(r.clone().year(i.year())),n.inline||ee()):(j(-1),U()),B("YYYY")},selectDay:function(t){var a=i.clone();e(t.target).is(".old")&&a.subtract(1,"M"),e(t.target).is(".new")&&a.add(1,"M"),_(a.date(parseInt(e(t.target).text(),10))),M()||n.keepOpen||n.inline||ee()},incrementHours:function(){var e=r.clone().add(1,"h");N(e,"h")&&_(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");N(e,"m")&&_(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");N(e,"s")&&_(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");N(e,"h")&&_(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");N(e,"m")&&_(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");N(e,"s")&&_(e)},togglePeriod:function(){_(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,r=e(t.target),i=r.closest("ul"),o=i.find(".show"),s=i.find(".collapse:not(.show)");if(o&&o.length){if((a=o.data("collapse"))&&a.transitioning)return;o.collapse?(o.collapse("hide"),s.collapse("show")):(o.removeClass("show"),s.addClass("show")),r.is("i")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("i").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);s||(r.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),_(r.clone().hours(a)),ne.showPicker.call(c)},selectMinute:function(t){_(r.clone().minutes(parseInt(e(t.target).text(),10))),ne.showPicker.call(c)},selectSecond:function(t){_(r.clone().seconds(parseInt(e(t.target).text(),10))),ne.showPicker.call(c)},clear:te,today:function(){var e=x();N(e,"d")&&_(e)},close:ee},re=function(t){return!e(t.currentTarget).is(".disabled")&&(ne[e(t.currentTarget).data("action")].apply(c,arguments),!1)},ie=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("disabled")||!n.ignoreReadonly&&o.prop("readonly")||m?c:(void 0!==o.val()&&0!==o.val().trim().length?_(ae(o.val().trim())):u&&n.useCurrent&&(n.inline||o.is("input")&&0===o.val().trim().length)&&(t=x(),"string"==typeof n.useCurrent&&(t=a[n.useCurrent](t)),_(t)),m=I(),A(),V(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),$(),j(),e(window).on("resize",Y),m.on("click","[data-action]",re),m.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),Y(),m.show(),n.focusOnShow&&!o.is(":focus")&&o.focus(),q({type:"dp.show"}),c)},oe=function(){return m?ee():ie()},se=function(e){var t,a,r,i,o=null,s=[],d={},l=e.which;D[l]="p";for(t in D)D.hasOwnProperty(t)&&"p"===D[t]&&(s.push(t),parseInt(t,10)!==l&&(d[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" ")).length===s.length&&k[l]===r[r.length-1]){for(i=!0,a=r.length-2;a>=0;a--)if(!(k[r[a]]in d)){i=!1;break}if(i){o=n.keyBinds[t];break}}o&&(o.call(c,m),e.stopPropagation(),e.preventDefault())},de=function(e){D[e.which]="r",e.stopPropagation(),e.preventDefault()},le=function(t){var a=e(t.target).val().trim(),n=a?ae(a):null;return _(n),t.stopImmediatePropagation(),!1},pe=function(){o.off({change:le,blur:blur,keydown:se,keyup:de,focus:n.allowInputToggle?ee:""}),a.is("input")?o.off({focus:ie}):f&&(f.off("click",oe),f.off("mousedown",!1))},ce=function(t){var a={};return e.each(t,function(){var e=ae(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(a).length&&a},ue=function(t){var a={};return e.each(t,function(){a[this]=!0}),!!Object.keys(a).length&&a},fe=function(){var e=n.format||"L LT";d=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(r.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),(l=n.extraFormats?n.extraFormats.slice():[]).indexOf(e)<0&&l.indexOf(d)<0&&l.push(d),s=d.toLowerCase().indexOf("a")<1&&d.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(h=2),T("M")&&(h=1),T("d")&&(h=0),p=Math.max(h,p),u||_(r)};if(c.destroy=function(){ee(),pe(),a.removeData("DateTimePicker"),a.removeData("date")},c.toggle=oe,c.show=ie,c.hide=ee,c.disable=function(){return ee(),f&&f.hasClass("btn")&&f.addClass("disabled"),o.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),o.prop("disabled",!1),c},c.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return u?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return _(null===e?null:ae(e)),c},c.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,d&&fe(),c},c.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,c},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,l&&fe(),c},c.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=ce(t),n.enabledDates=!1,$(),c},c.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=ce(t),n.disabledDates=!1,$(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,$(),c;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return(t=parseInt(t,10))>6||t<0||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!N(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}_(r)}return $(),c},c.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&!1===e)return n.maxDate=!1,$(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ae(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(d));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&_(n.maxDate),i.isAfter(t)&&(i=t.clone().subtract(n.stepping,"m")),$(),c},c.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&!1===e)return n.minDate=!1,$(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ae(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(d));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&_(n.minDate),i.isBefore(t)&&(i=t.clone().add(n.stepping,"m")),$(),c},c.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,c;"string"==typeof e&&(e="now"===e||"moment"===e?x():x(e));var t=ae(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!N(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===o.val().trim())&&_(n.defaultDate),c},c.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),i.locale(n.locale),d&&fe(),m&&(ee(),ie()),c},c.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?c:(n.collapse=e,m&&(ee(),ie()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),m&&(ee(),ie()),c},c.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),m&&(ee(),ie()),c},c.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,m&&(ee(),ie()),c},c.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===w.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+w.join(", ")+") value");return n.viewMode=e,p=Math.max(w.indexOf(e),h),j(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return n.toolbarPlacement=e,m&&(ee(),ie()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===g.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+g.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===b.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return $(),c},c.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,$(),c},c.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,m&&(ee(),ie()),c},c.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,m&&(ee(),ie()),c},c.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,m&&(ee(),ie()),c},c.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,c},c.clear=function(){return te(),c},c.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,c)},c.getMoment=function(e){return x(e)},c.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,c},c.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,c},c.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,c},c.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,$(),c},c.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=ue(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!N(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}_(r)}return $(),c},c.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=ue(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!N(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}_(r)}return $(),c},c.viewDate=function(e){if(0===arguments.length)return i.clone();if(!e)return i=r.clone(),c;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=ae(e),B(),c},a.is("input"))o=a;else if(0===(o=a.find(n.datepickerInput)).length)o=a.find("input");else if(!o.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(f=0===a.find(".datepickerbutton").length?a.find(".input-group-addon"):a.find(".datepickerbutton")),!n.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=x(),i=r.clone(),e.extend(!0,n,function(){var t,r={};return(t=a.is("input")||n.inline?a.data():a.find("input").data()).dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(r[e]=t[a])}),r}()),c.options(n),fe(),o.on({change:le,blur:n.debug?"":ee,keydown:se,keyup:de,focus:n.allowInputToggle?ie:""}),a.is("input")?o.on({focus:ie}):f&&(f.on("click",oe),f.on("mousedown",!1)),o.prop("disabled")&&c.disable(),o.is("input")&&0!==o.val().trim().length?_(ae(o.val().trim())):n.defaultDate&&void 0===o.attr("placeholder")&&_(n.defaultDate),n.inline&&ie(),c};return e.fn.datetimepicker=function(t){t=t||{};var n,r=Array.prototype.slice.call(arguments,1),i=!0,o=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,r=e(this);r.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),r.data("DateTimePicker",a(r,n)))});if("string"==typeof t)return this.each(function(){var a=e(this).data("DateTimePicker");if(!a)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=a[t].apply(a,r),i=n===a}),i||e.inArray(t,o)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-crosshairs",clear:"fa fa-trash-o",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker});
if($('body').hasClass('page-loader')) {
    $('body').append('<div id="loader" class="loader"><div id="loader-process" class="loader__process"></div><div id="loader-overlay" class="loader__overlay"></div></div>');
}
var VietinBank = {
	width: 0,
	height: 0,
	headerHeight: 0,
	footerHeight: 0,
	preload: true,
	hash: '',
	isMobile: '',
	isAndroid: false,
	isiOS: false,
	debug: false,
	stickyBitsJs: null,
	resizeTimer:'',
	isVideo: false,
	viewport: function() {
	    var e = window, a = 'inner';
	    if (!('innerWidth' in window )) {
	        a = 'client';
	        e = document.documentElement || document.body;
	    }
	    return { width : e[ a+'Width' ] , height : e[ a+'Height' ] };
	},
	fittext: function(el, kompressor, options) {
		if(el.length) {
			var addEvent = function (el, type, fn) {
				if (el.addEventListener) {
					el.removeEventListener(type, fn);
			  	el.addEventListener(type, fn, false);
				}
				else {
					el.detachEvent('on'+type, fn);
					el.attachEvent('on'+type, fn);
				}
			};

			var extend = function(obj,ext){
			for(var key in ext)
			  if(ext.hasOwnProperty(key))
			    obj[key] = ext[key];
			return obj;
			};

	    	var settings = extend({
		      'minFontSize' : -1/0,
		      'maxFontSize' : 1/0
		    },options);

		    var fit = function (el) {
		      var compressor = kompressor || 1;

		      var resizer = function () {
		      	if(VietinBank.width > 767) {
		      		el.style.fontSize = Math.max(Math.min(el.clientWidth / (compressor*10), parseFloat(settings.maxFontSize)), parseFloat(settings.minFontSize)) + 'px';
		      	}
		      	else {
		      		el.style.fontSize = '';
		      	}
		      };

		      // Call once to set.
		      resizer();

		      // Bind events
		      // If you have any js library which support Events, replace this part
		      // and remove addEvent function (or use original jQuery version)
		      addEvent(window, 'resize', resizer);
		      addEvent(window, 'orientationchange', resizer);
		    };

		    if (el.length)
		      for(var i=0; i<el.length; i++)
		        fit(el[i]);
		    else
		      fit(el);

		    // return set of elements
		    return el;
		}
	},
	groupHeightInitial: function() {
		$('.group-height').each(function() {
			VietinBank.equalize($('.gh1', this), 'height');
			VietinBank.equalize($('.gh2', this), 'height');
			VietinBank.equalize($('.gh3', this));
			VietinBank.equalize($('.gh4', this));
			VietinBank.equalize($('.gh5', this));
			VietinBank.equalize($('.gh6', this), 'height');
			VietinBank.equalize($('.gh7', this), 'height');
			VietinBank.equalize($('.gh8', this), 'height');
			VietinBank.equalize($('.gh9', this));
			VietinBank.equalize($('.gh10', this));
			VietinBank.equalize($('.gh11', this));
			// VietinBank.equalize($('.mh1-f', this), null, false);
			// VietinBank.equalize($('.mh2-f', this), null, false);
			// VietinBank.equalize($('.mh3-f', this), null, false);
		});
		$('.steps__process.steps__roboinvest .owl-carousel').each(function() {
			if($(this).is(':visible')) {
				VietinBank.equalize($('.content', this));
			}
		})
		$('.table-group-height').each(function() {
			VietinBank.equalize($('.tgh1', this), 'height');
			VietinBank.equalize($('.tgh2', this), 'height');
			VietinBank.equalize($('.tgh3', this), 'height');
			VietinBank.equalize($('.tgh4', this), 'height');
			VietinBank.equalize($('.tgh5', this), 'height');
			VietinBank.equalize($('.tgh6', this), 'height');
			VietinBank.equalize($('.tgh7', this), 'height');
			VietinBank.equalize($('.tgh8', this), 'height');
		});
	},
	groupHeightMobile: function() {
		if(VietinBank.width < 768) {
			$('.group-height-mobile').each(function() {
				VietinBank.equalize($('.gh3', this));
			});
		}else{
			$('.group-height-mobile').each(function() {
				$('.gh3', this).each(function() {
					$(this).css('min-height','auto');
				});
			});
		}
	},
	listener: function() {
		$(window).on('listings_changed tab_changed', VietinBank.debouncev2(function() {
			$('.group-height').each(function() {
				VietinBank.equalize($('.gh1', this), 'height');
				VietinBank.equalize($('.gh2', this), 'height');
				VietinBank.equalize($('.gh3', this));
				VietinBank.equalize($('.gh4', this));
				VietinBank.equalize($('.gh5', this));
				VietinBank.equalize($('.gh6', this), 'height');
				VietinBank.equalize($('.gh7', this), 'height');
				VietinBank.equalize($('.gh8', this), 'height');
			});
			$('.steps__process.steps__roboinvest .owl-carousel:visible').each(function() {
				VietinBank.equalize($('.content', this));
			})
	  	}, 900, {
	  		leading: false,
	  		trailing: true
	  	}));

        $('.feature__teaser--collapsed').on('mouseenter', function() {
            if($(document).width() > 767 && !$('body').hasClass('page-teaser-revealon')) {
                $(this).find('.feature__teaser-expanded-control').addClass('active').stop(true, true).slideDown();
            }
        });
        $('.feature__teaser--collapsed').on('mouseleave', function() {
            if($(document).width() > 767 && !$('body').hasClass('page-teaser-revealon')) {
                $(this).find('.feature__teaser-expanded-control').removeClass('active').stop(true, true).slideUp();
            }
        });
	},
	resize: function() {
		var _resize = {
			init: function() {

				// STICKY HEADER & FOOTER
				headerResize();
				// VietinBank.headerHeight = $('header').outerHeight(),
				// VietinBank.footerHeight = $('footer').outerHeight(),
				// footerTop = (VietinBank.footerHeight) * -1;
				// $('footer').css({marginTop: footerTop});
				// $('#main-wrapper').css({paddingTop: VietinBank.headerHeight, paddingBottom: VietinBank.footerHeight});

				// for equal height
				$('.table__comparison').each(function() {
					VietinBank.equalize($('table th', this), 'height');
				});

				VietinBank.groupHeightInitial();
				VietinBank.groupHeightMobile();

				if(VietinBank.width < 768) {
					$('.gh-sm-none').css({minHeight: 0});
				}
				if(VietinBank.width < 576) {
					$('.gh-xs-none').css({minHeight: 0});
				}
			}
		}
	  	$('.parent__masthead').each(function() {
	      VietinBank.fittext($('.parent__masthead-container h2', this), 0.65, {
	        minFontSize: VietinBank.width >= 768 && VietinBank.width <= 1536 ? 38 : 42,
	        maxFontSize: VietinBank.width >= 768 && VietinBank.width <= 1536 ? 38 : 58
	      })
	    })
	    var headerResize = VietinBank.debouncev2(function() {   
	    	var body = $('body');
	    	var header = $('header .header__main');
	    	var footer = $('footer');
	    	var campaign = body.hasClass('page-campaign');
	    	var oldfooter = body.hasClass('page-old-footer');
	    	VietinBank.headerHeight = (campaign) ? 0 : header.outerHeight(),
				VietinBank.footerHeight = (campaign || oldfooter) ? 0 :footer.outerHeight(),
				footerTop = (VietinBank.footerHeight) * -1;
				footer.css({marginTop: footerTop});
				if(!body.hasClass('stopoverflow') && !body.hasClass('subnav-opened')) {
					$('#main-wrapper').css({paddingTop: VietinBank.headerHeight, paddingBottom: VietinBank.footerHeight});					

					if(campaign) {
						$('#main-wrapper').css({minHeight: $(window).outerHeight() - (header.outerHeight() + footer.outerHeight()), paddingBottom: 50});
					}
				}
	    }, 300, {
	    	leading: false,
	    	trailng: true,
	    });
    	try {
			_resize.init();
    	}
    	catch(error) {
    		console.error('main resize failure:',error.message);
    	}
	},
	version: function() {
		var _version = {
			init: function() {
				$('[class^="version--"]').each(function() {
					var _target = $(this);
					var tag = _target[0].tagName;
					var versions = _.chain(_target.attr('class')).split(' ').remove(function(n) {
						return n.indexOf('version--') >= 0;
					}).value();
					if(typeof versions == 'object') {
						_.forEach(versions, function(version) {
							var options = _.chain(version).replace('version--', '').toLower().split('-').value();
							var option = options[0];
							var timestamp = typeof options[1] !== 'undefined' ? options[1] : (timestamp = typeof moment == 'function' ? moment().valueOf() : new Date().getTime());
							if(typeof option == 'string') {
								switch(option) {
									case 'all':
										_version.update({ type: 'img', href: 'src', target: _target, timestamp: timestamp});
										_version.update({ type: 'a', subtype: 'pdf', href: 'href', target: _target, timestamp: timestamp});
										_version.update({ type: 'link', subtype: 'css', href: 'href', target: _target, timestamp: timestamp});
										break;
									case 'img': 
										_version.update({ type: 'img', href: 'src', target: _target, timestamp: timestamp});
										break;
									case 'pdf':
										_version.update({ type: 'img', href: 'src', target: _target, timestamp: timestamp});
										break;
									default:
										console.error('version type error');
										//
								}
							}
						})
					}
				})
			},
			update: function(option) {
				if(typeof option == 'object') {
					var type = option.type, 
						subtype = option.subtype,
						href = option.href, 
						target = option.target, 
						timestamp = option.timestamp;
					$(type+'['+href+(typeof subtype !== 'undefined' ? '*="'+subtype+'"' : '')+']', target).each(function() {
						var link = $(this).attr(href);
						if(link.indexOf('?') >= 0) {
							link = link.split('?')[0]+'?'+timestamp;
						}
						else {
							link = link+'?'+timestamp;
						}
						$(this).attr(href, link);
					})
				}
			}
		}
		try {
			_version.init();
		}
		catch(error) {
			console.error('version error: ', error.message);
		}
	},
	checkVisible: function(target, type, extra) {
		type = type || "visible";
		extra = extra || 0;
	    var vpH = $(window).height(), // Viewport Height
	        st = $(window).scrollTop() + extra, // Scroll Top
	        y = $(target).offset().top,
	        elementHeight = $(target).outerHeight();

	    if (type === "visible") return ((y < (vpH + st)) && (y > (st - elementHeight)));
	    if (type === "above") return ((y < (vpH + st)));
	},
	equalize: function(target, height, outer) {
		outer = typeof outer !== 'undefined' ? outer : true;
		if(height) {
			$(target).css({height: 'auto'});
		} else {
			$(target).css({minHeight: 0});
		}
		var _biggest = 0;
		for ( var i = 0; i < target.length ; i++ ){
			var element_height = $(target[i]).outerHeight(outer);
			if(element_height > _biggest ) {
				_biggest = element_height;
			}
		}
		if(height) {
			$(target).css({ height: _biggest });
		} else {
			$(target).css({ minHeight: _biggest });
		}

		return _biggest;
	},
	bodystopscroll: function(bool, selector) {
		bool = typeof bool == 'undefined' ? false : bool;
		selector = typeof selector == 'undefined' ? ".header__mobile" : selector;
		// selector = typeof selector == 'undefined' ? "#header" : selector;
		if(typeof bool == 'string') {
			$('body, html').removeClass('stopoverflow notouch');
			$(selector).css('pointer-events','');
			$(selector).css('overflow-y', '');
			bodyScrollLock.clearAllBodyScrollLocks();
		} else if(bool) {
			$('body, html').addClass('stopoverflow notouch');
			$(selector).css('pointer-events', 'auto');
			$(selector).css('overflow-y', 'auto');
			bodyScrollLock.disableBodyScroll($(selector)[0], {
				allowTouchMove: function(el) {
					while (el && el !== document.body) {
						if (el.getAttribute('body-scroll-lock-ignore') !== null) {
							return true
						}
						el = el.parentNode
					}
				}
			});
		}
		else {
			$('body, html').removeClass('stopoverflow notouch');
			$('body').removeAttr('style');
			$(selector).css('pointer-events','');
      $(selector).css('overflow-y', '');
			bodyScrollLock.enableBodyScroll($(selector)[0]);
		}
	},
	mobiledetect: function() {
		var isMobile = {
		    Android: function() {
		        return navigator.userAgent.match(/Android/i);
		    },
		    BlackBerry: function() {
		        return navigator.userAgent.match(/BlackBerry/i);
		    },
		    iOS: function() {
		        return navigator.userAgent.match(/iPhone|iPad|iPod/i);
		    },
		    Opera: function() {
		        return navigator.userAgent.match(/Opera Mini/i);
		    },
		    Windows: function() {
		        return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);
		    },
		    Safari: function() {
		    		return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
		    },
		    any: function() {
		        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
		    }
		};

		if(isMobile.Safari()) {
			$('html').addClass('iphone-safari');
		}

		VietinBank.isMobile = isMobile.any();
		if (VietinBank.isMobile) { $('html').addClass('bp-touch'); }

		if(isMobile.Android()) {
			VietinBank.isAndroid = true;
		}

		if(isMobile.iOS()) {
			VietinBank.isiOS = true;
		}
	},
	browserdetect: function() {
		var BrowserDetect = {
	    init: function () {
	        this.browser = this.searchString(this.dataBrowser) || "Other";
	        this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "Unknown";
	    },
	    searchString: function (data) {
	        for (var i = 0; i < data.length; i++) {
	            var dataString = data[i].string;
	            this.versionSearchString = data[i].subString;

	            if (dataString.indexOf(data[i].subString) !== -1) {
	                return data[i].identity;
	            }
	        }
	    },
	    searchVersion: function (dataString) {
	        var index = dataString.indexOf(this.versionSearchString);
		        if (index === -1) {
		            return;
		        }

		        var rv = dataString.indexOf("rv:");
		        if (this.versionSearchString === "Trident" && rv !== -1) {
		            return parseFloat(dataString.substring(rv + 3));
		        } else {
		            return parseFloat(dataString.substring(index + this.versionSearchString.length + 1));
		        }
		    },

		    dataBrowser: [
		        {string: navigator.userAgent, subString: "Edge", identity: "ms-edge"},
		        {string: navigator.userAgent, subString: "MSIE", identity: "explorer"},
		        {string: navigator.userAgent, subString: "Trident", identity: "explorer"},
		        {string: navigator.userAgent, subString: "Firefox", identity: "firefox"},
		        {string: navigator.userAgent, subString: "Opera", identity: "opera"},  
		        {string: navigator.userAgent, subString: "OPR", identity: "opera"},  

		        {string: navigator.userAgent, subString: "Chrome", identity: "chrome"}, 
		        {string: navigator.userAgent, subString: "Safari", identity: "safari"}       
		    ]
		};
		BrowserDetect.init();
		$('html').addClass(BrowserDetect.browser);
	},
	gethash: function() {
		VietinBank.hash = window.location.hash;
	},
	updatehash: function(hash) {
		var url = window.location.href;
    var data = location.hash;
    url = url.replace(data, '');
    // window.history.pushState({ path: url + hash }, '', url + hash ); 
		window.location.hash = hash;
	},
	removehash: function(hash, event) {
		if(hash == window.location.hash) {
			var url = window.location.href;
	    var data = location.hash;
	    url = url.replace(data, '');
	    var pos = $(window).scrollTop(); // get scroll position
			window.location.hash = '';
	    // window.history.replaceState({ path: url }, '', url ); 
			if(event) {
				event.preventDefault();
				$(window).scrollTop(pos);
			}
		}
	},
	compareArray: function(arr1, arr2) {
		return arr1.sort().toString() === arr2.sort().toString();
	},
	inview: function() {
		(function(d){var p={},e,a,h=document,i=window,f=h.documentElement,j=d.expando;d.event.special.inview={add:function(a){p[a.guid+"-"+this[j]]={data:a,$element:d(this)}},remove:function(a){try{delete p[a.guid+"-"+this[j]]}catch(d){}}};d(i).bind("scroll resize",function(){e=a=null});!f.addEventListener&&f.attachEvent&&f.attachEvent("onfocusin",function(){a=null});setInterval(function(){var k=d(),j,n=0;d.each(p,function(a,b){var c=b.data.selector,d=b.$element;k=k.add(c?d.find(c):d)});if(j=k.length){var b;
		if(!(b=e)){var g={height:i.innerHeight,width:i.innerWidth};if(!g.height&&((b=h.compatMode)||!d.support.boxModel))b="CSS1Compat"===b?f:h.body,g={height:b.clientHeight,width:b.clientWidth};b=g}e=b;for(a=a||{top:i.pageYOffset||f.scrollTop||h.body.scrollTop,left:i.pageXOffset||f.scrollLeft||h.body.scrollLeft};n<j;n++)if(d.contains(f,k[n])){b=d(k[n]);var l=b.height(),m=b.width(),c=b.offset(),g=b.data("inview");if(!a||!e)break;c.top+l>a.top&&c.top<a.top+e.height&&c.left+m>a.left&&c.left<a.left+e.width?
		(m=a.left>c.left?"right":a.left+e.width<c.left+m?"left":"both",l=a.top>c.top?"bottom":a.top+e.height<c.top+l?"top":"both",c=m+"-"+l,(!g||g!==c)&&b.data("inview",c).trigger("inview",[!0,m,l])):g&&b.data("inview",!1).trigger("inview",[!1])}}},250)})(jQuery);
	},
	sticky: function() {
		(function (factory) {
		    if (typeof define === 'function' && define.amd) {
		        // AMD. Register as an anonymous module.
		        define(['jquery'], factory);
		    } else if (typeof module === 'object' && module.exports) {
		        // Node/CommonJS
		        module.exports = factory(require('jquery'));
		    } else {
		        // Browser globals
		        factory(jQuery);
		    }
		}(function ($) {
	    var slice = Array.prototype.slice; // save ref to original slice()
	    var splice = Array.prototype.splice; // save ref to original slice()
		  var defaults = {
		      topSpacing: 0,
		      bottomSpacing: 0,
		      className: 'is-sticky',
		      wrapperClassName: 'sticky-wrapper',
		      center: false,
		      getWidthFrom: '',
		      widthFromWrapper: true, // works only when .getWidthFrom is empty
		      responsiveWidth: false,
		      zIndex: 'inherit'
		    },
		    $window = $(window),
		    $document = $(document),
		    sticked = [],
		    windowHeight = $window.height(),
		    scroller = function() {
		      var scrollTop = $window.scrollTop(),
		        documentHeight = $document.height(),
		        dwh = documentHeight - windowHeight,
		        extra = (scrollTop > dwh) ? dwh - scrollTop : 0;

		      for (var i = 0, l = sticked.length; i < l; i++) {
		        var s = sticked[i],
		          elementTop = s.stickyWrapper.offset().top,
		          etse = elementTop - s.topSpacing - extra;

		        //update height in case of dynamic content
		        s.stickyWrapper.css('height', s.stickyElement.outerHeight());

		        if (scrollTop <= etse) {
		          if (s.currentTop !== null) {
		            s.stickyElement
		              .css({
		                'width': '',
		                'position': '',
		                'top': '',
		                'z-index': ''
		              });
		            s.stickyElement.parent().removeClass(s.className);
		            s.stickyElement.trigger('sticky-end', [s]);
		            s.currentTop = null;
		          }
		        }
		        else {
		          var newTop = documentHeight - s.stickyElement.outerHeight()
		            - s.topSpacing - s.bottomSpacing - scrollTop - extra;
		          if (newTop < 0) {
		            newTop = newTop + s.topSpacing;
		          } else {
		            newTop = s.topSpacing;
		          }
		          if (s.currentTop !== newTop) {
		            var newWidth;
		            if (s.getWidthFrom) {
		                padding =  s.stickyElement.innerWidth() - s.stickyElement.width();
		                newWidth = $(s.getWidthFrom).width() - padding || null;
		            } else if (s.widthFromWrapper) {
		                newWidth = s.stickyWrapper.width();
		            }
		            if (newWidth == null) {
		                newWidth = s.stickyElement.width();
		            }
		            s.stickyElement
		              .css('width', newWidth)
		              .css('position', 'fixed')
		              .css('top', newTop)
		              .css('z-index', s.zIndex);

		            s.stickyElement.parent().addClass(s.className);

		            if (s.currentTop === null) {
		              s.stickyElement.trigger('sticky-start', [s]);
		            } else {
		              // sticky is started but it have to be repositioned
		              s.stickyElement.trigger('sticky-update', [s]);
		            }

		            if (s.currentTop === s.topSpacing && s.currentTop > newTop || s.currentTop === null && newTop < s.topSpacing) {
		              // just reached bottom || just started to stick but bottom is already reached
		              s.stickyElement.trigger('sticky-bottom-reached', [s]);
		            } else if(s.currentTop !== null && newTop === s.topSpacing && s.currentTop < newTop) {
		              // sticky is started && sticked at topSpacing && overflowing from top just finished
		              s.stickyElement.trigger('sticky-bottom-unreached', [s]);
		            }

		            s.currentTop = newTop;
		          }

		          // Check if sticky has reached end of container and stop sticking
		          var stickyWrapperContainer = s.stickyWrapper.parent();
		          var unstick = (s.stickyElement.offset().top + s.stickyElement.outerHeight() >= stickyWrapperContainer.offset().top + stickyWrapperContainer.outerHeight()) && (s.stickyElement.offset().top <= s.topSpacing);

		          if( unstick ) {
		            s.stickyElement
		              .css('position', 'absolute')
		              .css('top', '')
		              .css('bottom', 0)
		              .css('z-index', '');
		          } else {
		            s.stickyElement
		              .css('position', 'fixed')
		              .css('top', newTop)
		              .css('bottom', '')
		              .css('z-index', s.zIndex);
		          }
		        }
		      }
		    },
		    resizer = function() {
		      windowHeight = $window.height();

		      for (var i = 0, l = sticked.length; i < l; i++) {
		        var s = sticked[i];
		        var newWidth = null;
		        if (s.getWidthFrom) {
		            if (s.responsiveWidth) {
		                newWidth = $(s.getWidthFrom).width();
		            }
		        } else if(s.widthFromWrapper) {
		            newWidth = s.stickyWrapper.width();
		        }
		        if (newWidth != null) {
		            s.stickyElement.css('width', newWidth);
		        }
		      }
		    },
		    methods = {
		      init: function(options) {
		        return this.each(function() {
		          var o = $.extend({}, defaults, options);
		          var stickyElement = $(this);

		          var stickyId = stickyElement.attr('id');
		          var wrapperId = stickyId ? stickyId + '-' + defaults.wrapperClassName : defaults.wrapperClassName;
		          var wrapper = $('<div></div>').attr('id', wrapperId).addClass(o.wrapperClassName);
							stickyElement.wrapAll(function() {
								if ($(this).parent("#" + wrapperId).length == 0) {
									return wrapper;
								}
							});
		          var stickyWrapper = stickyElement.parent();

		          if (o.center) {
		            stickyWrapper.css({width:stickyElement.outerWidth(),marginLeft:"auto",marginRight:"auto"});
		          }

		          if (stickyElement.css("float") === "right") {
		            stickyElement.css({"float":"none"}).parent().css({"float":"right"});
		          }

		          o.stickyElement = stickyElement;
		          o.stickyWrapper = stickyWrapper;
		          o.currentTop    = null;

		          sticked.push(o);

		          methods.setWrapperHeight(this);
		          methods.setupChangeListeners(this);
		        });
		      },

		      setWrapperHeight: function(stickyElement) {
		        var element = $(stickyElement);
		        var stickyWrapper = element.parent();
		        if (stickyWrapper) {
		          stickyWrapper.css('height', element.outerHeight());
		        }
		      },

		      setupChangeListeners: function(stickyElement) {
		        if (window.MutationObserver) {
		          var mutationObserver = new window.MutationObserver(function(mutations) {
		            if (mutations[0].addedNodes.length || mutations[0].removedNodes.length) {
		              methods.setWrapperHeight(stickyElement);
		            }
		          });
		          mutationObserver.observe(stickyElement, {subtree: true, childList: true});
		        } else {
		          if (window.addEventListener) {
		            stickyElement.addEventListener('DOMNodeInserted', function() {
		              methods.setWrapperHeight(stickyElement);
		            }, false);
		            stickyElement.addEventListener('DOMNodeRemoved', function() {
		              methods.setWrapperHeight(stickyElement);
		            }, false);
		          } else if (window.attachEvent) {
		            stickyElement.attachEvent('onDOMNodeInserted', function() {
		              methods.setWrapperHeight(stickyElement);
		            });
		            stickyElement.attachEvent('onDOMNodeRemoved', function() {
		              methods.setWrapperHeight(stickyElement);
		            });
		          }
		        }
		      },
		      update: scroller,
		      unstick: function(options) {
		        return this.each(function() {
		          var that = this;
		          var unstickyElement = $(that);

		          var removeIdx = -1;
		          var i = sticked.length;
		          while (i-- > 0) {
		            if (sticked[i].stickyElement.get(0) === that) {
		                splice.call(sticked,i,1);
		                removeIdx = i;
		            }
		          }
		          if(removeIdx !== -1) {
		            unstickyElement.unwrap();
		            unstickyElement
		              .css({
		                'width': '',
		                'position': '',
		                'top': '',
		                'float': '',
		                'z-index': ''
		              })
		            ;
		          }
		        });
		      }
		    };

		  // should be more efficient than using $window.scroll(scroller) and $window.resize(resizer):
		  if (window.addEventListener) {
		    window.addEventListener('scroll', scroller, false);
		    window.addEventListener('resize', resizer, false);
		  } else if (window.attachEvent) {
		    window.attachEvent('onscroll', scroller);
		    window.attachEvent('onresize', resizer);
		  }

		  $.fn.sticky = function(method) {
		    if (methods[method]) {
		      return methods[method].apply(this, slice.call(arguments, 1));
		    } else if (typeof method === 'object' || !method ) {
		      return methods.init.apply( this, arguments );
		    } else {
		      $.error('Method ' + method + ' does not exist on jQuery.sticky');
		    }
		  };

		  $.fn.unstick = function(method) {
		    if (methods[method]) {
		      return methods[method].apply(this, slice.call(arguments, 1));
		    } else if (typeof method === 'object' || !method ) {
		      return methods.unstick.apply( this, arguments );
		    } else {
		      $.error('Method ' + method + ' does not exist on jQuery.sticky');
		    }
		  };
		  $(function() {
		    setTimeout(scroller, 0);
		  });
		}));
	},
	stickinparent: function(option) {
		var _stick = {
			offset: 20,
			target: '[sticky-content]',
			parent: '.sticky__parent',
			stick: function() {
				if(VietinBank.stickyBitsJs == null) {
					$(_stick.target).parents('.com__tab').addClass('h-100');
					if($(_stick.target).outerHeight() > window.innerHeight) {
						$(_stick.target).parent().addClass('sticky__parent');
						VietinBank.stickyBitsJs = new StickySidebar(_stick.parent, {
							topSpacing: _stick.offset,
							bottomSpacing: _stick.offset,
							containerSelector: false,
							innerWrapperSelector: _stick.target,
							stickyClass: 'js-is-sticky'
						});
						$(_stick.parent).addClass('sticky__long');
						$(_stick.parent).addClass('stickied');
					}
					else {
						$(_stick.target).parent().addClass('sticky__parent');
						VietinBank.stickyBitsJs = stickybits(_stick.target, {
							useStickyClasses: true,
							stickyBitStickyOffset: _stick.offset
						});
						$(_stick.target).addClass('stickied');
					}
				}
			},
			unstick: function() {
				if(VietinBank.stickyBitsJs !== null) {
					if($(_stick.parent).hasClass('sticky__long')) {
						VietinBank.stickyBitsJs.destroy();	
					}
					else {
						VietinBank.stickyBitsJs.cleanup();	
					}
					$(_stick.target).parents('.com__tab').removeClass('h-100');
					$(_stick.target).removeClass('stickied');
					VietinBank.stickyBitsJs = null;						
				}
				$(_stick.target).removeAttr('style');
			},
			update: function(opt) {
				if(VietinBank.stickyBitsJs !== null) {
					if($(_stick.parent).hasClass('sticky__long')) {
						VietinBank.stickyBitsJs.updateSticky();
					}
					else {
						VietinBank.stickyBitsJs.update(opt);
					}
				}
			},
			init: function() {
				VietinBank.enquire({
					desktop: function() {
						_stick.stick();
					},
					mobile: function() {
						_stick.unstick();
					}
				});
			},
			relaunch: function() {
				_stick.unstick();
				_stick.init();
			}
		}
		if(typeof option == 'object') {
			try {
				switch(option.action) {
					case 'reload':
						_stick.relaunch();
						break;
					case 'update':
						_stick.update(option.extra);
						break;
					default: 
						_stick.init();
				}
			}
			catch(error) {
				_stick.relaunch();
			}
		}
		else {
			_stick.init();			
		}
	},
	animation: function() {
		var defaultDelay = 0.5;
		try {
			$('.animate').each(function() {
				var thisAnim = $(this), // this content
				animControl = $(this).attr('anim-control'), // for single or parent container
				animName = $(this).attr('anim-name'), // customize animation
				animDelay = parseFloat($(this).attr('anim-delay')), // delay value
				delayIncrease = 0.1;
				// if the container is parent
				if(animControl == 'parent') {
					// add delay to each child element
					$(this).children().each(function(index) {
						var element = $(this);
						if(isNaN(animDelay)) {
							animDelay = defaultDelay;
						}
						if(animDelay == 0) {
		                    delayIncrease = 0;
		                }
						var delayNum = animDelay + (delayIncrease * index) + 's';
						setTimeout(function() {
							$(element).css('-webkit-animation-delay', delayNum)
								.css('-moz-animation-delay', delayNum)
								.css('-ms-animation-delay', delayNum)
								.css('-o-animation-delay', delayNum)
						}, 100);
					});
					$(this).css({opacity: 1});

					if(animName == null) {
						// if no customize animation then use default animation
						$(this).children().each(function(index) {
							$(this).addClass('anim-content');
						});
					} else {
						// if have customize animation
						$(this).children().each(function(index) {
							$(this).addClass('animated');
							$(this).on('inview',function(event,visible){
								if (visible == true) {
									$(this).addClass(animName);
								}
							});
						});
					}

				// if the container is not parent
				} else {
					if(animName == null) {
						// if no customize animation then use default animation
						$(this).addClass('anim-content');
					} else {
						// if have customize animation
						$(this).addClass('animated');
						$(this).on('inview',function(event,visible){
							if (visible == true) {
								$(this).addClass(animName);
							}
						});
					}
					// if have customize animation-delay
					if(animDelay != null) {
						if(isNaN(animDelay)) {
							animDelay = defaultDelay;
						}
						var delayNum = animDelay + 's';
						$(this).css('-webkit-animation-delay', delayNum)
								.css('-moz-animation-delay', delayNum)
								.css('-ms-animation-delay', delayNum)
								.css('-o-animation-delay', delayNum);
					}
				}

			});

			$.each($('.anim-content, .inview'),function(){
				$(this).on('inview',function(event,visible){
					var _this = $(this),
					_delay = 1000;

					if (visible == true) {
						if(!_this.hasClass('done')) {
							_this.addClass('visible done');
						}

						var _animDelay = _this.css('animation-delay').replace('s','');
						if(_animDelay) {
							_delay = _animDelay * 2000;
						}

						setTimeout(function() {
							_this.removeClass('animate anim-content inview');
						}, _delay);
					}
				});
			});

			$.each($('[anim-control="parent"]'),function(){
				var _this = $(this);

				_this.on('inview',function(event,visible){
					if (visible == true) {
						if(!$('.anim-content', _this).hasClass('done')) {
							$('.anim-content', _this).addClass('visible done');
						}
					}
				});
			});
		}
		catch(error) {
			console.error('animation error:',error.message);
		}
	},
	loader: function(state) {
		var _loader = {
			content: '',
			init: function() {
				var perfData = window.performance.timing, // The PerformanceTiming interface
				    EstimatedTime = -(perfData.domContentLoadedEventEnd - perfData.navigationStart), // Calculated Estimated Time of Page Load which returns negative value.
				    time = parseInt((EstimatedTime/1000)%60)*100; //Converting EstimatedTime from miliseconds to seconds.x 
				var range = 100 - 0,
				      current = 0,
				      increment = 100 > 0 ? 1 : -1,
				      loaded = false,
				      stepTime = Math.abs(Math.floor(time / range)),
				      obj = $(".loader__process");
				var loader_timer = setInterval(function() {
				    if(!loaded) {
				        if(current > 70) {            
				            increment = 0.1;
				        }
				        else if(current > 80) {
				            increment = 0.05;
				        }
				        else if(current > 90) {
				            increment = 0.01;
				        }
				        else if(current > 95) {
				            increment = 0.00;
				        }
				    }
				    current += increment;
				    if(current >= 100) {
				        current == 100;
				    }
				    $(obj).height(current + "%");
				    if (current >= 100) {
				        clearInterval(loader_timer);
				        setTimeout(function() {
				            $(".loader__process").stop().animate({
				                height: '',
				                minHeight: document.getElementById('header').clientHeight + 'px'
				            }, 300, "easeOutExpo", function() {
				            	document.getElementById('loader-overlay').className = 'loader__overlay hide';
				            	setTimeout(function() {
				            		$('#loader').fadeOut();
				            	}, 100);
				            });
				        }, 200);
				    }
				}, stepTime);
				$(window).on('load', function() {
				    loaded = true;
				    increment += 5;
				    setTimeout(function() {
				        increment += 10;
				    }, 500);
				});
			},
			close: function() {
				// $('#loader').fadeOut();
			}
		}

		if(state == 'init') {
			_loader.init();
		} else if(state == 'close') {
			_loader.close();
		}
	},
	enquire: function(opt) {
		var debounce = typeof opt.debounce == 'undefined' ? 200 : opt.debounce;
		var leading = typeof opt.leading == 'undefined' ? true : opt.leading;
		var _enquire = {
			status: opt.update,
			desktop: opt.desktop,
			mobile: opt.mobile,
			counterDesktop: 0,
			counterMobile: 0,
			width: 0,
			height: 0,
			between: 767,
			range1: opt.range1,
			range2: opt.range2,
			tablet: false, //this is meant for user interaction (click mouseover), dont use for css
			init: function() {
				if(opt.between != null) {
					_enquire.between = opt.between;
				}

				if(opt.tablet != null) {
					_enquire.tablet = opt.tablet;
				}

				window.addEventListener('resize', function() {
					if(Math.max(document.documentElement.clientWidth, window.innerWidth || 0) != _enquire.width || (!VietinBank.isMobile && Math.max(document.documentElement.clientHeight, window.innerHeight || 0) != _enquire.height)) {
						_enquire.update();
					}
				});

				$(document).ready(function() {
					_enquire.update();
				});
			},
			update: VietinBank.debouncev2(function() {
				_enquire.width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
				_enquire.height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
				if(_enquire.status == 'range' && _enquire.range1 > 0 && _enquire.range2 > 0 && _enquire.range2 > _enquire.range1) {
					if(_enquire.width >= _enquire.range1 && _enquire.width <= _enquire.range2) {
						_enquire.counterMobile = 0;

						// if desktop
						if(_enquire.counterDesktop == 0) {
							_enquire.counterDesktop = 1;
							_enquire.desktop();
						}
					}
					else {
						_enquire.counterDesktop = 0;
						// if mobile
						if(_enquire.counterMobile == 0) {
							_enquire.counterMobile = 1;
							_enquire.mobile();
						}
					}
				}
				else if(_enquire.status == 'always') {
					// update every resize
					if(_enquire.width > _enquire.between) {
						_enquire.desktop();
					} else {
						_enquire.mobile();
					}
				} else {
					if(_enquire.tablet && VietinBank.isMobile) {
						_enquire.mobile();
					}
					else if(_enquire.width > _enquire.between) { // if detected desktop or mobile then update once
						_enquire.counterMobile = 0;

						// if desktop
						if(_enquire.counterDesktop == 0) {
							_enquire.counterDesktop = 1;
							_enquire.desktop();
						}
					} else {
						_enquire.counterDesktop = 0;

						// if mobile
						if(_enquire.counterMobile == 0) {
							_enquire.counterMobile = 1;
							_enquire.mobile();
						}
					}
				}
			}, debounce, {
				leading: opt.leading,
				trailing: true
			})
		}
		_enquire.init();
		return _enquire;
	},
	getAttributes: function(elem) {
		var attributes = {}; 

		if( elem.length ) {
			$.each( elem[0].attributes, function( index, attr ) {
				attributes[ attr.name ] = attr.value;
			});
		}
		return attributes;
	},
	toComma: function(value) {
        return value.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
    },
	numberal: {
        isNumberKey: function (evt, element) {
            var charCode = (evt.which) ? evt.which : event.keyCode

            if ((charCode >= 48 && charCode <= 57) || (charCode >= 96 && charCode <= 105) || (charCode == 8 || charCode == 46 || charCode == 37 || charCode == 39 || charCode == 9)) { 
                // 0-9 only
                var len = $(element).val().length;
                var index = $(element).val().indexOf('.');

                if (index > 0 && charCode == 46) {
                    return false;
                }

                if (index > 0) {
                    var CharAfterdot = (len + 1) - index;

                    if (CharAfterdot > 3) {
                        return false;
                    }
                }
            } else {
                return false;
            }

            return true;
        },
    },
	scrollTo: function(elemId, duration, callback) {
		if(!duration) {
			duration = 500;
		}
		var foundItem = $('#'+elemId);

		if (foundItem && foundItem.length) {
			var currentTop = $('body,html').scrollTop();
			var elemTop = foundItem.offset().top;
			var extra = currentTop > elemTop ? $('header').height() : $('.navigation__product-anchor.bp-sticky-content').height();
			$('body,html').animate({scrollTop: foundItem.offset().top - extra - 40}, duration, VietinBank.debouncev2(callback, 300, { leading: false, trailing: true }));
		}
	},
	isInSight: function($elem) {
		// var menuHeight = $('header').height();
		// var screenTop = $('html,body').scrollTop() + menuHeight;
		// var screenBottom = screenTop + $('body').height();
		// var elemTop = $elem.offset().top;
		// var elemBottom = elemTop + $elem.height();
		// return elemTop < screenTop && elemBottom > screenTop && elemBottom ;
	},
	dispatchEvent: function(elem, eventName) {
		var event;
		if (typeof(Event) === 'function') {
			event = new Event(eventName);
		}
		else {
			event = document.createEvent('Event');
			event.initEvent(eventName, true, true);
		}
		elem.dispatchEvent(event);
	},
	debounce: function(func, wait, immediate) {
		var timeout;
		return function() {
			var context = this, args = arguments;
			clearTimeout(timeout);
			timeout = setTimeout(function() {
				timeout = null;
				if (!immediate) func.apply(context, args);
			}, wait || 500);
			if (immediate && !timeout) func.apply(context, args);
		};
	},
	debouncev2: function (func, wait, options) {
		function isObject(value) {
		  var type = typeof value;
		  return !!value && (type == 'object' || type == 'function');
		}
		var now = function() {
		  return Date.now();
		};

	  	var lastArgs,
	  		lastThis,
	      	maxWait,
	      	result,
	      	timerId,
	      	lastCallTime,
	      	lastInvokeTime = 0,
	      	leading = false,
	      	maxing = false,
	      	trailing = true;

	   	var nativeMax = Math.max,
	   		nativeMin = Math.min;

	  if (typeof func != 'function') {
	    throw new TypeError(FUNC_ERROR_TEXT);
	  }
	  wait = Number(wait) || 0;
	  if (isObject(options)) {
	    leading = !!options.leading;
	    maxing = 'maxWait' in options;
	    maxWait = maxing ? nativeMax(Number(options.maxWait) || 0, wait) : maxWait;
	    trailing = 'trailing' in options ? !!options.trailing : trailing;
	  }

	  function invokeFunc(time) {
	    var args = lastArgs,
	        thisArg = lastThis;

	    lastArgs = lastThis = undefined;
	    lastInvokeTime = time;
	    result = func.apply(thisArg, args);
	    return result;
	  }

	  function leadingEdge(time) {
	    // Reset any `maxWait` timer.
	    lastInvokeTime = time;
	    // Start the timer for the trailing edge.
	    timerId = setTimeout(timerExpired, wait);
	    // Invoke the leading edge.
	    return leading ? invokeFunc(time) : result;
	  }

	  function remainingWait(time) {
	    var timeSinceLastCall = time - lastCallTime,
	        timeSinceLastInvoke = time - lastInvokeTime,
	        result = wait - timeSinceLastCall;

	    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
	  }

	  function shouldInvoke(time) {
	    var timeSinceLastCall = time - lastCallTime,
	        timeSinceLastInvoke = time - lastInvokeTime;

	    // Either this is the first call, activity has stopped and we're at the
	    // trailing edge, the system time has gone backwards and we're treating
	    // it as the trailing edge, or we've hit the `maxWait` limit.
	    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
	      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
	  }

	  function timerExpired() {
	    var time = now();
	    if (shouldInvoke(time)) {
	      return trailingEdge(time);
	    }
	    // Restart the timer.
	    timerId = setTimeout(timerExpired, remainingWait(time));
	  }

	  function trailingEdge(time) {
	    timerId = undefined;

	    // Only invoke if we have `lastArgs` which means `func` has been
	    // debounced at least once.
	    if (trailing && lastArgs) {
	      return invokeFunc(time);
	    }
	    lastArgs = lastThis = undefined;
	    return result;
	  }

	  function cancel() {
	    if (timerId !== undefined) {
	      clearTimeout(timerId);
	    }
	    lastInvokeTime = 0;
	    lastArgs = lastCallTime = lastThis = timerId = undefined;
	  }

	  function flush() {
	    return timerId === undefined ? result : trailingEdge(now());
	  }

	  function debounced() {
	    var time = now(),
	        isInvoking = shouldInvoke(time);

	    lastArgs = arguments;
	    lastThis = this;
	    lastCallTime = time;

	    if (isInvoking) {
	      if (timerId === undefined) {
	        return leadingEdge(lastCallTime);
	      }
	      if (maxing) {
	        // Handle invocations in a tight loop.
	        timerId = setTimeout(timerExpired, wait);
	        return invokeFunc(lastCallTime);
	      }
	    }
	    if (timerId === undefined) {
	      timerId = setTimeout(timerExpired, wait);
	    }
	    return result;
	  }
	  debounced.cancel = cancel;
	  debounced.flush = flush;
	  return debounced;
	},
	getUrlVars: function() {
		var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&#]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
	},
	setUrlVars: function(key, value) {
		var url = window.location.href;
    var hash = location.hash;
    url = url.replace(hash, '');
    if (url.indexOf(key + "=") >= 0) {
			var old = VietinBank.getUrlVars()[key];
    	url = url.replace(key+"="+old, key+"="+value);
    } else {
	    if (url.indexOf("?") < 0)
	        url += "?" + key + "=" + value;
	    else
	        url += "&" + key + "=" + value;
    }
    window.history.pushState({ path: url + hash }, '', url + hash ); // <-- this push to history
    // window.location.href = url + hash; // <--- this will refresh
	},
	removeUrlVars: function(key) {
		var url = window.location.href;
    	var hash = location.hash;
    	url = url.replace(hash, '');
    	if (url.indexOf(key + "=") >= 0) {
			var old = VietinBank.getUrlVars()[key];
    		url = url.replace(url[url.indexOf(key + "=") - 1]+key+"="+old, '');
	    	window.history.pushState({ path: url + hash }, '', url + hash ); // <-- this push to history
    	} 
    	// window.location.href = url + hash; // <--- this will refresh
	},
	selectednav: function() {
		if(typeof selected_nav !== 'undefined') {
			var a_tag = $('a[href="#'+selected_nav+'"');
			if(a_tag.length) {
				$('header .header__main--navi li.selected').removeClass('selected');
				a_tag.parent('li').addClass('selected');
			}
			else {
				$('header .header__main--navi li.selected').removeClass('selected');
				$('a[href="#accounts"').parent('li').addClass('selected');
			}
		}
	},
	from: function(tmp) {
		var temp_array = [],
    	length = tmp.length;
		for (var i = 0; i < length; i++) {
		    temp_array.push(tmp[i]);
		}
		return temp_array;
	},
accordionNav: function() {
	//show in mobile if class .accordion-mobile-nav is present
	var parent = $('.accordion-mobile-nav-list').closest('.accordion-mobile-nav-items');
	var accordionParent = $('.accordion-mobile-nav-parent');
	var _nav = {
		wrapper: $('.accordion-mobile-nav-list',parent),
		nav: $('.a-mobile-nav-item',parent),
		navCount: $('.a-mobile-nav-item',parent).length,
		label: $('.accordion-mobile-nav-label',parent),
		lastTop: 0,
		isClickNav:0,
		parentHeight: 0,
		active: false,
		height: function() {
			return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
		},
		heightGutter: function() {
			var _gutter = $('header').outerHeight();
			if(parent.hasClass('type2')) {
				_gutter = 0;
			}
			return _gutter;
		},
		scroll: function() {
			if($(_nav.nav.eq(0).attr('data-href')).length) {
				if(_nav.parentHeight == 0) {
					_nav.parentHeight = parent.outerHeight();
				}

				var offsetTop = $(_nav.nav.eq(0).attr('data-href')).offset().top;
				var t_height = $(_nav.nav.eq(0).attr('data-href')).offset().top + accordionParent.outerHeight() - _nav.parentHeight;
				var st = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
				
				if(st >= offsetTop){
					if(st > t_height) {
						_nav.close();
						parent.addClass('d-none');
					} else {
						parent.removeClass('d-none');
					}
				} else {
					_nav.close();
					parent.addClass('d-none');
				}

				_nav.update(st);
				_nav.lastTop = st;
			}
		},
		update: VietinBank.debouncev2(function(st) {
			var header = ($('header').outerHeight() + VietinBank.headertransform.get());
			for(var i = 0; i < _nav.navCount; i++ ){
				if($(_nav.nav.eq(i).attr('data-href')).length) {
					var offsetTop = $(_nav.nav.eq(i).attr('data-href')).offset().top;
					if(st >= (offsetTop - header - _nav.label.outerHeight())){
						if(!_nav.isClickNav){
							_nav.nav.removeClass('selected');
							_nav.nav.eq(i).addClass('selected');
							$('span',_nav.label).html(_nav.nav.eq(i).html());
						}
					}
				}
			}
		}, 100, {leading: false, trailing: true}),
		open: function() {
			_nav.active = true;

		  	var _height = _nav.height() - _nav.heightGutter();
		  	TweenMax.fromTo(_nav.wrapper, 0.3, {
		  		height: 0,
		  		overflow: 'hidden',
		  		onComplete: function() {
		  			VietinBank.bodystopscroll(true, '.accordion-mobile-nav-list');
		  			VietinBank.headertransform.remove();
		  			$('body').addClass('subnav-opened');
		  			// TweenMax.to($('#main-container'), 0.3, {opacity: 0,});
		  			$('.accordion-mobile-nav-items').addClass('active');
		  			_nav.wrapper.addClass('active');
		  			_nav.label.addClass('active');
		  		}
		  	}, {height: _height, overflow: 'auto', onComplete: function() {
		  		_nav.updateHeight();
		  		clearTimeout(_nav.heightTimeout)
		  		_nav.heightTimeout = setTimeout(function() {
		  			_nav.updateHeight();
		  		}, 500);
		  	}});
		},
		close: function() {
			_nav.active = false;
			var _height = _nav.height() - _nav.heightGutter();
			TweenMax.fromTo(_nav.wrapper, 0.3, {
				height: _height,
				onComplete: function() {
					// TweenMax.to($('#main-container'), 0.3, {opacity: 1});
					$('body').removeClass('subnav-opened');
					_nav.label.removeClass('active');
				}
			}, {height: 0, onComplete: function() {
				VietinBank.bodystopscroll(false, '.accordion-mobile-nav-list');
				_nav.wrapper.removeClass('active');
				$('.accordion-mobile-nav-items').removeClass('active');
				}
			});
		},
		click: function() {
			_nav.label.on('click', function(e) {
				_nav.wrapper.css('top',_nav.label.outerHeight()+1);
				if(_nav.wrapper.hasClass('active')) {
					_nav.close();
				}else{
					_nav.open();
				}
			});
			_nav.nav.on('click', function(e) {
				e.preventDefault();
				VietinBank.bodystopscroll(false, '.accordion-mobile-nav-list');
				var itemClick = $(this);
				_nav.isClickNav = 1;
				$('span',_nav.label).html(itemClick.html());
				_nav.close();
				if(_nav.lastTop > $(itemClick.attr('data-href')).offset().top){
					var scrollTo = parseInt(($(itemClick.attr('data-href')).offset().top - $('.header__main').height() - _nav.label.outerHeight()) + 1);
					$("html, body").animate({ scrollTop: scrollTo }, 500, function() {
						_nav.isClickNav = 0;
					});
				}else{
					
					$("html, body").animate({ scrollTop: $(itemClick.attr('data-href')).offset().top - _nav.label.outerHeight() }, 500, function() {
						_nav.isClickNav = 0;
					});
				}

				$(itemClick.attr('data-href')).addClass('expanded');
				$(itemClick.attr('data-href')).children('.accordion__item__content').delay(700).slideDown();
			});

			$('.com__side-nav-title').click(function() {
				parent.removeClass('d-none');
				_nav.open();
			});

			$('.accordion-mobile-nav-close').click(function() {
				_nav.close();
			});
		},
		resize: function() {
			if(!parent.hasClass('d-none') && VietinBank.width >= 768){
				_nav.close();
				parent.addClass('d-none');
				VietinBank.bodystopscroll(false, '.accordion-mobile-nav-list');
			}
		},
		init: function() {
			_nav.resize();
			parent.parent().addClass('accordion-mobile-nav-parent');
			if($(_nav.nav).parents('.com__side-nav').length > 0) {
				_nav.nav = $('.com__nav-dd-set.set-active .a-mobile-nav-item', parent);
			}
			accordionParent = parent.parent();
			parent.appendTo('header');
			for(var i = 0; i < _nav.navCount; i++ ){
				if($(_nav.nav.eq(i).attr('data-href')).length) {
					var offsetTop = $(_nav.nav.eq(i).attr('data-href')).offset().top;
					if(_nav.lastTop >= offsetTop){
						_nav.nav.removeClass('selected');
						_nav.nav.eq(i).addClass('selected');
						$('span',_nav.label).html(_nav.nav.eq(i).html());
					}else{
						$('span',_nav.label).html(_nav.nav.eq(0).html());
					}
				}
			}
			_nav.click();
			_nav.scroll();

			// update the height of the dropdown upon resize
			window.addEventListener('resize', function() {
				if(_nav.active) {
					_nav.updateHeight();
				}
			});

			window.addEventListener('scroll', function() {
				_nav.updateHeight();
			});
		},
		destroy: function() {
			$(window).off('scroll', _nav.scroll);
		},
		heightTimeout: 0,
		updateIndex: 0,
		updateHeight: function() {
			_nav.updateIndex++;
			var _wrapperHeight = _nav.height() - _nav.heightGutter();
			_nav.wrapper.css({height: _wrapperHeight});
		}
	}
	try {
		VietinBank.enquire({
			between: 767,
			mobile: function() {
				_nav.init();
				$(window).resize(function() {
					_nav.resize();
				});
				$(window).scroll(_nav.scroll);
			},
			desktop: function() {
				_nav.destroy();
			}
		})
	}
	catch(error) {
		console.error('accordionav error:', error.message);
	}
		
},
    accordion: function() {
        var _accordion = {
            item: '.accordion__item',
            itemexpanded: '.accordion__item.expanded',
            title: '.accordion__item__title:not(.accordion__item__nocontent)',
            content: '.accordion__item__content',
            btn: '.accordion__button',
            btnHide: '.accordion__button .accordion__button-hide-all',
            btnShow: '.accordion__button .accordion__button-show-all',
            collapseIcon: '.accordion__item__collapse-icon',
            bar: '.accordion__item__bar',
            rotate: '.accordion--rotate',
            gallery: '.accordion__gallery',
            image: '.accordion__image',
            rotate_found: false,
            rotate_interval: null,
            rotate_pause: false,
            goTo: false,
            init: function(elem) {
                var attrs = VietinBank.getAttributes(elem);
                var closeOthers = attrs['close-others'];
                var initMode = attrs['init-mode'];
                var initIndex = null;
                var closeSelf = attrs['close-self'];
                var hash = window.location.hash.replace('#', '');
                var foundItem = hash && elem.find('#' + hash + _accordion.item);
                if (initMode) {
                    if (initMode === 'first' && !foundItem) {
                        if(elem.find('.accordion__item.expanded').length == 0) {
                            elem.find(_accordion.item).eq(0).addClass('expanded');
                        }
                    } else {
                        if (foundItem && foundItem.length) {
                            foundItem.addClass('expanded');
                            setTimeout(function() {
                                VietinBank.scrollTo(hash);
                            }, 200);
                        } else if (initMode === 'both') {
                            elem.find(_accordion.item).addClass('expanded');
                        }
                    }
                }
                elem.find(_accordion.collapseIcon).css({
                    display: ''
                });
                elem.find(_accordion.gallery).parent().each(function() {
                    var _this = $(this);
                    _this.find(_accordion.image).each(function(index) {
                        $(this).attr('accordion__index',(index+1)).css({ zIndex: (index+1), opacity: 0 });
                    })
                    _this.find(_accordion.item).each(function(index) {
                        $(this).attr('accordion__index',(index+1));
                    })
                    if(_this.find('.accordion__item.expanded').length == 0) {
                        _this.find(_accordion.image).eq(0).animate({ opacity: 1 }, 500, function() {
                            $(this).addClass('active')
                        });
                    }
                    else {
                        _this.find(_accordion.image).eq(_this.find('.accordion__item.expanded').attr('accordion__index') - 1).animate({ opacity: 1 }, 500, function() {
                            $(this).addClass('active');
                        });
                    }
                    _this.find(_accordion.gallery).height((_this.find(_accordion.gallery).width()));
                    $(window).resize(function() {
                        _this.find(_accordion.gallery).height((_this.find(_accordion.gallery).width()));
                    })
                })

                _accordion.checkItems(elem);
                elem.find(_accordion.btn).on('click', function(e) {
                    e.preventDefault();
                    var collapsedItem = elem.find(_accordion.item + ':not(.expanded)');

                    if (collapsedItem && collapsedItem.length) {
                        elem.find(_accordion.item).addClass('expanded');
                    } else {
                        elem.find(_accordion.item).removeClass('expanded');
                    }
                    _accordion.checkItems(elem);
                });

                elem.each(function() {
                    var _this = this;
                    if($(_this).hasClass(_accordion.rotate.substring(1, _accordion.rotate.length))) {
                        _accordion.animate($(_this));             
                    }
                    else {
                        $(_this).find(_accordion.title).on('click', function() {
                            _accordion.click(this, $(_this));
                        });
                    }
                })

                setTimeout(function() {
                    VietinBank.dispatchEvent(elem[0], 'accordion_initialized');
                    VietinBank.dispatchEvent($(window)[0], 'accordion_initialized');
                }, 500);
            },
            click: function(btn, elem) {
                var attrs = VietinBank.getAttributes(elem);
                var clickedItem = $(btn).parents(_accordion.item);
                var clickedAlreadyExpanded = false;
                var closeSelf = attrs['close-self'];
                var closeOthers = attrs['close-others'];
                var autoScroll = attrs['auto-scroll'];
                if(clickedItem.hasClass('expanded')) {
                    clickedAlreadyExpanded = true;
                }

                if(elem.hasClass(_accordion.rotate.substring(1, _accordion.rotate.length)) && !clickedAlreadyExpanded) {
                    _accordion.clearAnimation(elem);
                }
                if ('' + closeOthers === 'true') {
                    if (clickedItem.hasClass('expanded') && !closeSelf) {
                        clickedItem.removeClass('expanded');
                    } else {
                        elem.find(_accordion.item).removeClass('expanded');
                        clickedItem.addClass('expanded');
                    }
                } else {
                    if(!closeSelf) {
                        clickedItem.toggleClass('expanded');                            
                    }
                }
                elem.find(_accordion.gallery).each(function() {
                    if(!clickedAlreadyExpanded) {
                        var _this = $(this);
                        var _visibleImage = $('.accordion__image.active', _this);
                        _visibleImage.removeClass('active');
                        _visibleImage.stop();
                        $('.accordion__image[accordion__index="'+clickedItem.attr('accordion__index')+'"]', _this).addClass('active');
                        $('.accordion__image[accordion__index="'+clickedItem.attr('accordion__index')+'"]', _this).animate({ opacity: 1}, 500, function() {
                            // $(this).addClass('active');
                        });
                        _visibleImage.animate({ opacity: 0 }, 500, function() {
                            // $(this).removeClass('active');
                        });
                    }
                })
                if(!closeSelf || !clickedAlreadyExpanded) {
                    _accordion.checkItems(elem, btn);                        
                    if(elem.hasClass(_accordion.rotate.substring(1, _accordion.rotate.length))) {
                        _accordion.animate(elem);                        
                    }
                }

                if(autoScroll == 'true') {
                    _accordion.goTo = true;
                }
            },
            destroy: function(elem) {
                elem.find(_accordion.content).css({
                    height: '',
                    display: 'block'
                });
                elem.find(_accordion.collapseIcon).css({
                    display: 'none'
                });
                _accordion.clearAnimation(elem);
                _accordion.rotate_found = false;
                elem.find(_accordion.title).off("click");
            },
            clearAnimation: function(elem) {
                elem.find('.accordion__item.expanded').find(_accordion.bar).children().eq(0).css({height:'0%'});
                elem.find('.accordion__item.expanded').find(_accordion.bar).children().eq(1).css({height: '100%'});
                clearInterval(elem.rotate_interval);
                elem.rotate_interval = null;
            },
            animate: function(elem) {
                if(elem.targeted == null) {
                    elem.find(_accordion.title).on('click', function() {
                        _accordion.click(this, elem);
                    });
                }
                var elem_animate = elem;
                var elem_delay = elem_animate.attr('accordion-delay') ? elem_animate.attr('accordion-delay') : 0;
                var counter = 0;
                var first = null;
                var last = null;
                setTimeout(function() {
                    if(elem_animate.find('.accordion__item.expanded').length !== 0) {
                        first = elem_animate.find('.accordion__item.expanded').find(_accordion.bar).children().eq(0);
                        last = elem_animate.find('.accordion__item.expanded').find(_accordion.bar).children().eq(1);
                        elem_animate.find('.accordion__item.expanded').hover(function() {
                            elem_animate.rotate_pause = true;
                        }, function() {
                            elem_animate.rotate_pause = false;
                        });
                        if(elem_animate.rotate_interval == null) {
                            elem_animate.rotate_interval = setInterval(function() {
                                if(!elem_animate.rotate_pause) {
                                    first.css({height: counter+'%'});
                                    // last.css({height: (100 - counter)+'%'});
                                    counter += 1;
                                    if(counter >= 100) {
                                        _accordion.clearAnimation(elem_animate);
                                        elem_animate.find('.accordion__item.expanded').off("mouseenter mouseleave");
                                        if(elem_animate.find('.accordion__item.expanded').next().length == 0) {
                                            _accordion.click(elem_animate.find(_accordion.item).eq(0).find(_accordion.title), elem_animate);
                                        }
                                        else {
                                            _accordion.click(elem_animate.find('.accordion__item.expanded').next().find(_accordion.title), elem_animate);
                                        }
                                    }
                                }
                            }, 50 + (elem_delay / 100) );
                        }
                    }
                }, 500)
            },
            checkItems: function(elem, btn) {
                btn = typeof btn !== 'undefined' ? btn : false;
                elem.find(_accordion.item).each(function() {
                    var item = $(this);
                    var itemContent = item.find(_accordion.content);
                    if (item.hasClass('expanded')) {
                        itemContent.slideDown(300, function() {

                            // auto scroll to selected item
                            setTimeout(function() {
                                if(_accordion.goTo) {
                                    var _gutter = 10,
                                    _target = $(btn).offset().top - (_gutter);
                                    
                                    $('body, html').animate({scrollTop: _target}, 700);
                                }
                            }, 100);
                        });
                    } else {
                        itemContent.slideUp();
                    }
                }).promise().done(function() {
                    setTimeout(function() {
                        if(btn) {
                            _accordion.anchorTo($(btn).parents(_accordion.item));
                        }
                    }, 500)
                })

                var collapsedItem = elem.find(_accordion.item + ':not(.expanded)');

                if (collapsedItem && collapsedItem.length) {
                    elem.find(_accordion.btnShow).show();
                    elem.find(_accordion.btnHide).hide();
                } else {
                    elem.find(_accordion.btnShow).hide();
                    elem.find(_accordion.btnHide).show();
                }
            },
            anchorTo: function(target) {
                if(target.length) {
                    VietinBank.scrollTo(target[0].id, 500, function() {
                        VietinBank.dispatchEvent($(window)[0], 'accordion_done');
                    });
                }
            },
            onResize: function() {
                $('.accordion').each(function() {
                    var elem = $(this);
                    var attrs = VietinBank.getAttributes(elem);
                    var applyFor = attrs['apply-for'];
                    var applyBetween = attrs['apply-between'];
                    if (applyFor) {
                        var enquire = {
                            status: 'always',
                            mobile: function() {
                                _accordion.destroy(elem);
                            },
                            desktop: function() {
                                _accordion.destroy(elem);
                            }
                        };
                        if(applyBetween) {
                            enquire['between'] = applyBetween;
                        }
                        enquire[applyFor] = function() {
                            _accordion.init(elem)
                        };

                        VietinBank.enquire(enquire);
                    }
                    else {
                        _accordion.init(elem);
                    }
                });
            },
        };
        try {
            _accordion.onResize();
        }
        catch(error) {
            console.error('accordion error: ', error.message);
        }
    },
    accordion2: function(opt) {
        var _acc = {
            target: '',
            onetime: false,
            init: function() {
                _acc.defaults();

                $('[accordion-btn]', _acc.target).off('click').on('click', function() {
                    var _parent = $(this).closest('[accordion-set]');

                    if($(_acc.target).hasClass('accordion-active')) {
                        if(_parent.hasClass('selected')) {
                            _acc.close(_parent);
                        } else {
                            _acc.open(_parent);
                        }
                    }
                });

                // detect all the init active set
                var _defActive = $('[accordion-set].selected', _acc.target);
                if(_acc.onetime) {
                    // open one active set only
                    _acc.open(_defActive.eq(0));
                } else {
                    // open all active set
                    for (var i = 0; i < _defActive.length; i++) {
                        _acc.open(_defActive.eq(i));
                    }
                }
            },
            defaults: function() {
                _acc.target = document.querySelector(opt.target);

                if(opt.onetime == true) {
                    _acc.onetime = true;
                }

                $(_acc.target).addClass('accordion-active');
                $('[accordion-details]', _acc.target).hide();
            },
            open: function(target) {
                if(_acc.onetime) {
                    _curActive = $('[accordion-set].selected', _acc.target);
                    _curActive.removeClass('selected');
                    $('[accordion-details]', _curActive).slideUp(200);
                }

                target.addClass('selected');
                $('[accordion-details]', target).slideDown(200);
            },
            close: function(target) {
                target.removeClass('selected');
                $('[accordion-details]', target).slideUp(200);
            },
            destroy: function(opt) {
                $(opt.target).removeClass('accordion-active');
                $('[accordion-details]', opt.target).show();
            }
        }
        try {
            if(opt.destroy == true) {
                _acc.destroy(opt);
            } else {
                _acc.init();
            }
        }
        catch(error) {
            console.error('accordion2 error:', error.message);
        }
    },
	autoScroll: function(opt) {
		var _scroll = {
			hash: '',
			ids: [],
			gutter: 0,
			init: function() {
				// get the ids of all scroll buttons
				$('[auto-scroll]').each(function() {
					var _this = $(this);
					_scroll.ids.push(_this.attr('href'));
				});

				// if there is a present content, auto scroll upon page load
				if($.inArray(VietinBank.hash, _scroll.ids) >= 0) {
					_scroll.hash = $(VietinBank.hash);

					if(_scroll.hash.length) {
						setTimeout(function() {
							_scroll.update(_scroll.hash);
						}, 500);
					}
				}

				// if button was click
				$('[auto-scroll], .smoothscroll').click(function(e) {
					e.preventDefault();
					var _this = $(this),
					_target = $(_this.attr('href'));

					_scroll.update(_target, _this);
				});
			},
			update: function(target, button) {
				if($(target).length) {
					var _offset = 0;
					var _speed = 500;
					if($(target).attr('scroll-offset')) {
						_offset = parseInt($(target).attr('scroll-offset'));
					}
					if(typeof $(button).attr('scroll-speed') !== 'undefined') {
						_speed = parseInt($(button).attr('scroll-speed'));
					}

					var _target = $(target).offset().top -(_scroll.gutter + _offset);
					$('body, html').animate({scrollTop: _target}, _speed);
				}
			}
		}
		try {
			if(typeof opt != 'undefined' && opt.target) {
				_scroll.update(opt.target);
			} else {
				_scroll.init();
			}
		}
		catch(error) {
			console.error('autoScroll error:', error.message);
		}
	},

buttonswitcher: function(opt) {
	var _switch = {
		target: '',
		dragger: '',
		count: 0,
		current: 0,
		selected: '',
		width: 0,
		height: 0,
		top: 0,
		left: 0,
		padding: 0,
		speed: 0.3,
		resizeTimer: 0,
		init: function() {
			_switch.defaults();

			_switch.update(0);

			window.addEventListener('resize', VietinBank.debouncev2(function() {
				_switch.resize(0);
			}, 250, {
				leading: false,
				trailing: true
			}));
			window.addEventListener('load', function() {
				_switch.resize(0);
			});

			$('li a', _switch.target).click(function(e) {
				e.preventDefault();

				var _this = $(this),
				_parent = _this.parent();

				if(!(_parent.hasClass('selected'))) {
					_switch.current = _this.parent().attr('switch-number');
					_switch.update(_switch.speed);
				}
			})
		},
		defaults: function() {
			// for targets
			_switch.target = opt.target;
			_switch.count = $('li', _switch.target).length;

			if(opt.padding) {
				_switch.padding = opt.padding;
			}

			// for speed
			if(opt.speed) {
				_switch.speed = opt.speed;
			}
			
			// for dragger
			_switch.dragger = document.createElement('div');
			$(_switch.dragger).addClass('com__button-switcher--dragger');
			TweenMax.set(_switch.dragger, {width: 0, height: 0, x: 0, y: 0});
			$(_switch.target).prepend(_switch.dragger);

			// for list
			$('li', _switch.target).each(function(index) {
				var _this = $(this);
				_this.attr('switch-number', index);

				if(_this.hasClass('selected')) {
					_switch.current = index;
				}
			});
		},
		update: function(speed) {
			_switch.selected = $('li', _switch.target).eq(_switch.current);

			$('li', _switch.target).removeClass('selected');
			$(_switch.selected).addClass('selected');

			_switch.resize(speed);

			// if there is after function
			if(opt.afterUpdate) {
				opt.afterUpdate(_switch);
			}
		},
		resize: function(speed) {
			_switch.width = $(_switch.selected).outerWidth();
			_switch.height = $(_switch.selected).outerHeight() + (_switch.padding * 2);
			_switch.top = ($(_switch.selected).offset().top - $(_switch.target).offset().top) - _switch.padding;
			_switch.left = $(_switch.selected).offset().left - $(_switch.target).offset().left;

			TweenMax.to(_switch.dragger, speed, {width: _switch.width, height: _switch.height, x: _switch.left, y: _switch.top});
		}
	}
	try {
		_switch.init();
	}
	catch(error) {
		console.error('buttonswitcher error:',error.message);
	}
},
calculatorSteps: function() {
  var wrap = function(elem) {
    var calculatorSteps = {
      init: function(elem) {
        calculatorSteps.elem = elem;
        calculatorSteps.currentStep = 1;
        calculatorSteps.checkedStep = 1;
        calculatorSteps.lastStep = 0;

        var maxHeight = 0;
        calculatorSteps.lastStep = $('.custom__calculator-steps__main-content .step', calculatorSteps.elem).length;
        $('.custom__calculator-steps__main-content .step', calculatorSteps.elem).each(function() {
          if (maxHeight < $(this).height()) {
            maxHeight = $(this).height();
          }
        });
        // $('.custom__calculator-steps__main-content').height(maxHeight + 50);
        $('.custom__calculator-steps__nav .step', calculatorSteps.elem).on('click', function() {
          var stepIndex = $(this).index();
          if (calculatorSteps.checkedStep > stepIndex) calculatorSteps.step(1 + stepIndex);
        });
        $('.custom__calculator-steps__main-content .buttons .btn-next', calculatorSteps.elem).on('click', function() {
          if (calculatorSteps.currentStep === $('.custom__calculator-steps__main-content .step', calculatorSteps.elem).length) return;
          calculatorSteps.currentStep++;
          calculatorSteps.step(calculatorSteps.currentStep);
        });
        $('.custom__calculator-steps__main-content .buttons .btn-prev', calculatorSteps.elem).on('click', function() {
          if (calculatorSteps.currentStep === 1) return;
          calculatorSteps.currentStep--;
          calculatorSteps.step(calculatorSteps.currentStep);
        });

        $('.custom__calculator-steps', calculatorSteps.elem).on('focus', 'input, .select2', function(e) {
          var elem = $(this);
          calculatorSteps.focus(elem);
        });
        calculatorSteps.step(1);

        $(window).resize(function() {
            calculatorSteps.resize();
        });
      },
      step: function(stepIndex) {
        calculatorSteps.currentStep = stepIndex;

        if (calculatorSteps.checkedStep < calculatorSteps.currentStep - 1) calculatorSteps.checkedStep = calculatorSteps.currentStep - 1;

        var currentElement = $('.custom__calculator-steps__main-content .step-' + stepIndex, calculatorSteps.elem);
        if (!currentElement || !currentElement.length) return;

        var parentTop = $('.custom__calculator-steps__main-content .steps', calculatorSteps.elem).offset().top;
        $('.custom__calculator-steps__main-content .steps', calculatorSteps.elem).css({
          'transform': 'translateY(-' + (currentElement.offset().top - parentTop) + 'px)',
        });
        $('.custom__calculator-steps__main-content .steps .step', calculatorSteps.elem).removeClass('active');
        currentElement.addClass('active');

        if (stepIndex === 1) {
          $('.custom__calculator-steps__main-content', calculatorSteps.elem).addClass('at-first-step');
        } else {
          $('.custom__calculator-steps__main-content', calculatorSteps.elem).removeClass('at-first-step');
        }
        if (stepIndex == calculatorSteps.lastStep) {
          $('.custom__calculator-steps__main-content .buttons .btn-next', calculatorSteps.elem).removeClass('active');
        } else {
          $('.custom__calculator-steps__main-content .buttons .btn-next', calculatorSteps.elem).addClass('active');
        }

        $('.custom__calculator-steps__main-content .steps__container', calculatorSteps.elem).height(currentElement.height());
        $('.custom__calculator-steps__main-content', calculatorSteps.elem).height(currentElement.height() + 50);

        $('.custom__calculator-steps__nav .step', calculatorSteps.elem).each(function() {
          var stepElem = $(this);
          var currentIndex = stepElem.index() + 1;
          if (currentIndex < stepIndex) {
            stepElem.addClass('active checked');
          } else if (currentIndex === stepIndex) {
            stepElem.addClass('active');
          } else if (!stepElem.hasClass('checked')) {
            stepElem.removeClass('active');
          }
          if (stepIndex === currentIndex) {
            stepElem.removeClass('checked');
          } else if (currentIndex <= calculatorSteps.checkedStep) {
            stepElem.addClass('active checked');
          }
        });

        var toTop = calculatorSteps.elem.offset().top - ($('window').height() / 2) - (calculatorSteps.elem.height() / 2);
        if (window.innerWidth < 768) {
          toTop = $('.custom__calculator-steps__nav', calculatorSteps.elem).offset().top - $('header').height();
          $('body, html').animate({
            scrollTop: toTop
          }, 400);
        }
      },

      focus: function(elem) {
        var stepElem = $(elem).parents('.step');
        var stepIndex = stepElem.index();
        if (calculatorSteps.currentStep !== 1 + stepIndex) {
          $('.steps__container', calculatorSteps.elem).scrollTop(0);
          calculatorSteps.step(1 + stepIndex);
        }
      },
      resize: function() {
        var currentElement = $('.custom__calculator-steps__main-content .step.active', calculatorSteps.elem);
        $('.custom__calculator-steps__main-content .steps__container', calculatorSteps.elem).height(currentElement.height());
        $('.custom__calculator-steps__main-content', calculatorSteps.elem).height(currentElement.height() + 50);
      }
    };
    calculatorSteps.init(elem);
  }
  try {
    $('.custom__calculator-steps').each(function() {
      wrap($(this));
    });
  }
  catch(error) {
    console.error('calculatorSteps error:',error.message);
  }
},
    calculator: function() {
        var calculator360 = function(opt){
            var _calc = {
                target: '',
                register: function() {
                    var _cal = {
                        variable: {
                            mobile_width: 767,
                            incremental_balance: 0,
                        },
                        constants: {
                            currency: 'S$',
                            tier_max: 70000,
                            tier_1: 35000,
                            tier_2: 35000,
                            base_interest: 0.05,
                            salary_bonus_1: 1.20,
                            salary_bonus_2: 1.50,
                            spend_bonus_1: 0.30,
                            spend_bonus_2: 0.60,
                            increment_bonus: 500,
                            increment_bonus_1: 0.30,
                            increment_bonus_2: 0.60,
                            wealth_bonus_1: 0.60,
                            wealth_bonus_2: 1.20,
                            grow_bonus: 200000,
                            grow_bonus_1: 1.00,
                            grow_bonus_2: 1.00,
                            boost_bonus: 1000000,
                            boost_bonus_1: 1.00,
                        },
                        text: {
                            salary: $('.salary-text', _calc.target),
                            spend: $('.spend-text', _calc.target),
                            increment: $('.increment-text', _calc.target),
                            wealth: $('.wealth-text', _calc.target),
                            grow: $('.grow-text', _calc.target),
                            boost: $('.boost-text', _calc.target),
                            base: $('.base-text', _calc.target),
                            total: {
                                monthly: $('.total-monthly-text', _calc.target),
                                yearly: $('.total-yearly-text', _calc.target)
                            }
                        },
                        input: {
                            salary_checkbox: $('input[name="salary-checkbox"]', _calc.target), //checkbox
                            salary_value: $('input[name="salary-value"]', _calc.target),
                            spend_checkbox: $('input[name="spend-checkbox"]', _calc.target), //checkbox 
                            spend_value: $('input[name="spend-value"]', _calc.target),
                            increment_value: $('input[name="increment-value"]', _calc.target),
                            increment_checkbox: $('input[name="increment-checkbox"]', _calc.target),
                            wealth_checkbox: $('input[name="wealth-checkbox"]', _calc.target), //checkbox
                            wealth_value: $('input[name="wealth-value"]', _calc.target),
                            grow_value: $('input[name="grow-value"]', _calc.target),
                            grow_checkbox: $('input[name="grow-checkbox"]', _calc.target),
                            boost_value: $('input[name="boost-value"]', _calc.target),
                            boost_checkbox: $('input[name="boost-checkbox"]', _calc.target),
                            base_value: $('input[name="base-value"]', _calc.target),
                            current_balance: $('input[name="current-balance"]', _calc.target),
                            previous_balance: $('input[name="previous-balance"]', _calc.target),
                            incremental_balance: $('input[name="incremental-balance"]', _calc.target),
                        },
                        common: {
                            isMobile: function() {
                                return window.innerWidth < _cal.variable.mobile_width;
                            }
                        },
                        methods: {
                            setDisplayValue: function(elem, value) {
                                var val = _cal.constants.currency + _calc.formatMoney(2, '.', ',', _calc.toFixedDown(2, value))
                                elem.text(val);
                            },
                            salary: function() {
                                var current_balance = _calc.toInteger(_cal.input.current_balance);
                                var isChecked = _cal.input.salary_checkbox.prop("checked");
                                var val = 0;

                                if (isChecked) {
                                    if (current_balance > _cal.constants.tier_2) {
                                        val = (((_cal.constants.tier_1 * _cal.constants.salary_bonus_1) + ((Math.min(current_balance, _cal.constants.tier_max) - _cal.constants.tier_2) * _cal.constants.salary_bonus_2)) / 100);
                                    } else {
                                        val = (Math.min(current_balance, _cal.constants.tier_max) * _cal.constants.salary_bonus_1 / 100);
                                    }
                                }
                                _cal.input.salary_value.val(val);
                                _cal.methods.setDisplayValue(_cal.text.salary, _calc.toFixedDown(2, _calc.toMonthly(val)));
                            },
                            spend: function() {
                                var current_balance = _calc.toInteger(_cal.input.current_balance);
                                var isChecked = _cal.input.spend_checkbox.prop("checked");
                                var val = 0;

                                if (isChecked) {
                                    if (current_balance > _cal.constants.tier_2) {
                                        val = (((_cal.constants.tier_1 * _cal.constants.spend_bonus_1) + ((Math.min(current_balance, _cal.constants.tier_max) - _cal.constants.tier_2) * _cal.constants.spend_bonus_2)) / 100);
                                    } else {
                                        val = (Math.min(current_balance, _cal.constants.tier_max) * _cal.constants.spend_bonus_1 / 100);
                                    }
                                }
                                _cal.input.spend_value.val(val);
                                _cal.methods.setDisplayValue(_cal.text.spend, _calc.toFixedDown(2, _calc.toMonthly(val)));
                            },
                            increment: function() {
                                var current_balance = _calc.toInteger(_cal.input.current_balance);
                                var incremental_balance = parseFloat(_cal.variable.incremental_balance);
                                var val = 0;
                                if (incremental_balance >= 500) {
                                    if (current_balance > _cal.constants.tier_2) {
                                        val = (((_cal.constants.tier_1 * _cal.constants.increment_bonus_1) + ((Math.min(current_balance, _cal.constants.tier_max) - _cal.constants.tier_2) * _cal.constants.increment_bonus_2)) / 100);
                                    } else {
                                        val = (Math.min(current_balance, _cal.constants.tier_max) * _cal.constants.increment_bonus_1 / 100);
                                    }
                                    _cal.input.increment_checkbox.prop('checked', true);
                                    $(".icon.increment-icon", _calc.target).removeClass('icon-red').addClass('icon-green');
                                } else {
                                    _cal.input.increment_checkbox.prop('checked', false);
                                    $(".icon.increment-icon", _calc.target).removeClass('icon-green').addClass('icon-red');
                                }

                                _cal.input.increment_value.val(val);
                                _cal.methods.setDisplayValue(_cal.text.increment, _calc.toFixedDown(2, _calc.toMonthly(val)));
                            },
                            wealth: function() {
                                var current_balance = _calc.toInteger(_cal.input.current_balance);
                                var isChecked = _cal.input.wealth_checkbox.prop("checked");
                                var val = 0;

                                if (isChecked) {
                                    if (current_balance > _cal.constants.tier_2) {
                                        val = (((_cal.constants.tier_1 * _cal.constants.wealth_bonus_1) + ((Math.min(current_balance, _cal.constants.tier_max) - _cal.constants.tier_2) * _cal.constants.wealth_bonus_2)) / 100);
                                    } else {
                                        val = (Math.min(current_balance, _cal.constants.tier_max) * _cal.constants.wealth_bonus_1 / 100);
                                    }
                                }
                                _cal.input.wealth_value.val(val);
                                _cal.methods.setDisplayValue(_cal.text.wealth, _calc.toFixedDown(2, _calc.toMonthly(val)));
                            },
                            grow: function() {
                                var current_balance = _calc.toInteger(_cal.input.current_balance);
                                var val = 0;
                                if (current_balance >= _cal.constants.grow_bonus) {
                                    if (current_balance > _cal.constants.tier_2) {
                                        val = (((_cal.constants.tier_1 * _cal.constants.grow_bonus_1) + ((Math.min(current_balance, _cal.constants.tier_max) - _cal.constants.tier_2) * _cal.constants.grow_bonus_2)) / 100);
                                    } else {
                                        val = (Math.min(current_balance, _cal.constants.tier_max) * _cal.constants.grow_bonus_1 / 100);
                                    }
                                    _cal.input.grow_checkbox.prop('checked', true);
                                    $(".icon.grow-icon", _calc.target).removeClass('icon-red').addClass('icon-green');
                                } else {
                                    _cal.input.grow_checkbox.prop('checked', false);
                                    $(".icon.grow-icon", _calc.target).removeClass('icon-green').addClass('icon-red');
                                }
                                _cal.input.grow_value.val(val);
                                _cal.methods.setDisplayValue(_cal.text.grow, _calc.toFixedDown(2, _calc.toMonthly(val)));
                            },
                            boost: function() {
                                var incremental_balance = parseFloat(_cal.variable.incremental_balance);
                                var val = 0;
                                if (incremental_balance > 0) {
                                    val = ((Math.min(_cal.constants.boost_bonus, incremental_balance) * _cal.constants.boost_bonus_1) / 100);
                                    _cal.input.boost_checkbox.prop('checked', true);
                                    $(".icon.boost-icon", _calc.target).removeClass('icon-red').addClass('icon-green');
                                } else {
                                    _cal.input.boost_checkbox.prop('checked', false);
                                    $(".icon.boost-icon", _calc.target).removeClass('icon-green').addClass('icon-red');
                                }

                                _cal.input.boost_value.val(val);
                                _cal.text.boost.text('S$' + _calc.formatMoney(2, '.', ',', _calc.toFixedDown(2, _calc.toMonthly(val))));
                            },
                            base: function() {
                                var current_balance = _calc.toInteger(_cal.input.current_balance);
                                var val = ((current_balance * _cal.constants.base_interest) / 100);
                                _cal.input.base_value.val(val);
                                _cal.methods.setDisplayValue(_cal.text.base, _calc.toFixedDown(2, _calc.toMonthly(val)));
                            },
                            check: function() {
                                _cal.variable.incremental_balance = _calc.toInteger(_cal.input.current_balance) - _calc.toInteger(_cal.input.previous_balance);
                                if (_cal.variable.incremental_balance < 0 || isNaN(_cal.variable.incremental_balance)) {
                                    _cal.variable.incremental_balance = 0;
                                } else if (_cal.variable.incremental_balance > 1000000) {
                                    // _cal.variable.incremental_balance = 1000000;
                                }
                                _cal.input.incremental_balance.val(VietinBank.toComma(_cal.variable.incremental_balance));
                                if (_cal.input.current_balance.val() !== '' && _cal.input.previous_balance.val() !== '') {
                                    if (_calc.toInteger(_cal.input.current_balance) >= 0 && _calc.toInteger(_cal.input.previous_balance) >= 0) {
                                        $('.interest-message', _calc.target).slideDown(300, function() {
                                            _cal.methods.stepHeight();                                        
                                        });
                                        return true;
                                    } else {
                                        $('.interest-message', _calc.target).slideUp(300, function() {
                                            _cal.methods.stepHeight();
                                        });
                                        return false;
                                    }
                                } else {
                                    $('.interest-message', _calc.target).slideUp(300, function() {
                                        _cal.methods.stepHeight();
                                    });
                                    return false;
                                }
                            },
                            stepHeight: function() {
                                var activeElement = $('.custom__calculator-steps__main-content .interest-message', _calc.target).parents('.steps__container .step.active');
                                $('.custom__calculator-steps__main-content .steps__container', _calc.target).height(activeElement.height());
                                $('.custom__calculator-steps__main-content', _calc.target).height(activeElement.height() + 50);
                            },
                            reset: function() {
                                var val = 0;
                                var total = 0;
                                _cal.variable.incremental_balance = val;

                                var inputFields = [
                                'incremental_balance', 'salary_value', 'spend_value', 'increment_value',
                                'wealth_value', 'grow_value', 'boost_value', 'base_value'
                                ];
                                $.each(inputFields, function(fieldIndex, field) {
                                    _cal.input[field].val(val);
                                });

                                var textFields = Object.keys(_cal.text);
                                $.each(textFields, function(fieldIndex, field) {
                                    var childField = Object.keys(_cal.text[field]);
                                    if (childField && childField.length) {
                                        $.each(_cal.text[field].childField, function(cfIndex, cf) {
                                            _cal.methods.setDisplayValue(_cal.text[field][cf], val);
                                        })
                                    } else {
                                        _cal.methods.setDisplayValue(_cal.text[field], val);
                                    }
                                })
                            },
                            init: function() {
                                _cal.methods.check();
                                _cal.methods.salary();
                                _cal.methods.spend();
                                _cal.methods.increment();
                                _cal.methods.wealth();
                                _cal.methods.grow();
                                _cal.methods.boost();
                                _cal.methods.base();
                            },
                            total: function() {
                                var inputFields = ['salary_value', 'spend_value', 'increment_value', 'wealth_value', 'grow_value', 'boost_value', 'base_value'];
                                var monthly_total = 0;
                                var yearly_total = 0;
                                $.each(inputFields, function(fieldIndex, field) {
                                    monthly_total += _calc.toFixedDown(2, _calc.toMonthly(parseFloat(_cal.input[field].val())));
                                    yearly_total += _calc.toYearly(2, _calc.toMonthly(parseFloat(_cal.input[field].val())));
                                });
                                _cal.text.total.monthly.text('S$' + _calc.formatMoney(2, '.', ',', parseFloat(monthly_total)));
                                _cal.text.total.yearly.text('S$' + _calc.formatMoney(2, '.', ',', parseFloat(yearly_total)));
                            }
                        },
                        main: {
                            checkbox: function() {
                                _cal.input.salary_checkbox.change(function() {
                                    _cal.methods.salary();
                                    _cal.methods.total();
                                })

                                _cal.input.spend_checkbox.change(function() {
                                    _cal.methods.spend();
                                    _cal.methods.total();
                                })

                                _cal.input.wealth_checkbox.change(function() {
                                    _cal.methods.wealth();
                                    _cal.methods.total();
                                })

                            },
                            input: function() {
                                $('input[name="current-balance"], input[name="previous-balance"]', _calc.target).on("keyup", function(event) {
                                    var cnum = Number($(this).val());
                                    //force negatives to 0
                                    if (isNaN(cnum) || cnum < 0) {
                                        $(this).val('');
                                    }

                                    if (_cal.methods.check()) {
                                        _cal.methods.salary();
                                        _cal.methods.spend();
                                        _cal.methods.increment();
                                        _cal.methods.wealth();
                                        _cal.methods.grow();
                                        _cal.methods.boost();
                                        _cal.methods.base();
                                        // Get Total
                                        _cal.methods.total();
                                    } else {
                                        _cal.methods.reset();
                                    }
                                });
                            },
                            init: function() {
                                _cal.methods.init();
                                _cal.methods.total();
                                _cal.main.checkbox();
                                _cal.main.input();
                            }
                        }
                    }
                    _cal.main.init();
                },
                init: function() {
                    $(opt.target).each(function() {
                        _calc.target = opt.target;
                        _calc.register();

                    });
                },
                toFixedDown: function(digits,value) {
                    var re = new RegExp("(\\d+\\.\\d{" + digits + "})(\\d)"),
                    m = value.toString().match(re);
                    return m ? parseFloat(m[1]) : value.valueOf();
                },
                formatMoney: function(c, d, t, value) {
                    var n = value,
                    c = isNaN(c = Math.abs(c)) ? 2 : c,
                    d = d == undefined ? "." : d,
                    t = t == undefined ? "," : t,
                    s = n < 0 ? "-" : "",
                    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),
                    j = (j = i.length) > 3 ? j % 3 : 0;

                    return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g,
                        "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
                },
                toInteger: function(value) {
                    return value.val().replace(/(\,)/g, '');
                },
                toMonthly: function(value) {
                    return value * 31 / 365;
                },
                toYearly: function(value) {
                    return value * 365 / 365;
                },
            }
            _calc.init();
        }
        var calculatorBT = function (opt){
            var _calc = {
                target: '',
                input: '',
                button: '',
                state: {
                    amount: 1000,
                    period: [3, 6, 12],
                    pf: [1.8, 2.5, 4.5],
                    fees: ["0", "0", "0"],
                    minMonthly: 50,
                    eir: [7.38, 5.34, 5.2]
                },
                minAmount: 100,
                minMonth: 3,
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.input = _target.find('input[name="current-balance"]');
                        _calc.button = _target.find('.apply');
                        _calc.update(_target);
                        _calc.button.on('click', function(e) {
                            e.preventDefault();
                            _calc.state.amount = parseInt(_calc.input.val());
                            _calc.update(_target);
                        });

                        _calc.input.on('keydown', function(e) {
                            _calc.state.amount = parseInt(_calc.input.val());
                        });
                    })
                },
                update: function(target) {
                    var e = _calc.state,
                    t = e.amount,
                    a = e.pf;
                    if (_calc.state.amount < _calc.minAmount) _calc.showerror(_calc.input ,"Minimium amount is $" + _calc.minAmount);
                    else if (isNaN(_calc.state.amount)) _calc.showerror(_calc.input, "Please enter a number.");
                    else {
                        _calc.hideerror(_calc.input);
                        var r = t * _calc.minMonth / 100 > 50 ? t * _calc.minMonth / 100 : 50;
                        _calc.state.fees = [t * a[0] / 100, t * a[1] / 100, t * a[2] / 100];
                        _calc.state.minMonthly = r;
                    }

                    _calc.print(target.find('.min-monthly'), _calc.state.minMonthly);
                    _calc.print(target.find('.fees-one'), _calc.state.fees[0]);
                    _calc.print(target.find('.fees-two'), _calc.state.fees[1]);
                    _calc.print(target.find('.fees-three'), _calc.state.fees[2]);
                },
                showerror: function(target,message) {
                    $(target).parent('.material-form-control').addClass('has-error').find('.message').addClass('message--error').html(message).fadeIn();
                },
                hideerror: function(target) {
                    $(target).parent('.material-form-control').removeClass('has-error').find('.message').removeClass('message--error').html('').fadeOut();
                },
                print: function(target, value) {
                    var _num = Math.round(value * 100) / 100,
                    _val = _num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    target.html('S$ '+_val);
                }
            }
            _calc.init();
        }
        var calculatorPaylite = function(opt) {
            var _calc = {
                target: '',
                otpf: [],
                smi: [],
                monthInst: [],
                eir: [],
                amnt: 0,
                period: ['3','6','12','18','24'],
                otpfrate: ['3','3','5','7','9'],
                init: function() {
                    $(opt.target).each(function() {
                        _calc.listen(this);
                    });
                },
                showerror: function(target,message) {
                    $(target).parent('.material-form-control').addClass('has-error').find('.message').addClass('message--error').html(message).fadeIn();
                },
                hideerror: function(target) {
                    $(target).parent('.material-form-control').removeClass('has-error').find('.message').removeClass('message--error').html('').fadeOut();
                },
                listen: function(target) {
                    $('.amnt-input',target).change(function() {
                      if ($(this).val() < 100) {
                        _calc.showerror($(this), "Minimium amount is $100");
                      }
                      else {
                        _calc.hideerror($(this));
                      }
                    });

                    $('.apply-calc',target).click( function(e) {
                        e.preventDefault();
                        _calc.calculate.all(target);
                    });
                },
                calculate: {
                    otpf: function(target, period, rate) {
                        var result = _calc.amnt * rate / 100;
                        $('.otpf-'+period, target).html('(S$ '+result.toFixed(2)+')');
                        return result;
                    },
                    smi: function(target, period) {
                        var result = parseInt(_calc.amnt / period);
                        $('.smi-'+period, target).html('S$ '+result.toFixed(2));
                        return result;
                    },
                    monthInst: function(target, index,period) {
                        var result = _calc.amnt - _calc.smi[index] * (period-1);
                        $('.month-inst-'+period, target).html('S$ '+result.toFixed(2));
                        return result;
                    },
                    eir: function(target, amount, firstmonthfees, monthly, period, fixed) {
                        fixed = typeof fixed == 'undefined' ? 0.02 : fixed;
                        var i = fixed, m = 0;
                        do {
                            for (var c = 0, r = 2; r <= period; r++) {
                                c += monthly / Math.pow(1 + i, r);
                            }
                            i = (m = amount - (firstmonthfees / (1 + i) + c)) > 0 ? i -= 1e-6 : i
                        } while (m > 0);
                        var result = 12 * i * 100;
                        $('.eir-'+period, target).html(result.toFixed(2)+'%');
                        return result;
                    },
                    all: function(target) {
                        _calc.amnt = $('.amnt-input', target).val();
                        for(var i = 0; i < _calc.period.length; i++) {
                            var p = _calc.period[i];
                            _calc.otpf.push(_calc.calculate.otpf(target, p, _calc.otpfrate[i]));
                            _calc.smi.push(_calc.calculate.smi(target, p));
                            _calc.monthInst.push(_calc.calculate.monthInst(target, i, p));
                            _calc.eir.push(_calc.calculate.eir(target, _calc.amnt, _calc.monthInst[i] + _calc.otpf[i], p));
                        }
                    }
                }
            }
            _calc.init();
        }
        var calculatorInstalment = function(opt) {
            var _calc = {
                target: '',
                input: '',
                change: '',
                state: {
                    amount: 0,
                    tenor: 12,
                    monthly: 0,
                    interest: 0,
                    eir: 0,
                    fee: 0,
                },
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.input = _target.find('input[name="amount"]');
                        _calc.change = _target.find('select[name="tenor"]');
                        _calc.update(_target);

                        _calc.change.on('change', function() {
                            _calc.state.tenor = parseInt(_calc.change.val());
                            _calc.update(_target);
                        });

                        _calc.input.on('keypress', VietinBank.debouncev2(function(e) {
                            _calc.state.amount = parseInt(_calc.input.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));
                    })
                },
                eir: function() {
                    var eir_amt = 0;
                    switch(_calc.state.tenor) {
                        case 12:
                            eir_amt = 10.45;
                            break;
                        case 24:
                            eir_amt = 9.77;
                            break;
                        case 36:
                            eir_amt = 9.46;
                            break;
                        case 48:
                            eir_amt = 9.24;
                            break;
                        case 60:
                            eir_amt = 9.06;
                            break;
                        default:
                            eir_amt = 0;
                    }
                    if(_calc.state.amount == 0) {
                        eir_amt = 0;
                    }
                    _calc.state.eir = eir_amt;
                },
                fee: function() {
                    _calc.state.fee =  1/100 * _calc.state.amount;
                },
                monthly: function() {
                    _calc.state.monthly = _calc.state.amount * ( 1+((_calc.state.tenor/12)*(_calc.state.interest/100)))/_calc.state.tenor;
                },
                interest: function() {
                    _calc.state.interest = 4.70;
                },
                update: function(target) {
                    var e = _calc.state,
                    t = e.amount;
                    if (isNaN(e.amount) && e.amount <= 0) {
                        // alert("Please enter a number.");  
                    } 
                    else {
                        _calc.eir();
                        _calc.fee();
                        _calc.interest();
                        _calc.monthly();
                    }
                    _calc.print(target.find('.cashinstalment-monthly'), e.monthly);
                    _calc.print(target.find('.cashinstalment-fee'), e.fee);
                    _calc.print(target.find('.cashinstalment-interest'), e.interest, true);
                    _calc.print(target.find('.cashinstalment-eir'), e.eir, true);
                },
                print: function(target, value, percentage) {
                    percentage = percentage || false;
                    var _num = Math.round(value * 100) / 100;
                    if(!percentage) {
                        _num = _num.toFixed(2);
                    }
                    var _val = _num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    if(!percentage) {
                        target.html('S$ '+_val);
                    }
                    else {
                        target.html(_val+'%');
                    }
                }
            }
            _calc.init();
        }
        //
        var calculatorGroupTerm = function(opt) {
            var $data = [];
            $data['group_term_life'] = {
                'member_spouse_assured' : {
                    'plan1' : 150000,
                    'plan2' : 100000,
                    'plan3' : 50000,
                },
                'children_assured' : {
                    'plan1' : 20000,
                    'plan2' : 15000,
                    'plan3' : 10000,
                },
                'children' : [
                    {
                        'from' : 1,
                        'to' : 14,
                        'plan1' : 15.8,
                        'plan2' : 11.85,
                        'plan3' : 7.90,
                    },
                    {
                        'from' : 15,
                        'to' : 29,
                        'plan1' : 150,
                        'plan2' : 100,
                        'plan3' : 50,
                    },
                    {
                        'from' : 30,
                        'to' : 39,
                        'plan1' : 180,
                        'plan2' : 120,
                        'plan3' : 60,
                    },
                    {
                        'from' : 40,
                        'to' : 44,
                        'plan1' : 330,
                        'plan2' : 220,
                        'plan3' : 110,
                    },
                    {
                        'from' : 45,
                        'to' : 49,
                        'plan1' : 555,
                        'plan2' : 370,
                        'plan3' : 185,
                    },
                    {
                        'from' : 50,
                        'to' : 54,
                        'plan1' : 930,
                        'plan2' : 620,
                        'plan3' : 310,
                    },
                    {
                        'from' : 55,
                        'to' : 59,
                        'plan1' : 1545,
                        'plan2' : 1030,
                        'plan3' : 515,
                    },
                    {
                        'from' : 60,
                        'to' : 62,
                        'plan1' : 2340,
                        'plan2' : 1560,
                        'plan3' : 780,
                    },
                    {
                        'from' : 63,
                        'to' : 64,
                        'plan1' : 3270,
                        'plan2' : 2180,
                        'plan3' : 1090,
                    },
                    {
                        'from' : 65,
                        'to' : 67,
                        'plan1' : 4215,
                        'plan2' : 2810,
                        'plan3' : 1405,
                    },
                    {
                        'from' : 68,
                        'to' : 69,
                        'plan1' : 6195,
                        'plan2' : 4130,
                        'plan3' : 2065,
                    },
                ]
            };

            $data['group_critical_illness'] = {

                'member_spouse_assured' : {
                    'plan1' : 20000,
                    'plan2' : 15000,
                    'plan3' : 10000,
                },
                'children' : [
                    {
                        'from' : 1,
                        'to' : 14,
                        'plan1' : 'NA',
                        'plan2' : 'NA',
                        'plan3' : 'NA',
                    },
                    {
                        'from' : 15,
                        'to' : 29,
                        'plan1' : 36,
                        'plan2' : 27,
                        'plan3' : 18,
                    },
                    {
                        'from' : 30,
                        'to' : 39,
                        'plan1' : 46,
                        'plan2' : 34.50,
                        'plan3' : 23,
                    },
                    {
                        'from' : 40,
                        'to' : 44,
                        'plan1' : 100,
                        'plan2' : 75,
                        'plan3' : 50,
                    },
                    {
                        'from' : 45,
                        'to' : 49,
                        'plan1' : 158,
                        'plan2' : 118.5,
                        'plan3' : 79,
                    },
                    {
                        'from' : 50,
                        'to' : 54,
                        'plan1' : 242,
                        'plan2' : 181.5,
                        'plan3' : 121,
                    },
                    {
                        'from' : 55,
                        'to' : 59,
                        'plan1' : 370,
                        'plan2' : 277.5,
                        'plan3' : 185,
                    },
                    {
                        'from' : 60,
                        'to' : 62,
                        'plan1' : 506,
                        'plan2' : 379.5,
                        'plan3' : 253,
                    },
                    {
                        'from' : 63,
                        'to' : 64,
                        'plan1' : 606,
                        'plan2' : 454.5,
                        'plan3' : 303,
                    },
                    {
                        'from' : 65,
                        'to' : 67,
                        'plan1' : 692,
                        'plan2' : 519,
                        'plan3' : 346,
                    },
                    {
                        'from' : 68,
                        'to' : 69,
                        'plan1' : 852,
                        'plan2' : 639,
                        'plan3' : 426,
                    },
                ]
            };

            $data['group_personal_accident'] = {

                'member_spouse_assured' : {
                    'plan1' : 100000,
                    'plan2' : 75000,
                    'plan3' : 50000,
                },
                'children_assured' : {
                    'plan1' : 20000,
                    'plan2' : 15000,
                    'plan3' : 10000,
                },
                'children' : [
                    {
                        'from' : 1,
                        'to' : 14,
                        'plan1' : 10.27,
                        'plan2' : 7.7,
                        'plan3' : 5.14,
                    },
                    {
                        'from' : 15,
                        'to' : 64,
                        'plan1' : 53.5,
                        'plan2' : 40.13,
                        'plan3' : 26.75,
                    },
                    {
                        'from' : 65,
                        'to' : 69,
                        'plan1' : 53.5,
                        'plan2' : 40.13,
                        'plan3' : 26.75,
                    },
                ]
            };

            $data['group_disability_income'] = {

                'member_spouse_assured' : {
                    'plan1' : 9000,
                    'plan2' : 6000,
                    'plan3' : 3000,
                },
                'children' : [
                    {
                        'from' : 1,
                        'to' : 14,
                        'plan1' : 'NA',
                        'plan2' : 'NA',
                        'plan3' : 'NA',
                    },
                    {
                        'from' : 15,
                        'to' : 29,
                        'plan1' : 19.26,
                        'plan2' : 12.84,
                        'plan3' : 6.42,
                    },
                    {
                        'from' : 30,
                        'to' : 39,
                        'plan1' : 19.26,
                        'plan2' : 12.84,
                        'plan3' : 6.42,
                    },
                    {
                        'from' : 40,
                        'to' : 44,
                        'plan1' : 28.89,
                        'plan2' : 19.26,
                        'plan3' : 9.63,
                    },
                    {
                        'from' : 45,
                        'to' : 49,
                        'plan1' : 48.15,
                        'plan2' : 32.10,
                        'plan3' : 16.05,
                    },
                    {
                        'from' : 50,
                        'to' : 54,
                        'plan1' : 96.3,
                        'plan2' : 64.2,
                        'plan3' : 32.1,
                    },
                    {
                        'from' : 55,
                        'to' : 59,
                        'plan1' : 182.97,
                        'plan2' : 121.98,
                        'plan3' : 60.99,
                    },
                    {
                        'from' : 60,
                        'to' : 62,
                        'plan1' : 298.53,
                        'plan2' : 199.02,
                        'plan3' : 99.51,
                    },
                    {
                        'from' : 63,
                        'to' : 64,
                        'plan1' : 414.09,
                        'plan2' : 276.06,
                        'plan3' : 138.03,
                    },
                ]
            };

            $data['group_medical'] = {

                'children' : [
                    {
                        'from' : 1,
                        'to' : 14,
                        'plan1' : 898.80,
                        'plan2' : 579.94,
                        'plan3' : 184.04,
                    },
                    {
                        'from' : 15,
                        'to' : 29,
                        'plan1' : 898.80,
                        'plan2' : 579.94,
                        'plan3' : 184.04,
                    },
                    {
                        'from' : 30,
                        'to' : 39,
                        'plan1' : 898.80,
                        'plan2' : 579.94,
                        'plan3' : 184.04,
                    },
                    {
                        'from' : 40,
                        'to' : 44,
                        'plan1' : 996.17,
                        'plan2' : 639.86,
                        'plan3' : 243.96,
                    },
                    {
                        'from' : 45,
                        'to' : 49,
                        'plan1' : 1051.81,
                        'plan2' : 676.24,
                        'plan3' : 280.34,
                    },
                    {
                        'from' : 50,
                        'to' : 54,
                        'plan1' : 1167.37,
                        'plan2' : 746.86,
                        'plan3' : 350.96,
                    },
                    {
                        'from' : 55,
                        'to' : 59,
                        'plan1' : 1263.67,
                        'plan2' : 812.13,
                        'plan3' : 416.23,
                    },
                    {
                        'from' : 60,
                        'to' : 62,
                        'plan1' : 1442.36,
                        'plan2' : 925.55,
                        'plan3' : 529.65,
                    },
                    {
                        'from' : 63,
                        'to' : 64,
                        'plan1' : 1442.36,
                        'plan2' : 925.55,
                        'plan3' : 529.65,
                    },
                    {
                        'from' : 65,
                        'to' : 67,
                        'plan1' : 1870.36,
                        'plan2' : 1202.68,
                        'plan3' : 667.68,
                    },
                    {
                        'from' : 68,
                        'to' : 69,
                        'plan1' : 1870.36,
                        'plan2' : 1202.68,
                        'plan3' : 667.68,
                    },
                ]
            };
            var _calc = {
                target: '',
                myself: '',
                spouse: '',
                children: '',
                termlife: '',
                illness: '',
                accident: '',
                income: '',
                medical: '',
                state: {
                    dob: {
                        'children': []
                    },
                    children: [],
                    additional_addons: [],
                    myself: true,
                    spouse: false,
                    plan: 'plan1',
                    life: 0,
                    illness: 0,
                    accident: 0,
                    medical: 0,
                    income: 0
                },
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.target = _target;
                        _calc.myself = _target.find('input[name="myself-checkbox"]');
                        _calc.spouse = _target.find('input[name="spouse-checkbox"]');
                        _calc.children = _target.find('select[name="children-select"]');
                        _calc.termlife = _target.find('select[name="grouplife-select"]');
                        _calc.illness = _target.find('input[name="group-illness-checkbox"]');
                        _calc.accident = _target.find('input[name="group-accident-checkbox"]');
                        _calc.income = _target.find('input[name="group-income-checkbox"]');
                        _calc.medical = _target.find('input[name="group-medical-checkbox"]');
                        _target.find('.dob').each(function() {
                            var max = $(this).data('max');
                            var min = $(this).data('min');
                            $(this).datetimepicker({
                                format: 'DD/MM/YYYY',
                                maxDate: moment().subtract(min, 'year'),
                                minDate: moment().subtract(max, 'year'),
                                defaultDate: moment().subtract(max, 'year'),
                                viewMode: 'years',
                                widgetParent: _target.find('.custom__calculator-steps__main-content'),
                                widgetPositioning: {
                                    vertical: 'bottom'
                                }
                            }).on('dp.change', _calc.listen);
                        });
                        _calc.state.dob['myself-dob'] = _target.find('input[name="myself-dob"]').val();
                        _calc.state.dob['spouse-dob'] = _target.find('input[name="spouse-dob"]').val();
                        _calc.myself.on('click', function(e) {
                            if(_calc.myself.prop('checked')) {
                                _calc.state.myself = true;
                                _target.find('.myself-field').fadeIn();
                            }
                            else {
                                _calc.state.myself = false;
                                _target.find('.myself-field').fadeOut();
                            }
                            _calc.update();
                        });

                        _calc.spouse.on('click', function(e) {
                            if(_calc.spouse.prop('checked')) {
                                _calc.state.spouse = true;
                                _target.find('.spouse-field').fadeIn();
                            }
                            else {
                                _calc.state.spouse = false;
                                _target.find('.spouse-field').fadeOut();
                            }
                            _calc.update();
                        });

                        _calc.children.on('change', VietinBank.debouncev2(function() {
                            var child = parseInt($(this).val());
                            _calc.state.dob['children'] = [];
                            _target.find('.children-field').fadeOut(300, VietinBank.debouncev2(function() {
                                for(var i = 1; i <= child; i++) {
                                    _target.find('.child'+i+'-field').fadeIn();
                                    _calc.state.dob['children'][i-1] = _target.find('input[name="child'+i+'-dob"]').val();
                                }
                                _calc.update();
                            }, 300, {
                                leading: false,
                                trailing: true
                            }));
                        }, 300, {
                            trailing: true,
                            leading: false
                        }));

                        _calc.termlife.on('change', function() {
                            _calc.state.plan = $(this).val();
                        })

                        _calc.illness.on('click', function(e) {
                            if(_calc.illness.prop('checked')) {
                                _calc.state.additional_addons.push('group_critical_illness');
                            }
                            else {
                                _.remove(_calc.state.additional_addons, function(item) {
                                    return item == 'group_critical_illness';
                                })
                            }
                            _calc.update();
                        });

                        _calc.accident.on('click', function(e) {
                            if(_calc.accident.prop('checked')) {
                                _calc.state.additional_addons.push('group_personal_accident');
                            }
                            else {
                                _.remove(_calc.state.additional_addons, function(item) {
                                    return item == 'group_personal_accident';
                                })
                            }
                            _calc.update();
                        });

                        _calc.income.on('click', function(e) {
                            if(_calc.income.prop('checked')) {
                                _calc.state.additional_addons.push('group_disability_income');
                            }
                            else {
                                _.remove(_calc.state.additional_addons, function(item) {
                                    return item == 'group_disability_income';
                                })
                            }
                            _calc.update();
                        });

                        _calc.medical.on('click', function(e) {
                            if(_calc.medical.prop('checked')) {
                                _calc.state.additional_addons.push('group_medical');
                            }
                            else {
                                _.remove(_calc.state.additional_addons, function(item) {
                                    return item == 'group_medical';
                                })
                            }
                            _calc.update();
                        });
                        _calc.update();
                    });
                },
                listen: function(e) {
                    if(typeof e.date !== 'undefined') {
                        if($(e.currentTarget).attr('name').includes('child')) {
                            _calc.state.dob['children'][$(e.currentTarget).data('child')] = e.date;
                        }
                        else {
                            _calc.state.dob[$(e.currentTarget).attr('name')] = e.date;
                        }
                    }
                    _calc.update();
                },
                update: function() {
                    var plan = _calc.state.plan;
                    var children = [];
                    var amount_children = [];
                    var additional_addons = _calc.state.additional_addons;
                    var myself = _calc.state.myself;
                    var spouse = _calc.state.spouse;
                    var amount_group_term_life = 0;
                    var amount_group_critical_illness = 0;
                    var amount_group_personal_accident = 0;
                    var amount_group_disability_income = 0;
                    var amount_group_medical = 0;
                    var total_amount = 0;

                    var total = [];
                    for(var i = 0; i < _calc.state.dob['children'].length; i++) {
                        children[i] = moment().diff(_calc.state.dob['children'][i], 'years');
                    }
                    if (myself) {
                        var myage = moment().diff(_calc.state.dob['myself-dob'], 'years');
                        if (!!myage && myage!= 'NaN' && myage > 0) {
                            $($data['group_term_life'].children).each(function (v, element) {
                                if (myage >= element['from'] && myage <= element['to']) {
                                    amount_group_term_life += element[plan];
                                }
                            });


                            if ($.isArray(additional_addons) && additional_addons.length > 0) {
                                for (var a = 0;a < additional_addons.length;a++) {
                                    $($data[additional_addons[a]].children).each(function (v, element) {
                                        if (myage >= element['from'] && myage <= element['to'] && element[plan] != 'NA') {
                                            total[additional_addons[a]] = element[plan] + (typeof total[additional_addons[a]] !== 'undefined' ? total[additional_addons[a]] : 0);
                                        }
                                    });
                                }
                            }

                        }
                    }
                    if (spouse) {
                        var spouse_age = moment().diff(_calc.state.dob['spouse-dob'], 'years');
                        if (!!spouse_age && spouse_age != 'NaN' && spouse_age >= 0) {
                            $($data['group_term_life'].children).each(function (v, element) {
                                if (spouse_age >= element['from'] && spouse_age <= element['to'] && element[plan] != 'NA') {
                                    amount_group_term_life += element[plan];
                                }
                            });

                            if ($.isArray(additional_addons) && additional_addons.length > 0) {
                                for (var a = 0;a < additional_addons.length;a++) {
                                    $($data[additional_addons[a]].children).each(function (v, element) {
                                        if (spouse_age >= element['from'] && spouse_age <= element['to'] && element[plan] != 'NA')
                                            total[additional_addons[a]] = element[plan] + (typeof total[additional_addons[a]] !== 'undefined' ? total[additional_addons[a]] : 0);
                                    });
                                }
                            }
                        }

                    }

                    amount_children = _calc.updateChildren(children, additional_addons, plan);
                    amount_group_term_life += (typeof total.group_term_life !== 'undefined' ? total.group_term_life : 0);
                    amount_group_critical_illness += (typeof total.group_critical_illness !== 'undefined' ? total.group_critical_illness : 0);
                    amount_group_personal_accident += (typeof total.group_personal_accident !== 'undefined' ? total.group_personal_accident : 0);
                    amount_group_disability_income += (typeof total.group_disability_income !== 'undefined' ? total.group_disability_income : 0);
                    amount_group_medical += (typeof total.group_medical !== 'undefined' ? total.group_medical : 0);

                    amount_group_term_life += (typeof amount_children['group_term_life'] !== 'undefined' ? amount_children['group_term_life'] : 0);
                    amount_group_critical_illness += (typeof amount_children['group_critical_illness'] !== 'undefined' ? amount_children['group_critical_illness'] : 0);
                    amount_group_personal_accident += (typeof amount_children['group_personal_accident'] !== 'undefined' ? amount_children['group_personal_accident'] : 0);
                    amount_group_disability_income += (typeof amount_children['group_disability_income'] !== 'undefined' ? amount_children['group_disability_income'] : 0);
                    amount_group_medical += (typeof amount_children['group_medical'] !== 'undefined' ? amount_children['group_medical'] : 0);
                    total_amount = amount_group_term_life + amount_group_critical_illness + amount_group_personal_accident + amount_group_disability_income + amount_group_medical;

                    _calc.print($('.total-annum-text', _calc.target), total_amount);
                    _calc.print($('.group-life-text', _calc.target), amount_group_term_life);
                    _calc.print($('.group-illness-text', _calc.target), amount_group_critical_illness);
                    _calc.print($('.group-accident-text', _calc.target), amount_group_personal_accident);
                    _calc.print($('.group-income-text', _calc.target), amount_group_disability_income);
                    _calc.print($('.group-medical-text', _calc.target), amount_group_medical);
                },
                updateChildren: function(children, additional_addons, plan) {
                    var total = [];
                    if ($.isArray(children) && children.length > 0) {
                        for (var i = 0;i < children.length; i++) {
                            $($data['group_term_life'].children).each(function (v, element) {
                                if (children[i] >= element['from'] && children[i] <= element['to']) {
                                    total['group_term_life'] = element[plan] + (typeof total['group_term_life'] !== 'undefined' ? total['group_term_life'] : 0);
                                }
                            });
                            if ($.isArray(additional_addons) && additional_addons.length > 0) {
                                for (var a = 0;a < additional_addons.length;a++) {
                                    $($data[additional_addons[a]].children).each(function (v, element) {
                                        if (children[i] >= $(element)[0]['from'] && children[i] <= $(element)[0]['to'] && $(element)[0][plan] != 'NA') {
                                            total[additional_addons[a]] = $(element)[0][plan] + (typeof total[additional_addons[a]] !== 'undefined' ? total[additional_addons[a]] : 0);
                                        }
                                    });
                                }
                            }
                        }

                    }
                    return total;
                },
                print: function(target, value, percentage) {
                    percentage = percentage || false;
                    var _num = Math.round(value * 100) / 100;
                    if(!percentage) {
                        _num = _num.toFixed(2);
                    }
                    var _val = _num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    if(!percentage) {
                        target.html('S$ '+_val);
                    }
                    else {
                        target.html(_val+'%');
                    }
                }
            }
            _calc.init();
        }
        var calculatorRenoLoan = function(opt) {
            var MAX_LOAN = 30000;
            var MIN_LOAN = 5000;
            var MIN_INCOME = 2000;
            var _calc = {
                target: '',
                person1: '',
                person2: '',
                loan_amount: '',
                loan_tenure: '',
                loan_exist: '',
                state: {
                    person1: 0,
                    person2: 0,
                    amount: 0,
                    tenure: 5,
                    exist: null,
                    type: 'single'
                },
                computed: {
                    package: '',
                    journey: '',
                    highest: 0,
                    lowest: 0,
                    highestMargin: 0,
                    lowestMargin: 0,
                    joint: 0,
                    twosingle: 0,
                    applicant: 0,
                    issingle: false
                },
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.person1 = _target.find('input[name="person1"]');
                        _calc.person2 = _target.find('input[name="person2"]');
                        _calc.loan_amount = _target.find('input[name="loan-amount"]');
                        _calc.loan_tenure = _target.find('select[name="loan-tenure"]');
                        _calc.loan_exist = _target.find('input[name="loan-exist"]');
                        $('.btn-next', _target).removeClass('active');

                        $('.btn-next', _target).on('click', function() {
                            _calc.update(_target);
                            if(!$('.step.active', _target).hasClass('pass')) {
                                $('.btn-next', _target).removeClass('active');
                            }
                        })
                        // _calc.update(_target);

                        _calc.loan_tenure.on('change', function() {
                            _calc.state.tenure = parseInt(_calc.loan_tenure.val());
                        });

                        _calc.person1.on('keydown', VietinBank.debouncev2(function(e) {
                            _calc.state.person1 = parseInt(_calc.person1.val());
                            _calc.helper.anyCheck(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.person2.on('keydown', VietinBank.debouncev2(function(e) {
                            _calc.state.person2 = parseInt(_calc.person2.val());
                            _calc.helper.anyCheck(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.loan_amount.on('keydown', VietinBank.debouncev2(function(e) {
                            _calc.state.amount = parseInt(_calc.loan_amount.val());
                            if(_calc.state.amount < 5000) {
                                _calc.helper.showerror($('.amount-error', _target), 'Min loan amount is S$5,000');
                                $('.btn-next', _target).removeClass('active');
                                $('.step-2', _target).removeClass('pass');
                            }
                            else {
                                $('.btn-next', _target).addClass('active');
                                $('.step-2', _target).addClass('pass');
                                _calc.helper.hideerror($('.amount-error', _target));
                            }
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.loan_exist.on('click', VietinBank.debouncev2(function(e) {
                            if($(this)[0].id === 'yes' && $(this).prop('checked')) {
                                _calc.state.exist = true;
                                $('.step-3', _target).addClass('pass');
                                $('.btn-next', _target).addClass('active');
                            }
                            else if($(this)[0].id === 'no' && $(this).prop('checked')){
                                _calc.state.exist = false;
                                $('.step-3', _target).addClass('pass');
                                $('.btn-next', _target).addClass('active');
                            }
                            else {
                                $('.step-3', _target).removeClass('pass');
                                $('.btn-next', _target).removeClass('active');
                            }
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));
                    })
                },
                helper: {
                    showerror: function(target, message) {
                        $(target).parents('.step.active').find('.material-form-control.input-number').addClass('has-error');
                        $(target).find('.message').addClass('message--error').text(message);
                        $(target).fadeIn();
                    },
                    hideerror: function(target) {
                        $(target).parents('.step.active').find('.material-form-control.input-number').removeClass('has-error');
                        $(target).fadeOut().find('.message').text('');
                    },
                    initialcheck: function() {
                        var e = _calc.state;
                        if(e.person1 !== 'NaN' && parseInt(e.person1) > 0 && e.amount !== 'NaN' && parseInt(e.amount) > 0) {
                            return true;
                        }
                        return false;
                    },
                    applicantnumber: function() {
                        var e = _calc.state;
                        var num = 0;
                        if(e.person1 !== 'NaN' && parseInt(e.person1) > 0) {
                            num++;
                        }
                        if(e.person2 !== 'NaN' && parseInt(e.person2) > 0) {
                            num++;
                        }
                        return num;
                    },
                    firstCheck: function(person1, person2, amount, num) {
                        person1 = typeof person1 !== 'undefined' ? person1 : 0;
                        person2 = typeof person2 !== 'undefined' ? person2 : 0;
                        amount = typeof amount !== 'undefined' ? amount : MIN_INCOME;
                        num = typeof num !== 'undefined' ? num : 1;
                        switch(num) {
                            case 1:
                                if(person1 > amount) {
                                    return true;
                                }
                                break;
                            case 2:
                                if(person1 > amount || person2 > amount) {
                                    return true;
                                }
                                break;
                            default:
                                return false;
                        }
                        return false;
                    },
                    bothCheck: function(person1, person2, amount) {
                        person1 = typeof person1 !== 'undefined' && person1 !== 'NaN' ? person1 : 0;
                        person2 = typeof person2 !== 'undefined' && person2 !== 'NaN' ? person2 : 0;
                        amount = typeof amount !== 'undefined' ? amount : MIN_INCOME;
                        if(person1 > amount && person2 > amount) {
                            return true;
                        }
                        return false;
                    },
                    anyCheck: function(_target) {
                        person1 = typeof _calc.state.person1 !== 'undefined' && _calc.state.person1 !== 'NaN' ? _calc.state.person1 : 0;
                        person2 = typeof _calc.state.person2 !== 'undefined' && _calc.state.person2 !== 'NaN' ? _calc.state.person2 : 0;
                        amount = MIN_INCOME;
                        if(person1 > amount || person2 > amount) {
                            _calc.helper.hideerror($('.person-error', _target));
                            $('.btn-next', _target).addClass('active');
                            $('.step-1', _target).addClass('pass');
                            return true;
                        }
                        _calc.helper.showerror($('.person-error', _target), 'One person must have a monthly income of S$2,000 or more');
                        $('.btn-next', _target).removeClass('active');
                        $('.step-1', _target).removeClass('pass');
                        return false;
                    },
                    getHighest: function(person1, person2) {
                        person1 = typeof person1 !== 'undefined' ? person1 : 0;
                        person2 = typeof person2 !== 'undefined' ? person2 : 0;
                        var highest = person1;
                        if(person2 > highest) {
                            highest = person2;
                        }
                        return Math.min(highest, MIN_LOAN);
                    },
                    getLowest: function(person1, person2) {
                        person1 = typeof person1 !== 'undefined' ? person1 : 0;
                        person2 = typeof person2 !== 'undefined' ? person2 : 0;
                        var lowest = person1;
                        if(person2 < lowest) {
                            lowest = person2;
                        }
                        return Math.min(lowest, MIN_LOAN);
                    },
                    getMinLoan: function(values) {
                        return _.min(_.concat(values, MAX_LOAN));
                    },
                    getSingleLoanType: function(person1, person2) {
                        return person1 > person2 ? 'Single loan under Person 1' : 'Single loan under Person 1';
                    },
                    getFullLoanPackage: function(type, value) {
                        return {
                            renoLoanPackage: type,
                            maxRenoLoanAmount: value,
                            monthlyInstalment: _calc.helper.getMonthlyInstalment(value, _calc.state.tenure),
                            interestCharged: _calc.helper.getInterestCharged(value, _calc.state.tenure)
                        }
                    },
                    getMonthlyInstalment: function(loan, tenure) {
                        var rate = _calc.state.exist ? (0.0498 / 12) : (0.0538 / 12);
                        return loan * rate / ( 1 - Math.pow(1 + rate, -(parseInt(tenure, 10) * 12)) );
                    },
                    getInterestCharged: function(loan, tenure) {
                        return ( _calc.helper.getMonthlyInstalment(loan, tenure) * 12 * parseInt(tenure, 10) ) - loan;
                    }
                },
                eligible: {
                    oneapplicantnot: function() {
                        return _calc.computed.lowest < MIN_INCOME && _calc.computed.highest >= MIN_INCOME;
                    },
                    bothapplicant: function() {
                        return _calc.state.person1 >= MIN_INCOME && _calc.state.person2 >= MIN_INCOME;
                    },
                    singleloan: function() {
                        return _calc.computed.applicant == 1 || (_calc.computed.applicant == 2 && _calc.state.amount <= _calc.computed.highestMargin);
                    },
                    jointloan: function() {
                        return _calc.computed.applicant == 2 && _calc.computed.applicant == 2 && _calc.state.amount <= _calc.computed.lowestMargin;
                    },
                    jointsingleloan: function() {
                        return _calc.computed.applicant == 2 && _calc.eligible.oneapplicantnot() && _calc.state.amount <= _calc.computed.lowestMargin;
                    },
                    twosingleloan: function() {
                        return _calc.computed.applicant == 2 && _calc.eligible.bothapplicant() && ( _calc.state.amount > _calc.computed.highestMargin || _calc.state.amount >= _calc.computed.lowestMargin );
                    },
                    package: function(condition, type, value) {
                        return condition ? { type: type, value: value } : null;
                    }
                },
                formula: {
                    singleloan: function() {
                        return _calc.helper.getMinLoan( [_calc.computed.highestMargin, _calc.state.amount] );
                    },
                    jointloan: function() {
                        return _calc.helper.getMinLoan( [_calc.computed.lowestMargin, _calc.state.amount] );
                    },
                    jointsingleloansingle: function() {
                        return _calc.helper.getMinLoan( [_calc.computed.lowestMargin - (_calc.formula.jointloan() / 2), _calc.state.amount - _calc.formula.jointloan()] );
                    },
                    jointsingleloan: function() {
                        return _calc.formula.jointloan() + _calc.formula.jointsingleloansingle();
                    },
                    twosingleloansingle: function() {
                        return _calc.helper.getMinLoan( [_calc.computed.lowest * 6, _calc.state.amount - _calc.formula.singleloan()] );
                    },
                    twosingleloan: function() {
                        return _calc.formula.singleloan() + _calc.formula.twosingleloansingle();
                    },
                    allpackage: function() {
                        return [
                            _calc.eligible.package(_calc.eligible.singleloan(), _calc.helper.getSingleLoanType(_calc.state.person1, _calc.state.person2), _calc.formula.singleloan()),
                            _calc.eligible.package(_calc.eligible.jointloan(), 'Joint loan', _calc.formula.jointloan()),
                            _calc.eligible.package(_calc.eligible.jointsingleloan(), '1 joint loan and 1 single loan', _calc.formula.jointsingleloan()),
                            _calc.eligible.package(_calc.eligible.twosingleloan(), '2 single loans', _calc.formula.twosingleloan()),
                        ].filter(function(i) { return i !== null });
                    }
                },
                final: {
                    maxreno: function() {
                        var selected = _calc.formula.allpackage().reduce(function(a,b) {return a.value >= b.value ? a : b; });
                        return _calc.helper.getFullLoanPackage(selected.type, selected.value);
                    },
                    breakdownreno: function() {
                        switch(_calc.final.maxreno().renoLoanPackage) {
                            case '1 joint loan and 1 single loan':
                                var jointloan = _calc.formula.jointloan();
                                var singleloan = _calc.formula.singleloan();
                                if(singleloan < MIN_LOAN) {
                                    singleloan  = MIN_LOAN;
                                    jointloan = _calc.helper.getMinLoan( [_calc.computed.lowestMargin, _calc.state.amount - singleloan, (_calc.computed.highestMargin - singleloan) * 2] );
                                }
                                return [
                                    _calc.helper.getFullLoanPackage('Joint loan', jointloan),
                                    _calc.helper.getFullLoanPackage(_calc.helper.getSingleLoanType(), singleloan)
                                ];
                                break;
                            case '2 single loans':
                                var highloan = _calc.formula.singleloan();
                                var lowloan = _calc.formula.twosingleloansingle();
                                if(lowloan < MIN_LOAN) {
                                    highloan = highloan - (MIN_LOAN - lowloan);
                                    lowloan = MIN_LOAN;
                                }
                                if(_calc.helper.getSingleLoanType() === 'Single loan under Person 2') {
                                    return [
                                        _calc.helper.getFullLoanPackage('Single loan under Person 1', lowloan),
                                        _calc.helper.getFullLoanPackage('Single loan under Person 2', highloan)
                                    ];
                                }
                                return [
                                    _calc.helper.getFullLoanPackage('Single loan under Person 1', highloan),
                                    _calc.helper.getFullLoanPackage('Single loan under Person 2', lowloan)
                                ];
                                break;
                            default:
                                return null;
                        }
                    },
                    updatemaxreno: function() {
                        if(_calc.final.breakdownreno() !== null) {
                            var updateamount = _calc.final.breakdownreno().reduce(function(a,b) { return a.maxRenoLoanAmount + b.maxRenoLoanAmount });
                            if(updateamount !== _calc.final.maxreno().maxRenoLoanAmount) {
                                return _calc.helper.getFullLoanPackage(_calc.final.maxreno().renoLoanPackage, updateamount);
                            }
                        }
                        return _calc.final.maxreno();
                    },
                    shortfall: function() {
                        if(_calc.final.updatemaxreno().maxRenoLoanAmount < _calc.state.amount) {
                            return _calc.state.amount - _calc.final.updatemaxreno().maxRenoLoanAmount;
                        }
                        return null;
                    }
                },
                update: function(target) {
                    //
                    var state = _calc.state, computed = _calc.computed, helper = _calc.helper, formula = _calc.formula, eligible = _calc.eligible;
                    computed.applicant = helper.applicantnumber();
                    switch(computed.applicant) {
                        case 1:
                            computed.journey = helper.firstCheck(state.person1, state.person2, MIN_INCOME, 1);
                            break;
                        case 2:
                            computed.journey = helper.firstCheck(state.person1, state.person2, MIN_INCOME, 2);
                            break;
                        default:
                            helper.showerror(_calc.person1, 'Please insert an value');
                            return false;
                    }
                    computed.highest = helper.getHighest(state.person1, state.person2);
                    computed.highestMargin = computed.highest * 6;
                    computed.lowest = helper.getLowest(state.person1, state.person2);
                    computed.lowestMargin = computed.lowest * 12;
                    if(!computed.journey) {
                        helper.showerror(_calc.person1, 'No journey');
                        return false;
                    }
                    var maxreno = _calc.final.updatemaxreno();
                    var breakdown = _calc.final.breakdownreno();
                    var shortfall = _calc.final.shortfall();
                    $('#breakdown-content', target).fadeOut().html('');
                    if(shortfall !== null) {
                        _calc.print($('.loan-needed-text', target), shortfall);
                        $('.loan-shortfall', target).fadeIn();
                    }
                    else {
                        $('.loan-shortfall', target).fadeOut();
                    }
                    if(breakdown !== null) {
                        var div = '';
                        breakdown.forEach(function(index) {
                            div += '<div class="col-md-6"><div class="pb-2"><b>'+index.renoLoanPackage+'</b></div>'+
                            '<div class="d-flex justify-content-between pb-2"><span>Loan Amount</span><b class="bold">S$ '+index.maxRenoLoanAmount+'</b></div>'+
                            '<div class="d-flex justify-content-between pb-2"><span>Monthly instalment</span><b class="bold">S$ '+index.monthlyInstalment.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")+'</b></div>'+
                            '<div class="d-flex justify-content-between pb-2"><span>Total interest charged</span><b class="bold">S$ '+index.interestCharged.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")+'</b></div>'+
                            '</div>';
                        })
                        $('#breakdown-content', target).html(div).fadeIn(300, function() {
                            $('#breakdown', target).slideDown();
                        });
                    }
                    else {
                        $('#breakdown', target).slideUp();
                    }
                    _calc.print($('.loan-qualify-text', target), maxreno.maxRenoLoanAmount);
                    _calc.print($('.loan-type-text', target), maxreno.renoLoanPackage, true);
                    _calc.print($('.loan-monthly-text', target), maxreno.monthlyInstalment);
                    _calc.print($('.loan-interest-text', target), maxreno.interestCharged);
                },
                print: function(target, value, text) {
                    text = text || false;
                    if(!text) {
                        var _num = Math.round(value * 100) / 100;
                        _num = _num.toFixed(2);
                    }
                    else {
                        var _num = value;
                    }
                    var _val = _num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    if(!text) {
                        target.html('S$ '+_val);
                    }
                    else {
                        target.html(_val);
                    }
                }
            }
            _calc.init();
        }
        //
        var calculatorUsedCar = function(opt) {
            var _calc = {
                target: '',
                input: '',
                change: '',
                rate: '',
                state: {
                    amount: 0,
                    tenor: 1,
                    monthly: 0,
                    interest: 0,
                    totalRepayment: 0,
                    eir: 0,
                    fee: 0,
                },
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.input = _target.find('input[name="usedcar-amount"]');
                        _calc.change = _target.find('select[name="usedcar-tenor"]');
                        _calc.rate = _target.find('input[name="usedcar-rate"]');
                        _calc.update(_target);

                        _calc.change.on('change', function() {
                            _calc.state.tenor = parseInt(_calc.change.val());
                            _calc.update(_target);
                        });

                        _calc.input.on('keypress', VietinBank.debouncev2(function(e) {
                            _calc.state.amount = parseInt(_calc.input.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.rate.on('keypress', VietinBank.debouncev2(function(e) {
                            _calc.state.fee = parseFloat(_calc.rate.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));
                    })
                },
                fee: function() {
                    _calc.state.fee =  _calc.state.fee;
                },
                monthly: function() {
                    _calc.state.monthly = (_calc.state.amount + (_calc.state.amount * (_calc.state.fee/100) * _calc.state.tenor)) / (_calc.state.tenor * 12);
                },
                interest: function() {
                    _calc.state.interest = _calc.state.amount * (_calc.state.fee/100) * _calc.state.tenor;
                },
                totalRepayment: function() {
                    _calc.state.totalRepayment = _calc.state.amount + _calc.state.interest;
                },
                update: function(target) {
                    var e = _calc.state,
                    t = e.amount;
                    if (isNaN(e.amount) && e.amount <= 0) {
                        // alert("Please enter a number.");  
                    } 
                    else {
                        _calc.fee();
                        _calc.interest();
                        _calc.monthly();
                        _calc.totalRepayment();
                    }
                    _calc.print(target.find('.cashinstalment-monthly'), e.monthly);
                    _calc.print(target.find('.cashinstalment-fee'), e.fee, true);
                    _calc.print(target.find('.cashinstalment-interest'), e.interest);
                    _calc.print(target.find('.cashinstalment-totalrepayment'), e.totalRepayment);
                },
                print: function(target, value, percentage) {
                    percentage = percentage || false;
                    var _num = Math.round(value * 100) / 100;
                    if(!percentage) {
                        _num = _num.toFixed(2);
                    }
                    var _val = _num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    if(!percentage) {
                        target.html('S$ '+_val);
                    }
                    else {
                        target.html(_val+'%');
                    }
                }
            }
            _calc.init();
        }
        var calculatorRefinanceCar = function(opt) {
            var _calc = {
                target: '',
                input: '',
                change: '',
                rate: '',
                paymentType: '',
                state: {
                    amount: 50000,
                    tenor: 1,
                    paymentType: 'arrears',
                    interest: 2.08,
                    fee: 2.08,
                    payment: []
                },
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.input = _target.find('input[name="refinancecar-amount"]');
                        _calc.change = _target.find('select[name="refinancecar-tenor"]');
                        _calc.rate = _target.find('input[name="refinancecar-rate"]');
                        _calc.paymentType = _target.find('input[name="refinancecar-type"]');

                        _calc.update(_target);

                        _calc.change.on('change', function() {
                            _calc.state.tenor = parseInt(_calc.change.val());
                            _calc.update(_target);
                        });

                        _calc.input.on('keypress', VietinBank.debouncev2(function(e) {
                            _calc.state.amount = parseInt(_calc.input.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.rate.on('keypress', VietinBank.debouncev2(function(e) {
                            _calc.state.fee = parseFloat(_calc.rate.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.paymentType.on('change', function() {
                            if(document.getElementById('ref-arrears').checked) {
                                _calc.state.paymentType = 'arrears';
                            } else {
                                _calc.state.paymentType = 'advance';
                            }
                            _calc.update(_target);
                        });
                    })
                },
                update: function(target) {
                    var e = _calc.state,
                    t = e.amount;
                    if (isNaN(e.amount) && e.amount <= 0) {
                        // alert("Please enter a number.");  
                    } 
                    else {
                        _calc.calculate();
                    }
                    _calc.print()
                },
                calculate: function() {
                    // empty payment array first
                    _calc.state.payment = [];

                    var settlementAmt = parseFloat(_calc.state.amount);
                    var repaymentPeriod = parseInt(_calc.state.tenor*12);
                    var interestRate = parseFloat(_calc.state.fee);
                    var totalInterest = parseFloat(settlementAmt * (repaymentPeriod/12) * interestRate/100);
                    var monthlyInstalment = parseFloat((settlementAmt + totalInterest) /repaymentPeriod);
                    var finalInstalment =  parseFloat((settlementAmt + totalInterest - (monthlyInstalment * (repaymentPeriod-1))));
                    var sumOfDigit = (repaymentPeriod * (repaymentPeriod +1))/2;
                    var ruleOf78 = 0;
                    var MI = 0;
                    var principleEnd = settlementAmt;
                    var principle = 0;
                    var interestPaid = 0;
                    var nextMonthInterestPaid = 0;
                    var arrearsInterestPaid = 0;
                    var principlePaid = 0;
                    var totalInterestPaid = 0;
                    var arrearsTotalInterestPaid = 0;
                    var nextMonthTotalInterestPaid = 0;
                    var interestRemaining = 0;
                    var nextMonthInterestRemaining = 0;
                    var SIBSInterestRemaining = 0;
                    var currentOutstanding = 0;
                    var arrearsCurrentOutstanding = 0;
                    var interestRebate = 0;
                    var arrearsInterestRebate = 0;
                    var interestInLieu = 0;
                    var nextInterestPaid = 0;
                    var prepaymentPenalty = 0;
                    var fullSettlement = 0;
                    var resultTable = "";
                    var year = 1;

                    if (_calc.state.paymentType == 'arrears'){ //arrears payment scheme
                        for (var period=repaymentPeriod;period>0;period-=1){                
                            if (period == repaymentPeriod){
                                MI = 0;
                                interestPaid = 0;
                            }
                            else{
                                (period == 1)? MI = finalInstalment : MI = monthlyInstalment;
                                interestPaid = ((period+1) / sumOfDigit) * totalInterest;
                            }               
                            
                            arrearsInterestPaid = (period / sumOfDigit) * totalInterest;
                            
                            principlePaid = MI - interestPaid;
                            principleEnd = principleEnd - principlePaid;
                            totalInterestPaid += arrearsInterestPaid;
                            nextMonthInterestPaid = ((period-1) / sumOfDigit) * totalInterest;
                            if (period == repaymentPeriod){
                                nextMonthTotalInterestPaid = arrearsInterestPaid + nextMonthInterestPaid;
                            }
                            else{
                                nextMonthTotalInterestPaid += nextMonthInterestPaid;
                            }
                            nextMonthInterestRemaining = totalInterest - nextMonthTotalInterestPaid;
                            arrearsTotalInterestPaid += interestPaid
                            SIBSInterestRemaining = totalInterest - totalInterestPaid;
                            arrearsCurrentOutstanding = principleEnd + SIBSInterestRemaining + arrearsInterestPaid;
                            arrearsInterestRebate = (totalInterest -  nextMonthTotalInterestPaid )* 0.2;
                            prepaymentPenalty = (arrearsCurrentOutstanding - SIBSInterestRemaining + arrearsInterestPaid)*0.01;
                            fullSettlement = arrearsCurrentOutstanding - nextMonthInterestRemaining + prepaymentPenalty + arrearsInterestRebate;

                            if ((period-1)>0){
                                if ((period-1) %12 == 0){   
                                    _calc.state.payment.push({year: year, payment: fullSettlement})                        
                                    year++;
                                }
                            }
                        }
                    }
                    else{ //advance payment scheme
                        for (var period=repaymentPeriod;period>0;period -=1){
                            ruleOf78 = period/sumOfDigit;
                            (period == 1)? MI = finalInstalment : MI = monthlyInstalment;
                            principle = principleEnd;
                            interestPaid = (period / sumOfDigit) * totalInterest;
                            principlePaid = MI - interestPaid;
                            principleEnd = principleEnd - principlePaid;
                            totalInterestPaid += interestPaid;
                            interestRemaining = totalInterest - totalInterestPaid;
                            currentOutstanding = principleEnd + interestRemaining;
                            interestRebate = interestRemaining * 0.2;
                            nextInterestPaid = ((period-1) / sumOfDigit) * totalInterest;
                            interestInLieu = nextInterestPaid * 0.8;
                            prepaymentPenalty = (currentOutstanding - interestRemaining + nextInterestPaid)*0.01;
                            fullSettlement = currentOutstanding - interestRemaining + interestRebate + prepaymentPenalty + interestInLieu;

                            if ((period-1)>0){
                                if ((period-1) %12 == 0){         
                                     _calc.state.payment.push({year: year, payment: fullSettlement})                   
                                    year++;
                                }
                            }
                        }           
                    }
                },
                print: function() {
                    var appendHtml = '';
                    if( _calc.state.payment.length != _calc.state.tenor ) {
                        _calc.state.payment.push({ year: _calc.state.tenor, payment: 0 });
                    }
                    var chunkArray = _.chunk(_calc.state.payment, 3);
                    _.forEach(chunkArray, function(realArray, index) {
                        appendHtml += '<div class="d-block flex-row d-lg-flex custom__calculator-loan-container--row">';
                        appendHtml += '<div class="custom__calculator-loan-container--col">';
                        if( index == 0 )
                            appendHtml += '<p class="bold">Heres how much you need to pay</p>';
                        else 
                            appendHtml += '<p class="bold">&nbsp;</p>';
                        appendHtml += '</div>';

                        // if array is not three just add blank array to full fill
                        if(realArray.length != 3) {
                            var numToPush = 3 - realArray.length;
                            for (var i = 0; i < numToPush; i++) {
                                realArray.push( {year: "", payment: ""} )
                            }
                        }
                        _.forEach(realArray, function(value, secondIndex) {
                            appendHtml += '<div class="custom__calculator-loan-container--col">';
                            if(value.year != "") {
                                appendHtml += '<p class="mb1">Year ' + value.year + '</p>';
                                appendHtml += '<h3 class="bold cashinstalment-monthly"> S$ ' + value.payment.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,') + '</h3>';
                            }
                            appendHtml += '</div>';
                        });
                        appendHtml += '</div>';
                    })

                    $('#result-payment').html(appendHtml);
                }
            }
            _calc.init();
        }
        //
        var calculatorSRS = function(opt) {
            var table1 = [
                ["20000", 0, 0],
                ["30000", 0.00666666666666667, 200],
                ["40000", 0.01375, 550],
                ["50000", 0.025, 1250],
                ["60000", 0.0325, 1950],
                ["70000", 0.0378571428571429, 2650],
                ["80000", 0.041875, 3350],
                ["90000", 0.05, 4500],
                ["100000", 0.0565, 5650],
                ["110000", 0.0618181818181818, 6800],
                ["120000", 0.06625, 7950],
                ["130000", 0.0726923076923077, 9450],
                ["140000", 0.0782142857142857, 10950],
                ["150000", 0.083, 12450],
                ["160000", 0.0871875, 13950],
                ["170000", 0.092647058823529, 15750],
                ["180000", 0.0975, 17550],
                ["190000", 0.101842105263158, 19350],
                ["200000", 0.10575, 21150],
                ["210000", 0.109761904761905, 23050],
                ["220000", 0.113409090909091, 24950],
                ["230000", 0.116739130434783, 26850],
                ["240000", 0.119791666666667, 28750],
                ["250000", 0.1228, 30700],
                ["260000", 0.125576923076923, 32650],
                ["270000", 0.128148148148148, 34600],
                ["280000", 0.130535714285714, 36550],
                ["290000", 0.132931034482759, 38550],
                ["300000", 0.135166666666667, 40550],
                ["310000", 0.137258064516129, 42550],
                ["320000", 0.13921875, 44550],
                ["330000", 0.141666666666667, 46750],
                ["340000", 0.143970588235294, 48950],
                ["350000", 0.146142857142857, 51150]
            ];

            var table2 = [
                ["20000", 0.02, 0],
                ["30000", 0.035, 200],
                ["40000", 0.07, 550],
                ["50000", 0.07, 1250],
                ["60000", 0.07, 1950],
                ["70000", 0.07, 2650],
                ["80000", 0.115, 3350],
                ["90000", 0.115, 4500],
                ["100000", 0.115, 5650],
                ["110000", 0.115, 6800],
                ["120000", 0.15, 7950],
                ["130000", 0.15, 9450],
                ["140000", 0.15, 10950],
                ["150000", 0.15, 12450],
                ["160000", 0.18, 13950],
                ["170000", 0.18, 15750],
                ["180000", 0.18, 17550],
                ["190000", 0.18, 19350],
                ["200000", 0.19, 21150],
                ["210000", 0.19, 23050],
                ["220000", 0.19, 24950],
                ["230000", 0.19, 26850],
                ["240000", 0.195, 28750],
                ["250000", 0.195, 30700],
                ["260000", 0.195, 32650],
                ["270000", 0.195, 34600],
                ["280000", 0.2, 36550],
                ["290000", 0.2, 38550],
                ["300000", 0.2, 40550],
                ["310000", 0.2, 42550],
                ["320000", 0.22, 44550]
            ];
            var _calc = {
                target: '',
                input: '',
                relief: '',
                contribute: '',
                state: {
                    income: 130000,
                    relief: 30000,
                    contribute: 15300,
                    amount: 0,
                    with: {
                        income: 0,
                        tax: 0,
                    },
                    without: {
                        income: 0,
                        tax: 0,
                    }
                },
                init: function() {
                    $(opt.target).each(function() {
                        var _target = $(this);
                        _calc.input = _target.find('input[name="personal-income"]');
                        _calc.relief = _target.find('input [name="personal-relief"]');
                        _calc.contribute = _target.find('input[name="personal-contribute"]');
                        _calc.update(_target);

                        _calc.relief.on('keydown', function() {
                            _calc.state.relief = parseInt(_calc.relief.val());
                            _calc.update(_target);
                        });

                        _calc.input.on('keydown', VietinBank.debouncev2(function(e) {
                            _calc.state.income = parseInt(_calc.input.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));

                        _calc.contribute.on('keydown', VietinBank.debouncev2(function(e) {
                            _calc.state.contribute = parseFloat(_calc.contribute.val());
                            _calc.update(_target);
                        }, 300, {
                            leading: false,
                            trailing: true
                        }));
                    })
                },
                vlookup: function(table, needle, index, exactmatch) {
                    index = index || 0;
                    exactmatch = exactmatch || false;
                    for (var i = 0; i < table.length; i++) {
                        var row = table[i];
                        if ((exactmatch && row[0] === needle) || row[0].indexOf(needle) != -1)
                            return index < row.length ? row[index] : row;
                    }
                    return null;
                },
                asCurrency: function(num, roundnum) {
                    var sign = num == (num = Math.abs(num));
                    var num = Math.floor(num * 100 + 0.50000000001);
                    var cents = num % 100;
                    var num = Math.floor(num / 100).toString();

                    if (cents < 10) cents = "0" + cents;
                    for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)
                        num =
                            num.substring(0, num.length - (4 * i + 3)) +
                            "," +
                            num.substring(num.length - (4 * i + 3));

                    if (roundnum == true) {
                        return (sign ? "" : "-") + num;
                    }
                    return (sign ? "" : "-") + num + "." + cents;
                },
                roundNumber: function(number, digits) {
                    var multiple = Math.pow(10, digits);
                    var rndedNum = Math.ceil(Math.floor(number * multiple) / multiple);
                    return rndedNum;
                },
                showerror: function(target, message) {
                    $(target).fadeIn();
                },
                hideerror: function(target) {
                    $(target).fadeOut();
                },
                update: function(target) {
                    var e = _calc.state;
                    if (e.relief == "") e.relief = 0;
                    var totalreliefwithoutSRS = e.relief;
                    var totalreliefSRS = e.relief;
                    var chargableincomesrs = e.income - (totalreliefSRS + e.contribute);
                    var chargableincomewithoutsrs = e.income - totalreliefwithoutSRS;
                    if (chargableincomesrs < 0) _calc.print(target.find('.chargableincomesrs'), 0);
                    else
                        _calc.print(target.find(".chargableincomesrs"), chargableincomesrs);
                    if (chargableincomewithoutsrs < 0)
                        _calc.print(target.find('.chargableincomewithoutsrs'), 0);
                    else
                        _calc.print(target.find('.chargableincomewithoutsrs'), chargableincomewithoutsrs);
                    if(e.contribute > 35700) {
                        _calc.showerror(target.find('.error-contribute'));
                    }
                    else {
                        _calc.hideerror(target.find('.error-contribute'));
                        if(e.relief + e.contribute > 80000) {
                            _calc.showerror(target.find('.error-contribute'));
                        }
                        else {
                            _calc.hideerror(target.find('.error-contribute'));
                        }
                    }
                    var roundDownLength = 0;
                    if (chargableincomesrs.toString().length == 5) {
                        roundDownLength = 1;
                    } else if (chargableincomesrs.toString().length == 6) {
                        roundDownLength = 2;
                    }
                    var rounddownwithoutsrs = _calc.roundNumber(
                        chargableincomewithoutsrs,
                        (chargableincomewithoutsrs.toString().length - roundDownLength) * -1
                    );
                    if (rounddownwithoutsrs > 320000) rounddownwithoutsrs = 320000;
                    var taxonfirstrounddownwithoutsrs = 0;
                    if (rounddownwithoutsrs < 20000) taxonfirstrounddownwithoutsrs = 0;
                    else {
                        taxonfirstrounddownwithoutsrs = _calc.vlookup(table1,
                            rounddownwithoutsrs,
                            2
                        );
                    }
                    var additionaltaxamountwithoutsrs = 0;
                    if (chargableincomewithoutsrs > 20000) {
                        additionaltaxamountwithoutsrs =
                            chargableincomewithoutsrs - rounddownwithoutsrs;
                    }

                    var additionaltaxratewithoutsrs = _calc.vlookup(table2,
                        rounddownwithoutsrs,
                        1
                    );
                    var additionaltaxwithoutsrs =
                        additionaltaxratewithoutsrs * additionaltaxamountwithoutsrs;
                    //var taxwithoutsrs = Math.round(additionaltaxwithoutsrs + taxonfirstrounddownwithoutsrs);
                    var taxwithoutsrs =
                        additionaltaxwithoutsrs + taxonfirstrounddownwithoutsrs;

                    //Calculating for tax with SRS
                    var rounddown = _calc.roundNumber(
                        chargableincomesrs,
                        (chargableincomesrs.toString().length - roundDownLength) * -1
                    );
                    if (rounddown > 320000) rounddown = 320000;
                    var taxonfirstrounddown = 0;
                    if (rounddown < 20000) {
                        taxonfirstrounddown = 0;
                    } else {
                        taxonfirstrounddown = _calc.vlookup(table1, rounddown, 2);
                    }
                    var additionaltaxamount = 0;
                    if (chargableincomesrs > 20000) {
                        var additionaltaxamount = chargableincomesrs - rounddown;
                    }
                    var additionaltaxrate = _calc.vlookup(table2, rounddown, 1);
                    var additionaltax = additionaltaxrate * additionaltaxamount;
                    //var taxsrs = Math.round(additionaltax + taxonfirstrounddown);
                    var taxsrs = additionaltax + taxonfirstrounddown;
                    var yearlysavings = Math.round(taxwithoutsrs - taxsrs);
                    var yearlysavingspercent = Math.round(
                        yearlysavings / taxwithoutsrs * 100
                    );

                    if (yearlysavingspercent == "-Infinity" || isNaN(yearlysavingspercent))
                        yearlysavingspercent = 0;
                    _calc.print(target.find('.totalreliefwithoutsrs'), totalreliefwithoutSRS);
                    _calc.print(target.find('.totalreliefsrs'), totalreliefSRS);
                    _calc.print(target.find('.taxwithoutsrs'), taxwithoutsrs);
                    _calc.print(target.find('.taxsrs'), taxsrs);

                    _calc.print(target.find('.yearlysavings'), yearlysavings);
                    _calc.print(target.find('.yearlysavingspercent'), yearlysavingspercent, true);

                    _calc.print(target.find('.totalIncome'), $("#totalincome").val());
                    _calc.print(target.find('.personalTaxRelief'), $("#personalrelief").val());
                    _calc.print(target.find('.srsContribution'), $("#srs").val());
                    // _calc.print(target.find('.cashinstalment-monthly'), e.monthly);
                    // _calc.print(target.find('.cashinstalment-fee'), e.fee, true);
                    // _calc.print(target.find('.cashinstalment-interest'), e.interest);
                    // _calc.print(target.find('.cashinstalment-totalrepayment'), e.totalRepayment);
                },
                print: function(target, value, percentage) {
                    percentage = percentage || false;
                    var _num = Math.round(value * 100) / 100;
                    if(!percentage) {
                        _num = _num.toFixed(0);
                    }
                    var _val = _num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                    if(!percentage) {
                        target.html('S$ '+_val);
                    }
                    else {
                        target.html(_val+'%');
                    }
                }
            }
            _calc.init();
        }
        try {
            calculatorPaylite({ target: '#calculator-paylite' });
        }
        catch(error) {
            console.error('calculator calculatorPaylite error:',error.message);
        }
        try {
            calculatorBT({ target: '#calculator-bt' });
        }
        catch(error) {
            console.error('calculator calculatorBT error:',error.message);
        }

        try {            
        	calculator360({ target: '#calculator-360account'});
        }
        catch(error) {
            console.error('calculator calculator360 error:',error.message);
        }

        try {
            calculatorRefinanceCar({ target: '#calculator-refinancecar'});
        }
        catch(error) {
            console.error('calculator refinance car error:',error.message);
        }

        try {
            calculatorUsedCar({ target: '#calculator-usedcar'});
        }
        catch(error) {
            console.error('calculator usedcar error:',error.message);
        }

        try {
            calculatorInstalment({ target: '#calculator-cashinstalment'});
        }
        catch(error) {
            console.error('calculator calculatorInstalment error:',error.message);
        }
        //
        try {
            calculatorGroupTerm({ target: '#calculator-grouptermlife'});
        }
        catch(error) {
            console.error('calculator calculatorGroupTerm error:',error.message);
        }
        try {
            calculatorRenoLoan({ target: '#calculator-renoloan'});
        }
        catch(error) {
            console.error('calculator calculatorRenoLoan error:',error);
        }
        try {
            calculatorSRS({ target: '#calculator-srs'});
        }
        catch(error) {
            console.error('calculator calculatorSRS error:',error);
        }
        //
    },

cardPromotion: function() {
  var _promo = {
    target: $('#card-listing-merchant-promotions'),
    page: 1,
    numberOfFeatured: 2,
    perPage: 2,
    currentPage: 1,
    launched: false,
    backup: [],
    data: [],
    promotions: [],
    filter: {},
    popupState: 0,
    searchItem: '',
    container: {
      paginate: $('.al-ro-pagination', '#card-listing-merchant-promotions') 
    },
    address: [],
    listen: function() {
      // For filter on mobile
      var filterSidebar = $('#card-listing-merchant-promotions .al-ro-col.short');
      $('.btn-close', filterSidebar).on('click', function(e) {
        e.preventDefault();
        VietinBank.bodystopscroll('all');
        $('body').removeClass('sidebar-opened');
      });
      $('.detect-location').on('click', function(e) {
        e.preventDefault();
        _promo.filter.location = true;

        _promo.loader.on(function() {
          _promo.ajax.navigate(1);

          $('.com_location-blurb').fadeIn();
        });
      });
      $('.com_location-blurb a').on('click', function(e) {
        e.preventDefault();
        _promo.filter.location = false;

        _promo.loader.on(function() {
          _promo.ajax.navigate(1);

          $('.com_location-blurb').fadeOut();
        });
      });
      $('.btn-open-filter').on('click', function(e) {
        e.preventDefault();
        VietinBank.bodystopscroll(true, '#card-listing-merchant-promotions .al-ro-col.short');
        $('body').addClass('sidebar-opened');
      });
      $('[com__form-group]').each(function() {
        var _group = $(this);
        $('.label-checkbox input[type="checkbox"]', _group).click(function() {
          _promo.checkCategories(this, _group);
        });
      });
      $('a.ar-co-apply-btn', filterSidebar).on('click', function(e) {
        e.preventDefault();
        $('.btn-close', filterSidebar).click();
        if(!$(this).hasClass('disabled')) {
          $(this).addClass('disabled');
          _promo.loader.on(function() {
            _promo.filter.categories = [];
            if($('input:visible:checkbox:not(:checked)[value="all"]').length !== 0) {
              $('.label-checkbox input:visible[type="checkbox"]:checked', 'ul[com__form-group]').each(function() {
                _promo.filter.categories.push($(this).attr('value'));

              });
              _promo.select.setToUrl('cat',_promo.filter.categories.join(','));
            }
            else {
              _promo.select.setToUrl('cat', '');
            }
            _promo.select.setToUrl('p', 1);
            _promo.ajax.navigate(1);
          });
        }
      });
      $('.btn-reset', '#card-listing-merchant-promotions').on('click', function(e) {
        e.preventDefault();
        _promo.filter.name = '';
        $('.search-for', '#card-listing-merchant-promotions').fadeOut(function() {
          $('.search-keyword', '#card-listing-merchant-promotions').text('');
        });
        $('input[name="promo-search"]').val('');
        _promo.loader.on(function() {
          _promo.ajax.navigate(1);
        });
      })
      $('.ar-co-search-btn', '#card-listing-merchant-promotions .com_search-form').on('click', _promo.ajax.search)
      $(document).keypress(_promo.ajax.search)
      $('input[name="promo-search"], input[name="promo-search-mobile"]').on('keydown', function(e) {
        var value = $(this).val();
        var _this = this;
        $('input[name="promo-search"], input[name="promo-search-mobile"]').each(function(e) {
          $(this).not(_this).val(value);
        })
      })
      if(filterSidebar.length) {
        _promo.select.listen();
        _promo.before();
      }
    },
    loader: {
      on: function(callBack) {
        $('#component__loader', '#card-listing-merchant-promotions').fadeIn(300, function() {
          if(typeof callBack == 'function') {
            callBack();
          }
        });
      },
      off: VietinBank.debouncev2(function(callBack) {
        $('#component__loader', '#card-listing-merchant-promotions').fadeOut(300, function() {
          if(typeof callBack == 'function') {
            callBack();
          }
        });
      }, 300, {
        leading: false,
        trailing: true
      })
    },
    checkRowItems: function(wrapper) {
      if (!wrapper.width()) return;
      var singleCard = $('.single-card-promotion', wrapper);
      var visibleCard = $('.single-card-promotion:not(.hide)', wrapper);
      var itemsPerRow = Math.floor(wrapper.width()/singleCard.width());
      if (!itemsPerRow) itemsPerRow = 1;
      var totalRows = Math.ceil(singleCard.length/itemsPerRow);
      singleCard.each(function(elemIndex) {
        var elem = $(this);
        elem.removeAttr('data-row');
      });
      visibleCard.each(function(elemIndex) {
        var elem = $(this);
        elem.attr('data-row', Math.floor(elemIndex/itemsPerRow));
      });

      $('.feature__column--text', wrapper).css({
        marginTop: 0,
        minHeight: 0
      })

      for (var i=0; i<totalRows; i++) {
        VietinBank.equalize(
          $('.feature__column--text', wrapper.find('.single-card-promotion[data-row="'+i+'"]'), false)
        );
      }
      $('.feature__column--text', wrapper).css({
        marginTop: '-60px'
      })
    },
    checkCategories: function(elem, _group) {
      var filterSidebar = $('#card-listing-merchant-promotions .al-ro-col.short');
      var _this = $(elem),
      _val = $(elem).attr('value');
      var disabled = true;
      if($('.label-checkbox input:visible:checkbox:checked:not([value="all"])', _group).length !== 0) {
        if(_val.toLowerCase() == 'all') {
          if(_this.prop('checked') == true) {
            if(_promo.filter.categories.length === $('.label-checkbox input:visible:checkbox:checked:not([value="all"])', _group).length || _promo.filter.categories.length === 0) {
              disabled = true;
            }
            else {
              disabled = false;
            }
          } else {
            if(_promo.filter.categories.length === $('.label-checkbox input:visible:checkbox:checked:not([value="all"])', _group).length || _promo.filter.categories.length === 0) {
              disabled = true;
            }
            else {
              disabled = false;
            }
          }
        }
        else {
          disabled = true;
          if($('.label-checkbox input:visible:checkbox:checked:not([value="all"])', _group).length !== _promo.filter.categories.length) {
            disabled = false;
          }
          $('.label-checkbox input:visible:checkbox:checked:not([value="all"])', _group).each(function() {
            if(_promo.filter.categories.indexOf($(this).attr('value')) === -1) {
              disabled = false;
            }
          });
        }
      }
      if(disabled) {
        if(!$('a.ar-co-apply-btn', filterSidebar).hasClass('disabled')) {
          $('a.ar-co-apply-btn', filterSidebar).addClass('disabled');
        }
      }
      else {
        $('a.ar-co-apply-btn', filterSidebar).removeClass('disabled');
      }
    },
    compareBothArray: function(firstArray, secondArray) {
      return firstArray.some(function(el) {
        return secondArray.indexOf(el) > -1;
      })
      return false;
    },
    select: {
      getFromUrl: function() {
        var urlV = VietinBank.getUrlVars();
        _promo.page = typeof urlV.page === 'undefined' ? 1 : urlV.page;
        if(urlV.cat) {
          var arr = urlV.cat.split(',');
          _promo.filter.categories = [];
          arr.forEach(function(item) {
            _promo.filter.categories.push(item);
            $('.label-checkbox input:visible:checkbox[value="'+item+'"]', 'ul[com__form-group]').prop('checked', true);
          })
        }
        else {
          _promo.filter.categories = [];
          $('input[value="all"]', '#card-listing-merchant-promotions').click();
        }
        if(urlV.card) {
          _promo.filter.card = urlV.card;
          $('select[name="promo-card"] option[value="'+urlV.card+'"]').prop('selected', true);
        }
        if(urlV.main) {
          _promo.filter.main = urlV.main;
          $('select[name="promo-main"] option[value="'+urlV.main+'"]').prop('selected', true); 
        }
        if(urlV.sort) {
          _promo.filter.sort = urlV.sort;
          $('select[name="promo-sort"] option[value="'+urlV.sort+'"]').prop('selected', true); 
          $('select[name="promo-sort-mobile"] option[value="'+urlV.sort+'"]').prop('selected', true); 
        }
        return true;
      },
      setToUrl: function(key, data) {
        _promo.filter[key] = data;
        VietinBank.setUrlVars(key, data);
      },
      listen: function() {
        $(window).on('select2update', function(e, data) {
          _promo.loader.on(function() {
            switch(e.name) {
              case 'promo-main':
                // script to get categories
                // hide categoies
                $('.list-category').hide();
                var categoryObject = _.filter(_promo.promotions, { 'mainCat': e.value })
                if(categoryObject.length) {
                  _.forEach(categoryObject[0].subCat, function(value) {
                    $("ul").find('[data-id="'+value+'"]').show();
                  });
                }
                // process the data

                // end get categories
                _promo.select.setToUrl('main', e.value);
                keepLoading = true;
                break;
              case 'promo-card':
                _promo.select.setToUrl('card', e.value);
                keepLoading = true;
                break;
              case 'promo-sort-mobile':
              case 'promo-sort':
                _promo.select.setToUrl('sort', e.value);
                keepLoading = true;
                break;
              case 'loading':
                keepLoading = false;
                break;
              default: 
                keepLoading = true;
                //
            }
            if(keepLoading) {
              _promo.ajax.navigate(1);
              _promo.select.setToUrl('p', 1);
            }
          });
        });
      }
    },
    ajax: {
      get: function() {
        // call card promotion.json
        $.ajax({
          url: '/iwov-resources/sg/VietinBank/personal/data/card-promotions.json?' + new Date().valueOf(), 
          async: false,
          dataType:'json',
          error: function(error) {
            console.log('JSON ERROR: MSG =>', error.statusText);
            return null;
          },
          success: function(data) {
            // filter promotion not in date range
            data = _promo.filterPromotionOutDate(data)
            _promo.ajax.process(data);
            _promo.ajax.getPromotions(data);
          }
        })
      },
      paginate: function(items, page, per_page) {
        var page = page || _promo.page,
        per_page = per_page || _promo.perPage,
        offset = (page - 1) * per_page,
        paginatedItems = items.slice(offset).slice(0, per_page),
        // total_pages = Math.ceil(items.length / per_page),
        itemsCount = 0;

        for (var i = 0; i < items.length; i++) {
          var _item = items[i],
          _itemCard = _item.credit_card,
          _itemMain = _item.main_cat.split(','),
          _itemMainCount = _itemMain.length;

          // if promo card is matched to selected promo card
          if(_promo.filter.card == _itemCard) {

            // if category of item is matched to selected category
            for (var j = 0; j < _itemMainCount; j++) {
              if(_itemMain[j] == _promo.filter.main) {
                itemsCount++;
              }
            }
          }
        }

        var total_pages = Math.ceil(itemsCount / per_page);

        return {
          page: page,
          per_page: per_page,
          pre_page: page - 1 ? page - 1 : null,
          next_page: (total_pages > page) ? page + 1 : null,
          total: items.length,
          total_pages: total_pages,
          data: paginatedItems
        };
      },
      process: function(data) {
        if(_promo.backup.length == 0) {
          _promo.backup = data;

          // make keywods for every data
          for (var i = 0; i < _promo.backup.length; i++) {
            var _item = _promo.backup[i],
            _cat = [_item.title, _item.sub_cat, _item.main_cat, _item.credit_card, _item.popup.address, _item.popup.title]; // categories to get keywords

            for (var j = 0; j < _cat.length; j++) {
              _promo.ajax.getKeywords(_item, _cat[j]);
            }
          }
        }

        _promo.ajax.navigate();
        _promo.after();
      },
      getPromotions: function(data) {

        // binding main cat
        _.forEach(data, function(value){
          var vArray = value.main_cat.split(",")
          _.forEach(vArray, function(v) {
            var realCat = v.replace(" ", "")
            if(realCat != "") {
              _promo.promotions.push({ mainCat: realCat })
            }
          })
        })

        // unique main cat
        _promo.promotions = _.uniqBy(_promo.promotions, 'mainCat')

        // binding sub cat into promotions object
        var allSubCat = []
        _.forEach(_promo.promotions, function(value){
          // set sub cat as array
          value.subCat = []
          var mainCat = value.mainCat
          var foundData = _.filter(data, function(obj){
            return obj.main_cat.indexOf(mainCat) !== -1;
          })

          _.forEach(foundData, function(fdv) {
            var subCatArray = fdv.sub_cat.split(",")
            _.forEach(subCatArray, function(v) {
              var realSubCat = v.replace(" ", "")
              if(realSubCat != "") {
                value.subCat.push(realSubCat)
                allSubCat.push(realSubCat)
              }
            })
          })

          // uniq sub cat
          value.subCat = _.uniq(value.subCat)
        })

        // uniq sub cat global
        allSubCat = _.uniq(allSubCat)

      },
      getKeywords: function(item, cat) {
        if(cat) {
          var _cat = cat.split(/[ ,]+/);

          if(!(item.keywords)) {
            item.keywords = [];
          }

          // clean the keywords
          for (var i = 0; i < _cat.length; i++) {
            // remove the special characters and lowercase the word
            var _word = _cat[i].replace(/[^a-zA-Z ]/g, '').toLowerCase();

            // if character is less than 2 and not common and duplicate words
            if( _word.length > 2 && !(jQuery.inArray(_word, ['for','any','the','with','your','way']) !== -1) && !(jQuery.inArray(_word, item.keywords) !== -1)) {
              item.keywords.push(_word);
            }
          }
        } // end if
      },
      navigate: VietinBank.debouncev2(function(page) {
        _promo.ajax.sort(); // sort data to show from _promo.backup to _promo.data

        var page = page || _promo.page;
        var processed = _promo.ajax.filtered();
        var filtered = processed.filtered;
        var normal = processed.normal;
        var travel = processed.travel;
        var loop = _promo.numberOfFeatured - filtered.length;
        _promo.page = page;

        if(travel.length != 0) {
          _promo.filter.paginate = _promo.ajax.paginate(travel, page, 1);
          _promo.html.travel(_promo.filter.paginate.data);
          _promo.html.searchbar(true);
        } else {
          if(filtered.length < _promo.numberOfFeatured) {
            for(var i = 0; i < loop; i++) {
              if(normal.length > 0) {
                filtered.push(normal.shift());
              }
            }
          }
          _promo.filter.paginate = _promo.ajax.paginate(normal, page);
          _promo.html.featured(filtered);
          _promo.html.normal(_promo.filter.paginate.data);
          _promo.html.searchbar(false);
        }
        _promo.itemCount(_promo.filter.paginate.total + filtered.length);
        _promo.html.after(travel.length != 0);
      }, 300, {
        leading: false,
        trailing: true
      }),
      filtered: function() {
        var selected_cat = _promo.filter.categories;
        var selected_main = _promo.filter.main;
        var selected_card = _promo.filter.card;
        var selected_sort = _promo.filter.sort;
        // var normal = _promo.data.filter(function(item) { return item.type !== 'featured' });
        var travel = [], filtered = [], new_normal = [];

        if(selected_main == 'travel') {
          travel = _promo.data.filter(function(item) { return item.main_cat == 'travel' });
        }
        else {
          filtered = _promo.data.filter(function(item) { 
            return item.type === 'featured' && (selected_main ? item.main_cat.indexOf(selected_main) != 1 : true) && (selected_cat.length ? _promo.compareBothArray(selected_cat, item.sub_cat.split(',')) : true) && (selected_card ? item.credit_card === selected_card : true)
          });
          if(selected_cat.length != 0) {

            _.forEach(selected_cat, function(cat){
              var filteringObject = _.filter(_promo.data, function(data){
                return data.sub_cat.indexOf(cat) !== -1 && data.type !== 'featured'
              })
              _.forEach(filteringObject, function(data){
                new_normal.push(data)
              })
            })
          } else {
            new_normal = _promo.data.filter(function(item) { return item.type !== 'featured' });
          }

          new_normal = _.uniq(new_normal)
        }

          
        
        return { filtered: filtered, normal: new_normal, travel: travel };
      },
      search: function(event) {
        if(event.type == 'click') {
          event.preventDefault();
        } 
        if( (event.type == 'keypress' && event.which == 13) || event.type == 'click') {
          var _searchName = $('input[name="promo-search"]').val();
          if(_searchName) {
            _promo.loader.on(function() {
              _promo.filter.name = _searchName;
              $('.search-keyword', '#card-listing-merchant-promotions').text(_promo.filter.name);
              $('.search-result', '#card-listing-merchant-promotions').fadeIn();
              $('.btn-close', '#card-listing-merchant-promotions .com_search-form').click();
              $('.search-for').css({display: 'inline'});
              _promo.ajax.navigate(_promo.page);
            });
          }
        }
      },
      sort: function() {
        // empty the data array
        _promo.data = [];

        // for geolocation
        if(_promo.filter.location) {
          if(VietinBank.detectLocation == true) {
            _promo.location();
          }
        }

        for (var i = 0; i < _promo.backup.length; i++) {
          var _item = _promo.backup[i],
          _itemMain = _item.main_cat.split(',');

          // if card of an item is matched to selected card
          if(_promo.filter.card == _item.credit_card) {

            // if category of an item is matched to selected category
            for (var j = 0; j < _itemMain.length; j++) {

              if(_itemMain[j] == _promo.filter.main) {

                // if search is active
                if(_promo.filter.name) {
                  // clean the search keywords
                  var _searchName = _promo.filter.name.toLowerCase().split(/[ ,]+/);

                  // for each search keywords
                  for (var k = 0; k < _searchName.length; k++) {
                    var _name = _searchName[k];

                    // for each data keywords
                    for (var l = 0; l < _item.keywords.length; l++) {
                      var _keyword = _item.keywords[l];

                      // if search keyword is matched to data keyword
                      if(_name == _keyword) {

                        // if item is not yet present to data array
                        if(!(jQuery.inArray(_item, _promo.data) !== -1)) {

                          // push the filtered data to _promo.data
                          _promo.data.push(_item);
                        }
                      }
                    }
                  }
                } else {
                  // push the filtered data to _promo.data
                  _promo.data.push(_item);
                }
              }
            }
          }
        }

        // sort the data by date
        _promo.data.sort(function(a,b) {
          var _aDate = _promo.ajax.formatDate(a.date.start),
          _bDate = _promo.ajax.formatDate(b.date.start);

          if(_promo.filter.sort == 'newest') {
            return new Date(_aDate) - new Date(_bDate);
          } else if(_promo.filter.sort == 'oldest') {
            return new Date(_bDate) - new Date(_aDate);
          }
        });
      },
      formatDate: function(date) {
        var _date = date.split('/'),
        _year = (_date[2] < 90) ? '20' + _date[2] : '19' + _date[2];

        return _year+'/'+_date[1]+'/'+_date[0];
      }
    },
    itemCount: function(number) {
      var _count = {
        number: 0,
        init: function() {
          _count.number = number;
          // for (var i = 0; i < _promo.data.length; i++) {
          //   var _item = _promo.data[i],
          //   _itemCard = _item.credit_card,
          //   _itemMain = _item.main_cat.split(','),
          //   _itemMainCount = _itemMain.length;

          //   // if promo card is matched to selected promo card
          //   if(_promo.filter.card == _itemCard) {

          //     // if category of item is matched to selected category
          //     for (var j = 0; j < _itemMainCount; j++) {
          //       if(_itemMain[j] == _promo.filter.main) {
          //         _count.number++;
          //       }
          //     }
          //   }
          // }

          $('.num-of-promotions').text(_count.number);
        }
      }
      _count.init();
    },
    html: {
      featured: function(data) {
        _promo.html.append({
          target: $('#promotions__featured'),
          data: data,
          type: 'featured'
        });
      },
      normal: function(data) {
        _promo.html.append({
          target: $('#promotions__filtered'),
          data: data,
          type: 'normal'
        });
      },
      travel: function(data) {
        _promo.html.append({
          target: $('#promotions__filtered'),
          data: data,
          type: 'travel'
        });
      },
      searchbar: function(hideorshow) {
        hideorshow = hideorshow || false;
        var menu1 = $('.ca-li-opt', _promo.target);
        var menu2 = menu1.next();
        if(hideorshow) {
          menu1.fadeOut(300, function() {
            $(this).attr('style', 'display: none !important');
          });
          menu2.fadeOut(300, function() {
            $(this).attr('style', 'display: none !important');
          });
        }
        else {
          menu1.fadeIn();
          menu2.fadeIn();
        }  
      },
      append: function(opt) {
        opt.target.html('');
        var temp = null;

        opt.data.forEach(function(item) {

          if(item) {
            // create featured item
            if(opt.type == 'featured') {
              temp = _promo.insert.featured(item);
            }

            // create normal item
            if(opt.type == 'normal') {
              temp = _promo.insert.normal(item);
            }

            // create travel item
            if(opt.type == 'travel') {
              $('#promotions__featured').html('');
              temp = _promo.insert.travel(item);
            }

            if(temp) { opt.target.append(temp); }
          }
        })
      },
      paginate: function(callback) {
        var div = _promo.container.paginate;
        var page_control = _promo.filter.paginate;
        div.fadeOut().html('');
        if(page_control.total_pages > 1) {
          div.append('<li class="arrow arrow-prev '+(page_control.page == 1 ? 'disabled' : '')+'"><a href="#" page="'+(page_control.page == 1 ? 'none': 'left')+'"><i class="fal fa-angle-left"></i></a></li>');
        }

        var range = [];
        var l;
        for (var i = 1; i <= page_control.total_pages; i++) {
            if (i == 1 || i == page_control.total_pages || i >= (page_control.page - 2) && i < (page_control.page + 2 + 1) ) {
                range.push(i);
            }
        }
        for(var i in range) {
          i = range[i];
          if(l) {
            if(i - l === 2) {
              div.append('<li class="num '+(page_control.page == (l + 1) ? 'active' : '')+'"><a href="#" page="'+(l + 1)+'">'+(l + 1)+'</a></li>');
            }
            else if(i - l !== 1) {
              div.append('<li><a page="none">...</a></li>');
            }
          }
          div.append('<li class="num '+(page_control.page == (i) ? 'active' : '')+'"><a href="#" page="'+(i)+'">'+(i)+'</a></li>');
          l = i;
        }

        if(page_control.total_pages > 1) {
          div.append('<li class="arrow arrow-next '+(page_control.page == page_control.total_pages ? 'disabled': '')+'"><a href="#" page="'+(page_control.page == page_control.total_pages ? 'none': 'right')+'"><i class="fal fa-angle-right"></i></a></li>');
        }

        if(page_control.total_pages == 1) {
          div.fadeOut();
        }
        else {
          TweenMax.to(div, 0.5, {
            opacity: 1
          })
        }

        $('a', div).on('click', function(e) {
          e.preventDefault();
          var value = $(this).attr('page');
          if(parseInt(value) !== _promo.filter.paginate.page && value !== 'none') {
            _promo.loader.on(function() {
              switch(value) {
                case 'left':
                  _promo.filter.paginate.page -= 1;
                  break;
                case 'right':
                  _promo.filter.paginate.page += 1;
                  break;
                default:
                  _promo.filter.paginate.page = parseInt(value);
              }
              VietinBank.setUrlVars('p', _promo.filter.paginate.page);
              _promo.ajax.navigate(_promo.filter.paginate.page);
            })
          }
        })
        if(typeof callback == 'function') {
          callback();
        }
      },
      height: function() {
        $('.com_card-promotions').each(function() {
          var wrapper = $(this);
          _promo.checkRowItems(wrapper);
          if(!_promo.launched) {
            $(window).resize(function() {
              _promo.checkRowItems(wrapper);
            })
            $(window).on('listings_changed', function() {
              _promo.checkRowItems(wrapper);
            });
          }
        });
      },
      after: VietinBank.debouncev2(function(paginatehide) {
        _promo.html.height();
        _promo.html.paginate(function() {
          if(typeof paginatehide == 'boolean' && !paginatehide) {
            TweenMax.to(_promo.container.paginate, 0.5, {
              display: 'block',
              opacity: 1
            })
          }
        });

        // load the popup only once
        if(_promo.popupState == 1) {
          VietinBank.popup({
            type: 'card',
            action: 'reinit',
          });

          // this will disable loading the popup AGAIN base on VietinBank.hash
          VietinBank.hash = '';
        }
        _promo.popupState = 1;

        _promo.loader.off();
      }, 0, {
        leading: false,
        trailing: true })
    },
    insert: {
      featured: function(data) {
        var div = document.createElement('div');
        div.classList = 'merchant-item ca-li-set single-card-promotion';
        $(div).html(
          '<div class="feature__column__content">'+
            '<div class="feature__column--image">'+
              '<img src="https://via.placeholder.com/700x500" alt="">'+
            '</div>'+
            '<a card-popup href="#'+data.id+'" class="master-button">'+
              '<div class="feature__column--text">'+
                '<div class="feature__column--title">'+
                  '<p><strong>'+data.title+'</strong></p>'+
                '</div>'+
                '<div class="feature__column--link">'+
                  '<h4><span class="link-arrow-right link-simple" card-popup>Lorem ipsum<i class="far fa-chevron-right"></i></span></h4>'+
                '</div>'+
              '</div>'+
            '</a>'+
          '</div>'+_promo.insert.popup(data));
        return div;
      },
      travel: function(data) {
        var div = document.createElement('div');
        div.classList = 'merchant-item merchant-item-full ca-li-set single-card-promotion';
        $(div).html('<div class="feature__column__content"><div class="feature__column--image"><img src="https://via.placeholder.com/1060x460" alt=""></div><a card-popup href="#'+data.id+'" class="master-button"><div class="feature__column--text"><div class="feature__column--title"><p><strong>travel '+data.title+'</strong></p></div><div class="feature__column--link"><h4><span class="link-arrow-right link-simple" card-popup>Lorem ipsum<i class="far fa-chevron-right"></i></span></h4></div></div></a></div>');
        return div;
      },
      normal: function(data) {
        var div = document.createElement('div');
        div.classList = 'merchant-item ca-li-set single-card-promotion';
        $(div).html('<div class="feature__column__content"><div class="feature__column--image"><img src="https://via.placeholder.com/700x500" alt=""></div><a card-popup href="#'+data.id+'" class="master-button"><div class="feature__column--text"><div class="feature__column--title"><p><strong>'+data.title+'</strong></p></div><div class="feature__column--link"><h4><span class="link-arrow-right link-simple" card-popup>Lorem ipsum<i class="far fa-chevron-right"></i></span></h4></div></div></a></div>'+_promo.insert.popup(data));
        return div;
      },
      popup: function(data) {
        var _sns = '',
        _snsEmail = '',
        _snsTwitter = '',
        _snsFb = '',
        _snsWhatsapp = '';

        if(data.popup.sns) {
          var _popupSns = data.popup.sns;
          var currentUrl = window.location.href 

          if(_popupSns.email) {
            _snsEmail = '<li><a class="cl-po-sns-icon share-email" href="mailto:?Subject='+data.link+'&amp;Body='+_popupSns.email+'"><i class="far fa-envelope-open-text"></i></a></li>';
          }

          if(_popupSns.twitter) {
            _snsTwitter = '<li><a class="cl-po-sns-icon share-twitter" href="http://twitter.com/share?text='+data.popup.title+'&url='+encodeURIComponent(currentUrl)+'" onclick="return !window.open(this.href, \'Twitter\', \'width=640,height=580\')"><i class="fab fa-twitter"></i></a></li>';
          }

          if(_popupSns.fb) {
            _snsFb = '<li><a class="cl-po-sns-icon share-facebook" href="https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(currentUrl)+'" onclick="return !window.open(this.href, \'Facebook\', \'width=640,height=580\')"><i class="fab fa-facebook-f"></i></a></li>';
          }

          if(_popupSns.whatsapp) {
            _snsWhatsapp = '<li class="share-whatsapp"><a class="cl-po-sns-icon share-whatsapp" href="https://wa.me/?text='+data.popup.title + ' ' + currentUrl+'"><i class="fab fa-viber"></i></a></li>';
          }

          _sns = '<div class="cl-po-sns d-flex flex-center justify-content-between pt2 pt-sm-0"><div><p>Share this promotion:</p></div><div class="list bp-img"><ul class="share-icons">' + _snsEmail + _snsTwitter + _snsFb + _snsWhatsapp + '</ul></div></div>';
        }

        var div = '<div style="display: none;"><div id="'+data.id+'"><div class=""><div class="module container bp-width-med3"><div class="row"><div class="col-custom-10 mx-auto"><div class="mb3"><a card-popup-close href="#"><i class="far fa-chevron-left mr-1 ml-0"></i> Back to promotion list</a></div><h3><strong>'+data.title+'</strong></h3><div class="row row-medium group-height"><div class="col-sm-5 mt2"><div class="bp-img wide gh3"><img src="'+data.image+'" alt=""></div></div><div class="col-sm-7 mt2"><div class="bp-rel gh3"><div class="cl-po-col col-top bp-rel"><h4 class="mb2">'+data.popup.title+'</h4><p class="address-pre">Address: <br><span class="address-content">'+data.popup.address+'</span></p><p class="telephone-pre">Telephone: <br><span class="telephone-content">'+data.popup.telephone+'</span></p></div><div class="cl-po-col col-bottom bp-ab"><div class="flex justify-content-between"><div><a class="button button--secondary button--link" href="'+data.popup.readmore+'">Read more</a></div>'+ _sns +'</div></div></div></div></div><hr class="mt3 mb3"><div class="in-co-par fz-16"><p><strong>Terms and Conditions</strong></p><ul class="list-dot list-mg">'+_promo.insert.term(data.popup.terms)+'</ul></div></div></div></div></div></div></div>';

        return div;
      },
      term: function(data) {
        // console.log(data)
        // var terms = '';
        // data.forEach(function(item) {
        //   terms += '<li>'+item+'</li>';
        // })
        // return terms;
        return data;
      }
    },
    before: function() {
      var run = _promo.select.getFromUrl();
      _promo.loader.on();
      if(run) {
        _promo.ajax.get();
        $('[com__form-group]').each(function() {
          var _group = $(this);
          _promo.checkCategories($('.label-checkbox input[type="checkbox"]', _group), _group);
        });
      }
    },
    after: VietinBank.debouncev2(function() {
      _promo.launched = true;
      _promo.loader.off();
    }, 100, {
      leading: false,
      trailing: true
    }),
    location: function() {
      var _location = {
        geocoder: '',
        pos: {
          lat: '',
          lng: ''
        },
        init: function() {
          _location.geocoder = new google.maps.Geocoder();

          // if (item.popup.address) {
          //   _location.address = item.popup.address.replace('<br/>', '').toLowerCase().split(/[ ,]+/);
          // }


          if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                _location.pos.lat = position.coords.latitude;
                _location.pos.lng = position.coords.longitude;
              });
              _location.update();
          }

          console.log(_location.pos);
        },
        update: function() {
          var latlng = new google.maps.LatLng(_location.pos.lat, _location.pos.lng);

          
        }
      }
      _location.init();      
    },
    init: function() {
      _promo.html.height();
      _promo.listen();
      // hide location
      $('.last-desktop-item').hide();
    },
    dateParsing: function(stringDate) {
      var dateArray = stringDate.split('/')
      if(dateArray.length == 3) {
        return new Date(parseInt(dateArray[2]) + 2000, parseInt(dateArray[1]) - 1, dateArray[0]);
      } else {
        return new Date();
      }
    },
    filterPromotionOutDate: function(data) {
      var currentDate = moment().unix()
      data = _.filter(data, function(item) {
          return _.inRange(
                  currentDate, 
                  moment(_promo.dateParsing(item.date.start)).unix(), 
                  moment(_promo.dateParsing(item.date.end)).unix()
                )
      })
      return data;
    }
  }
  try {
    _promo.init();
  }
  catch(error) {
    console.error('cardPromotion error:',error.message);
  }
},
cardsListing: function() {
  function CardsListing(elem) {
    this.elem = elem;
    this.navigator = elem.find('.navigator');
    this.filter = elem.find('.cards-filter__category');
    this.cardsListing = elem.find('.cards-listing');
    this.creditCardsListing = elem.not('.cl-debit-card').find('.cards-listing');
    this.cardsCompareButton = elem.find('.cards-compare');
    this.selectedCategory = null;
    this.selectedCardsElem = elem.find('.cards-selected');
    this.selectedCardsListing = elem.find('.cards-selected ul.cards-list');

    // var storedCardIds = localStorage.getItem('SELECTED_CARD_IDS');
    // try {
    //   this.selectedCardIds = JSON.parse(storedCardIds);
    // } catch(err) {
    //   this.selectedCardIds = [];
    // }
    // if (!this.selectedCardIds) this.selectedCardIds = [];

    // var selectedCards = localStorage.getItem('SELECTED_CARDS');
    // try {
    //   this.selectedCards = JSON.parse(selectedCards);
    // } catch(err) {
    //   this.selectedCards = {};
    // }
    // if (!this.selectedCards) this.selectedCards = {};

    this.selectedCardIds = [];
    this.selectedCards = {};
    this.loadJSON = function() {
      var self = this;
      $.ajax({
        url: 'iwov-resources/sg/VietinBank/personal/data/card-listings.json?' + new Date().valueOf(), 
        async: false,
        dataType:'json',
        error: function(error) {
          console.log('JSON ERROR: MSG =>', error.statusText);
          return null;
        },
        success: function(data) {
          data.items.forEach(function(index, item) {
            self.insertHTML(index, data.general );
          });
        }
      })
    }
    this.insertHTML = function(data, general) {
      console.log(data);
      var self = this;
      var div = '<div class="single-card fadeInUp animated animation" data-categories="'+data.categories.join(',')+'" data-card-id="'+data.id+'" data-card-thumbnail="'+data.thumbnail+'" data-card-title="'+data.title+'"><div class="single-card__wrapper"><div class="single-card__thumbnail"><!-- <img class="d-none d-md-block card-shadow" src="iwov-resources/sg/VietinBank/personal/img/bg_card-shadow.png" /> --><div class="d-inline-block"><img class="card-shadow" src="iwov-resources/sg/VietinBank/personal/img/bg_card-shadow.png" /><img src="'+data.thumbnail+'" />';
      if(data.promotion) {
        div += '<div class="promotion__container promotion__container-notification promotion__container-dark fadeInUp animated animation"><div class="d-flex"><i class="fal fa-money-bill mr-2"></i><p class="flex-fill caption text-left"><b>'+data.promotion+'</b></p></div></div>';
      }
      div += '</div></div><div class="single-card__details"><div class="same-height"><div class="card-title"><p class="mb-0"><b>'+data.title+'</b></p></div><div class="card-features"><ul>';
      data.features.forEach(function(feature, index) {
        div += '<li class="d-flex"><i class="fa fa-check"></i><span>'+feature+'</span></li>';
      });
      div += '</ul></div></div><div class="card-buttons d-flex flex-wrap align-items-center"><a id="'+data.applyId+'" class="button button--secondary button--link mt2 '+data.applyClass+'" href="'+data.applyUrl+'" '+data.applyAttribute+'><span>Apply Now</span></a><a id="'+data.learnMoreId+'" href="'+data.learnMoreUrl+'" class="link mt2  link link-arrow-right '+data.learnMoreClass+'" '+data.learnMoreAttribute+'>Learn <span class="text-nowrap">more<i class="far fa-chevron-right"></i></span></a></div><div class="card-actions d-flex align-items-center justify-content-center"><div class="action--inactive"><p class="mb-0"><i class="fa fa-plus"></i> &nbsp;'+general.compareLabel+' </p></div><div class="action--active"><p class="mb-0"><i class="fa fa-minus"></i> &nbsp;'+general.removecompareLabel+' </p></div></div></div></div></div>';
      $('.cards-listing .same-height-parent', self.elem).append($(div));
    }
    this.getMaxItems = function() {
      var mobileMaxItems = Number(this.elem.data('mobile-max-items'));
      if (isNaN(mobileMaxItems)) mobileMaxItems = 2;
      return $(window).width() > 767 ? 3 : mobileMaxItems;
    }
    this.maxItems = this.getMaxItems();

    this.onCategoryChange = function(category) {
      var self = this;
      self.selectedCategory = category;
      self.checkFilterTab();
      self.showFilteredCards();
      self.equalize();
    }

    /* -------------------------------------------------
    | FILTER
    -------------------------------------------------- */
    this.showFilteredCards = function() {
      var self = this;
      self.cardsListing.css({ minHeight: self.cardsListing.height() });
      if (self.selectedCategory === null) {
        $('.single-card', self.cardsListing).addClass('active');
      } else {
        $('.single-card', self.cardsListing).hide();
      }
      self.queue = [];
      $('.single-card', self.cardsListing).each(function() {
        var cardElem = $(this);
        var cardCategories = [];
        var categories = cardElem.data('categories');
        if (categories) {
          categories = categories.replace(' ', '');
          cardCategories = categories.split(',');
        }
        if (!self.selectedCategory || cardCategories.indexOf(self.selectedCategory) > -1) {
          // self.queue.push(new Promise(function(resolve) {
          //   cardElem.show(0, function() {
          //     resolve();
          //   });
          //   cardElem.addClass('active');
          // }));
          cardElem.show(0);
          cardElem.addClass('active');
        } else {
          // self.queue.push(new Promise(function(resolve) {
          //   cardElem.hide(0, function() {
          //     resolve();
          //   });
          //   cardElem.removeClass('active');
          // }));
          cardElem.hide(0);
          cardElem.removeClass('active');
        }
      }).promise().done(function() {
        console.log($('.single-card.active', self.creditCardsListing).length);
        if($('.single-card.active', self.creditCardsListing).length > 1 && $('.single-card.active', self.creditCardsListing).length <= 3) {
          $('.com_list-shortlist-compare .card-count').text($('.single-card.active', self.creditCardsListing).length);
          $('.com_list-shortlist-compare').fadeIn();
          $('.com_list-shortlist-compare .button').off('click').on('click', function(e) {
            e.preventDefault();
            $('.single-card.active', self.creditCardsListing).each(function() {
              if(!$('.card-actions', this).hasClass('active')) {
                if($('.card-actions-option', this).length) {
                  $('.card-actions-option', this).click();
                }
                else {
                  $('.card-actions', this).click();
                }
              }
            })
          })
        }
        else {
          $('.com_list-shortlist-compare').fadeOut();
        }
        self.cardsListing.css({ minHeight: 0 });
      });
      // setTimeout(function() {
      // }, 200);
    }

    this.checkFilterTab = function() {
      var self = this;
      var category = self.selectedCategory;
      self.filter.find('ul li').removeClass('active');
      var activeItem = category ? self.filter.find('ul li[data-category="'+category+'"]') : self.filter.find('ul li').eq(0);
      activeItem.addClass('active');
      self.filter.find('select').val(self.selectedCategory);
      self.navigator.width(activeItem.outerWidth());
      self.navigator.css({
        left: activeItem.position() && activeItem.position().left + 'px'
      });
    },


    /* -------------------------------------------------
    | EQUALIZE
    -------------------------------------------------- */
    this.equalize = function() {
      var self = this;
      setTimeout(function() {
        self.setItemRow();
        self.setItemHeight();
      }, 200);
    }
    this.setItemRow = function() {
      var self = this;
      var itemsPerRow = Math.floor(self.cardsListing.width() / self.cardsListing.find('.single-card.active').eq(0).width());
      self.totalRows = Math.ceil(self.cardsListing.find('.single-card').length/itemsPerRow);
      self.cardsListing.find('.single-card.active').each(function(elemIndex) {
        var elem = $(this);
        elem.attr('data-row', Math.floor(elemIndex/itemsPerRow).toString());
      });
    }
    this.setItemHeight = function() {
      var self = this;
      VietinBank.equalize($('.single-card__thumbnail', self.elem), false);
      for (var i=0; i<self.totalRows; i++) {
        VietinBank.equalize($('.same-height', self.elem.find('.single-card.active[data-row="'+i+'"]')), false);
      }
    }

    /* -------------------------------------------------
    | CARD SELECTION
    -------------------------------------------------- */
    this.addCard = function(cardId, cardCode) {
      var self = this;
      var cardElem = self.cardsListing.find('.single-card[data-card-id="'+cardId+'"]');
      self.selectedCardIds.push(cardId);
      var maxItems = self.getMaxItems();
      if (self.selectedCardIds.length > maxItems) {
        self.selectedCardIds.splice(0, 1);
      }
      this.selectedCards[cardId] = {
        id: cardId,
        code: cardCode,
        thumbnail: cardElem.data('card-thumbnail')
      };
      // localStorage.setItem('SELECTED_CARDS', JSON.stringify(this.selectedCards));
      self.checkSelectedCards();
    }

    this.removeCard = function(cardId) {
      var self = this;
      self.selectedCardIds.splice(self.selectedCardIds.indexOf(cardId), 1);
      this.cardsListing.find('.single-card[data-card-id="'+cardId+'"] .card-actions').removeClass('active');
      self.selectedCardsListing.find('li[data-card-id="'+cardId+'"]').remove();
      self.checkSelectedCards();
    }

    this.checkSelectedCards = function() {
      var self = this;
      var maxItems = self.getMaxItems();
      if (maxItems < self.selectedCardIds.length) {
        self.selectedCardIds = self.selectedCardIds.splice(self.selectedCardIds.length - maxItems, maxItems);
        // localStorage.setItem('SELECTED_CARD_IDS', JSON.stringify(self.selectedCardIds));
      }

      // placeholder
      self.selectedCardsElem.find('ul.placeholder-wrapper').html('');
      for (var i=0; i<maxItems; i++) {
        self.selectedCardsElem.find('ul.placeholder-wrapper').append('<li class="placeholder"></li>');
      }

      self.selectedCardsListing.find('li').remove();  
      self.cardsListing.find('.single-card .card-actions').removeClass('active');

      self.selectedCardsElem.find('ul.placeholder-wrapper li').show();
      $.each(self.selectedCardIds, function(cardIndex, cardId) {
        self.cardsListing.find('.single-card[data-card-id="'+cardId+'"] .card-actions').addClass('active');

        // Add to selected cards list
        var newCard = self.selectedCardTemplate(cardId);

        self.selectedCardsListing.append(newCard);
        self.selectedCardsListing.find('li[data-card-id="'+cardId+'"]').on('click', function() {
          self.removeCard(cardId);
        });

        self.selectedCardsElem.find('ul.placeholder-wrapper li').eq(cardIndex).hide();
      });
      this.selectedCardsElem.find('.count').html(self.selectedCardIds.length);
      if (this.selectedCardIds.length === maxItems) {
        this.selectedCardsElem.addClass('full');
      } else {
        this.selectedCardsElem.removeClass('full');
      }

      if (this.selectedCardIds.length === 1) {
        this.cardsCompareButton.addClass('disabled');
      }
      else {
        this.cardsCompareButton.removeClass('disabled');
      }

      if (this.selectedCardIds.length > 0) {
        this.selectedCardsElem.addClass('active');
      } else {
        this.selectedCardsElem.removeClass('active');
      }


    }

    this.selectedCardTemplate = function(cardId) {
      var cardDetails = this.selectedCards[cardId];
      if (!cardDetails) return null;
      var output = '<li data-card-id='+cardDetails.id+' data-card-code="'+cardDetails.code+'">';
      output += '<img src="'+cardDetails.thumbnail+'" />';
      output += '<a><i class="fal fa-times"></i></a>';
      output += '</li>';
      return output;
    }


    /* -------------------------------------------------
    | ADD EVENT LISTENERS
    -------------------------------------------------- */
    this.addEvents = function() {
      var self = this;
      self.filter.find('li').on('click', function() {
        var selectedCategory = $(this).data('category');
        self.onCategoryChange(selectedCategory);
      });

      self.filter.find('select').on('change', function() {
        var selectedCategory = $(this).val();
        self.onCategoryChange(selectedCategory);
      });

      $('.single-card .card-actions', self.cardsListing).on('click', function() {
        var cardElem =$(this).parents('.single-card');
        var cardId = cardElem.data('card-id');
        var cardCode = $(this).siblings('.card-buttons').find('.cc-apply-now').data('code');
        if (self.selectedCardIds.indexOf(cardId) > -1) {
          self.removeCard(cardId);
        } else {
          self.addCard(cardId, cardCode);
        }
        // localStorage.setItem('SELECTED_CARD_IDS', JSON.stringify(self.selectedCardIds));
      });

      $('.clear-all', self.selectedCardsElem).on('click', function(e) {
        e.preventDefault();
        self.selectedCardIds = [];
        // localStorage.setItem('SELECTED_CARD_IDS', JSON.stringify(self.selectedCardIds));
        self.checkSelectedCards();
      });

      $(this.cardsCompareButton, self.selectedCardsElem).on('click', function(e) {
        if($(this).hasClass('disabled')) {
          e.preventDefault();
        }
      })
    }

  }
  try {
    $('.com_cards-listing').each(function() {
      var cardsListing = new CardsListing($(this));
      // cardsListing.loadJSON();
      cardsListing.onCategoryChange(null);
      cardsListing.equalize();
      cardsListing.addEvents();
      cardsListing.checkSelectedCards();

      var wrapDebounce = VietinBank.debounce(function() {
        cardsListing.checkFilterTab();  
        cardsListing.equalize();
        cardsListing.checkSelectedCards();
      });
      $(window).resize(wrapDebounce);
    });
  }
  catch(error) {
    console.error('cardsListing error:',error.message);
  }


},
	cardsfeatureandservices: function() {
		var parentClass = $('.com_f_a_services');
		function fsItem() {
			try {
				if(VietinBank.width >= 992){
					VietinBank.equalize($('.lg-1-row',parentClass));
					VietinBank.equalize($('.lg-2-row',parentClass));
					VietinBank.equalize($('.lg-3-row',parentClass));
					VietinBank.equalize($('.lg-4-row',parentClass));
					VietinBank.equalize($('.lg-5-row',parentClass));
				}else if(VietinBank.width >= 768 && VietinBank.width < 992){
					VietinBank.equalize($('.md-1-row',parentClass));
					VietinBank.equalize($('.md-2-row',parentClass));
					VietinBank.equalize($('.md-3-row',parentClass));
					VietinBank.equalize($('.md-4-row',parentClass));
					VietinBank.equalize($('.md-5-row',parentClass));
				}else{
					$('.f-a-s-l-item .clearfix',parentClass).attr('style','');
				}
			}
			catch(error) {
				console.error('cardsfeatureandservices error:',error.message);
			}	
		}
		$(window).on('load',function() {
			fsItem();
		});
		$(window).resize(function() {
			fsItem();
		});
	},
	cardslistingcomparison: function() {
		var selectedItems = [],
			dropDownClass = '.com_comparison-list-option',
			dropDown = $(dropDownClass),
	    	dropDownPrevValue = null,
	    	selectedCardOrder = null,
	    	checkbox = $('.clc-checkbox'),
	    	thirdCard = $('.order-4'),
	    	_body = $('body'),
	    	_selectDefualtRunning = 0,
	    	checkbox3PrevStatus = thirdCard.find(checkbox).prop("checked");

		var _clCom = {
			selectingEventDesktop: function() {
				if( $(window).width() >= 768 ){
					dropDown.each(function() {
						$(this).select2({
							templateSelection: _clCom.selectedValueTemplate,
							templateResult: _clCom.dropdownValueTemplate
						});
						$(this).data('select2').$dropdown.addClass("select2-default-dropdown");

						$(this).on('select2:selecting', function() {
							dropDownPrevValue = $(this).val();
						});

					    $(this).on('change.select2',function(e) {
							_clCom.selectingCards($(this),'desktop');
							_clCom.slidingBtnPosition();
						});

						$(this).on('select2:opening', function(event) {
							setTimeout(function(){
								_clCom.hideOtherValueInDropdown();
							},100);
						});
					});
				}
			},
			selectingEventMobile: function() {
				if( $(window).width() <= 767 ){
					if(!_selectDefualtRunning){
						dropDown.each(function() {
							$(this).on('click', function() {
								dropDownPrevValue = $(this).val();
								_clCom.hideOtherValueInDropdown();
							});

						    $(this).on('change',function(e) {
						    	if (!$(this).data('select2')) {
									_clCom.selectingCards($(this),'mobile');
									_clCom.slidingBtnPosition();
								}
							});
						});
					}
					_selectDefualtRunning = 1;
				}
			},
			countUpdate: function(isResizing) {
				var x = 0;
				if($(window).width() < 992 && !_body.hasClass('ag-compare')){
					if(checkbox3PrevStatus == true){
						thirdCard.find(checkbox).prop("checked",false);
					}
				}else{
					if(isResizing && checkbox3PrevStatus == true){
						thirdCard.find(checkbox).prop("checked",true);
					}
				}
				for(var i = 0; i < checkbox.length; i++){
					if(checkbox.eq(i).prop("checked") == true){
						x = x + 1;
					}
				}
				
				$('.c-count').text(x);
				if(x > 1) {
					$('.c-count-s').text('s');
				}
				else {
					$('.c-count-s').text('');
				}
				if(x == 0){
					$('.c-count-s').closest('.button').addClass('b-disabled');
				}else{
					$('.c-count-s').closest('.button').removeClass('b-disabled');
				}
			},

			hideOtherValueInDropdown: function() {
				$(dropDownClass+' option').show();
				dropDown.each(function() {
					if (!$(this).data('select2')) {
						$(dropDownClass+' option[value='+$(this).val()+']').hide();
					}else{
						$('span.'+$(this).val()).closest('li').hide();
					}
				});
			},
			slidingBtnPosition: function() {
				if($('.c-c-l-w-d-nav').length && VietinBank.viewport().width <= 920){
					dropDown.each(function() {
						var parentW = $(this).closest('.clc-col');
						if(parentW.hasClass('order-2')){
							$('.cclwdn-prev span').html($('option[value='+$(this).val()+']').eq(0).html());
						}
						if(parentW.hasClass('order-4')){
							$('.cclwdn-next span').html($('option[value='+$(this).val()+']').eq(0).html());
						}
					});
					$('.cclwdn-btn').each(function() {
						var _this = $(this);
						_pull = ((_this.outerWidth() / 2) - (_this.outerHeight() / 2)) * - 1;
						if(_this.hasClass('cclwdn-prev')) {
							_this.css({left: (_pull + 11), marginTop: (_this.outerHeight() * - 1)});
						}
						if(_this.hasClass('cclwdn-next')) {
							_this.css({right: (_pull + 11), marginTop: (_this.outerHeight() * - 1)});
						}
					});
				}
			},
			slidingCompareCards: function() {
				var ccSlide = {
					ccWrapper: $('.com_comparison-list-wrapper'),	
					ccScroll: $('.c-c-l-w-details'),
					ccPrevBtn: $('.cclwdn-prev'),
					ccNextBtn: $('.cclwdn-next'),
					ccDistance: function() {
						return ($(window).width() - ccSlide.ccWrapper.outerWidth()) - ($(window).width() >= 768 ? 40:20);
					},
					prevRow: function() {
						if(!ccSlide.ccPrevBtn.hasClass('c-end')){
							ccSlide.ccPrevBtn.addClass('c-end');
							ccSlide.ccNextBtn.removeClass('c-end');
							$('.c-c-l-w-d-nav').removeClass('c-active');
							
							TweenMax.to(ccSlide.ccScroll, 0.5, {x: 0,ease: Cubic.easeOut});
							TweenMax.to(ccSlide.ccPrevBtn, 0.3, {opacity: 0, rotation: -90, x: -20, onComplete: function() {
								ccSlide.ccPrevBtn.hide();
								ccSlide.ccNextBtn.show();
							}});
							TweenMax.to(ccSlide.ccNextBtn, 0.3, {opacity: 1, rotation: -90, x: 0});
						}
					},
					nextRow: function() {
						if(!ccSlide.ccNextBtn.hasClass('c-end')){
							ccSlide.ccNextBtn.addClass('c-end');
							ccSlide.ccPrevBtn.removeClass('c-end');
							$('.c-c-l-w-d-nav').addClass('c-active');
							
						
							TweenMax.to(ccSlide.ccScroll, 0.5, {x: ccSlide.ccDistance, ease: Cubic.easeOut});
							TweenMax.to(ccSlide.ccNextBtn, 0.3, {opacity: 0, rotation: -90, x: 20, onComplete: function() {
								ccSlide.ccNextBtn.fadeOut();
								ccSlide.ccPrevBtn.show();
							}});
							TweenMax.to(ccSlide.ccPrevBtn, 0.3, {opacity: 1, rotation: -90, x: 0});
						}
					}
				}
				if(ccSlide.ccWrapper.length && VietinBank.viewport().width <= 920){
					ccSlide.ccNextBtn.on('click', function() {
						ccSlide.nextRow();
					});

					ccSlide.ccPrevBtn.on('click', function() {
						ccSlide.prevRow();
					});

					// if(agFunction.getUrlParameter('card3') && $(window).scrollTop() <=0){
					if(thirdCard.length && $(window).scrollTop() <=0){
						$('.c-c-l-w-d-nav').fadeIn();
					}
					
					Draggable.create(ccSlide.ccScroll, {
						bounds:ccSlide.ccScroll,
						edgeResistance:0.65,
						type:"x",
						throwProps:true,
	    				onDragEnd: function(e) {
	    					if(this.getDirection('start') == 'right'){
	    						ccSlide.prevRow();
	    					}else if(this.getDirection('start') == 'left'){
								ccSlide.nextRow();
	    					}
					    }
					});
				}else{
					TweenMax.to(ccSlide.ccScroll, 0.5, {x: 0,ease: Cubic.easeInOut});
					$('.c-c-l-w-d-nav').hide();
				}
			},
			selectedValueTemplate: function(dval) {
				if (!dval.id) {
				    return dval.text;
				}
				var s_text = dval.text.split('Credit Card');
				var s_class = dval.text.split(" ").join("-");
				var s_dval = $(
					'<span>' + s_text[0] + (s_text.length > 1 ? '<span class="text-nowrap">Credit Card</span>':'' ) + '</span>'
				);

				return s_dval;
			},
			dropdownValueTemplate: function(dval) {
				if (!dval.id) {
				    return dval.text;
				}
				var s_text = dval.text.split('Credit Card');
				var s_class = dval.text.split(" ").join("-");
				var s_dval = $(
					'<span class="'+dval.id+'">' + s_text[0] + (s_text.length > 1 ? '<span class="text-nowrap">Credit Card</span>':'' ) + '</span>'
				);
				return s_dval;
			},
			selectingCards: function(elem,ccdevice) {
				var selectedCard = elem.val();
				var currOrderclassList = elem.closest('.clc-col').attr('class');
				var currOrderClassArray = currOrderclassList.split(" ");
				var currOrderPosition = null;

				for(i in currOrderClassArray){
					if(currOrderClassArray[i].indexOf('order-') >= 0){
						currOrderPosition = currOrderClassArray[i];
					}
				}
				
				var selectedCardClassList = $('div[data-content='+selectedCard+']').attr('class');
				var selCardClassArray = selectedCardClassList.split(" ");
				var selectedCardOrder = null;

				for(s in selCardClassArray){
					if(selCardClassArray[s].indexOf('order-') >= 0){
						selectedCardOrder = selCardClassArray[s];
					}
				}
				selectedItems = [];
				_clCom.switchPosition(selectedCard,currOrderPosition,selectedCardOrder,dropDownPrevValue,ccdevice);
			},
			switchPosition: function(selectedCard,currOrderPosition,selectedCardOrder,dropDownPrevValue,ccdevice) {
				if(ccdevice == 'mobile'){
	    			var swParent = $('.'+selectedCardOrder).eq(0);
	    			if(swParent){
	    				$(dropDownClass,swParent).val(dropDownPrevValue);
	    			}
	    		}else{
					var swParent = $('.'+selectedCardOrder).eq(0);
					if(swParent){
						$(dropDownClass,swParent).val(dropDownPrevValue).trigger('change');
					}
	    		};
	    		
	    		$('div[data-content='+dropDownPrevValue+']').each(function() {
	    			$(this).removeClass('order-2 order-3 order-4');
	    			

	    			if(selectedCardOrder !== null){
	    				$(this).addClass(selectedCardOrder);
	    			}else{
	    				$("input[type='checkbox']",this).prop('checked',false);
	    				$(this).removeClass(selectedCardOrder);
	    			}
	    		});

	    		$('div[data-content='+selectedCard+']').each(function() {
	    			$(this).removeClass('order-2 order-3 order-4').addClass(currOrderPosition);
	    			$("input[type='checkbox']",this).prop('checked',true);
	    		});

	    		_clCom.countUpdate();	
			}
		}
		$(window).on('load',function() {
			try {
				_clCom.countUpdate();
				_clCom.slidingBtnPosition();
				checkbox.on('change', function() {
					if($(window).width() >= 992){
						checkbox3PrevStatus = thirdCard.find(checkbox).prop("checked");
					}
					_clCom.countUpdate();
				});

				_body.delegate('.b-disabled','click', function(e) {
					e.preventDefault();
				});

				_clCom.selectingEventDesktop();
				_clCom.selectingEventMobile();
				_clCom.hideOtherValueInDropdown();
			}
		    catch(error) {
		    	console.error('cardslistingcomparison load error:',error.message);
		    }	
		});
		$(document).ready(function() {
			try {
				_clCom.slidingCompareCards();
			}
			catch(error) {
		    	console.error('cardslistingcomparison ready error:',error.message);
		    }	
		});

		$(window).resize(function() {
			try {
				_clCom.countUpdate(true);
				setTimeout(function() {
					_clCom.slidingBtnPosition();
				},200);
				_clCom.selectingEventDesktop();
				_clCom.selectingEventMobile();
				_clCom.slidingCompareCards();
			}
			catch(error) {
		    	console.error('cardslistingcomparison resize error:',error.message);
		    }
		});

		$(window).scroll(function() {
			try {
				_clCom.slidingBtnPosition();
			}
			catch(error) {
		    	console.error('cardslistingcomparison scroll error:',error.message);
		    }
		});
		
	},
careerProfessionals: function() {
  var init = function(elem)  {
    var selectedCategory = null;
    var selectedTypes = [];
    var allTypes = [];
    var onlyShowAvailable = false;
    var typesFilter = elem.find('.professional-types-filter');
    var typeCheckbox = typesFilter.find('.type-checkbox');
    var allTypesCheckbox = typesFilter.find('#all-types-checkbox');
    var availableCheckbox = elem.find('.available-checkbox');
    var professionals = elem.find('.professional');
    var professionalsCount = elem.find('.professionals__count');
    professionalsCount.text(elem.find('.professional.active').length);

    // on mobile
    var currentFilterOptions = {};
    var filteringOnMobile = false;
    var btnClose = elem.find('.btn-close');
    var btnOpen = elem.find('.btn-open');
    var btnSubmit = elem.find('.btn-submit');

    var categoryFilter = elem.find('.category-filter');
    
    typeCheckbox.each(function() {
      var checkboxValue = $(this).attr('value');
      if (checkboxValue) {
        allTypes.push(checkboxValue);
      }
    });
    selectedTypes = allTypes;

    $('.professionals-list').each(function(index) {
        var _this = $(this),
        _class = 'rowGroupHeight' + index;
        _this.addClass(_class);

        VietinBank.rowGroupHeight({
            parent: '.' + _class,
            classes: ['.professional__details'],
            equalizeMargin: true
        });
    });


    doFilter = function() {
      professionals.each(function() {
        var professional = $(this);
        var type = professional.data('type');
        var category = professional.data('category');
        if (selectedTypes.indexOf(type) > -1 &&
          (!onlyShowAvailable ||
            (onlyShowAvailable && professional.hasClass('available'))
          ) &&
          (!selectedCategory ||
            (selectedCategory && category === selectedCategory)
          )
        ) {
          professional.addClass('active');
          professional.fadeIn(300);
        } else {
          professional.removeClass('active');
          professional.fadeOut(300);
        }
      });
      professionalsCount.text(elem.find('.professional.active').length);
      setTimeout(function() {
        sortProfessionals();
      }, 400);
    }
    onFilterChange = function() {
      if (filteringOnMobile && VietinBank.width<768) return;
      doFilter();
    }

    onTypeFilterUpate = function(inputCheckbox) {
      selectedTypes = [];
      var allTypeCheckboxes = typeCheckbox.each(function() {
        if ($(this).is(':checked')) {
          selectedTypes.push($(this).attr('value'));
        }
      });
      if (selectedTypes.length === allTypes.length) {
        allTypesCheckbox.prop('checked', true);
      } else {
        allTypesCheckbox.prop('checked', false);
      }
    }

    typeCheckbox.on('change', function() {
      onTypeFilterUpate($(this));
      onFilterChange();
    });
    availableCheckbox.on('change', function() {
      onlyShowAvailable = $(this).is(':checked');
      onFilterChange();
    });

    allTypesCheckbox.on('change', function(e) {
      var checkbox = $(this);
      var checked = checkbox.is(':checked');
      if (checked) {
        selectedTypes = allTypes;
        typeCheckbox.each(function() {
          $(this).prop('checked', true);
        });
      } else {
        selectedTypes = [];
        typeCheckbox.each(function() {
          $(this).prop('checked', false);
        });
      }
      onFilterChange();
    });

    setTimeout(function() {
      categoryFilter.on('change', function() {
        selectedCategory = $(this).val();
        onFilterChange();
      });
    }, 200);

    btnOpen.on('click', function() {
      elem.addClass('open');
      filteringOnMobile = true;
      VietinBank.headersticky({
        action: 'mobile-hide'
      })
      VietinBank.bodystopscroll(true, typesFilter[0]);
      // RESET CHECKBOXES
      typeCheckbox.each(function() {
        $(this).prop('checked', selectedTypes.indexOf($(this).attr('value')) > -1);
      });
      allTypesCheckbox.prop('checked', selectedTypes.length === allTypes.length);
      availableCheckbox.prop('checked', onlyShowAvailable);

      currentFilterOptions = {
        selectedTypes: selectedTypes,
        onlyShowAvailable: onlyShowAvailable,
      };
    });
    btnClose.on('click', function() {
      VietinBank.headersticky({
        action: 'mobile-open'
      })
      VietinBank.bodystopscroll(false, typesFilter[0]);
      elem.removeClass('open');
      filteringOnMobile = false;
      selectedTypes = currentFilterOptions.selectedTypes;
      onlyShowAvailable = currentFilterOptions.onlyShowAvailable;
    });
    
    btnSubmit.on('click', function() {
      elem.removeClass('open');
      if(VietinBank.width < 768) {
        VietinBank.headersticky({
          action: 'mobile-open'
        })
        VietinBank.bodystopscroll(false, typesFilter[0]);
      }
      filteringOnMobile = false;
      doFilter();
    });
  }
  try {
    $('.com_career-professionals').each(function() {
      init($(this));
    });
  }
  catch(error) {
    console.error('careerProfessionals error:',error.message);
  }
},
 chart: function() {
    /*
     * 1000 - 630 (Max 700);
     * 768 - 479
     * Draw base doughnut
	 * var baseDoughnutRadius = doughnutRadius + settings.baseOffset,
	 *     baseCutoutRadius = cutoutRadius - settings.baseOffset;
	 * $(document.createElementNS('http://www.w3.org/2000/svg', 'path'))
	 *   .attr({
	 *     "d": getHollowCirclePath(baseDoughnutRadius, baseCutoutRadius),
	 *     "fill": settings.baseColor
	 *   })
	 *   .appendTo($svg);
	 */
	 var _chart = {
	 	target: '',
	 	init: function() {
	 		$('.com__chart').each(function() {
	 			if($(this).data('type') === 'doughnut') {
	 				var _this = this;
	 				var enquire = VietinBank.enquire({
	 					update: 'always',
	 					debounce: 900,
	 					between: typeof $(_this).data('between') !== 'undefined' ? $(_this).data('between') : null,
	 					leading: false,
	 					desktop: VietinBank.debouncev2(function() {
	 						var run = true;
	 						if($(_this).is(':visible')) {
	 							_chart.remove(_this);
		 						_chart.run($(_this), {
		 							height: $(_this).data('height'),
		 							valueColor: typeof $(_this).data('desc-color') !== 'undefined' ? $(_this).data('desc-color') : '',
		 							hoverOffset: typeof $(_this).data('hover') !== 'undefined' ? $(_this).data('hover') : 5,
		 							onPathEnter: function(e,data) {
		 								$(this).addClass('hover');
		 								var order = $(this).data().order;
		 								var hoverX = $(this).attr('hover-x');
		 								var hoverY = $(this).attr('hover-y');
		 								$('g.slices path', _this).not(this).addClass('fade');
		 								$('g.labels text', _this).not("[data-order="+order+"]").addClass('fade');
		 								$('g.values text', _this).not("[data-order="+order+"]").addClass('fade');
		 								$('g.lines polyline', _this).not("[data-order="+order+"]").addClass('fade');
		 								TweenMax.to($(this), 0.3, {
		 									x: hoverX,
		 									y: hoverY
		 								})
		 							},
		 							onPathLeave: function(e,data) {
		 								$(this).removeClass('hover');
		 								var order = $(this).data().order;
		 								$('g.slices path', _this).not(this).removeClass('fade');
		 								$('g.labels text', _this).not("[data-order="+order+"]").removeClass('fade');
		 								$('g.values text', _this).not("[data-order="+order+"]").removeClass('fade');
		 								$('g.lines polyline', _this).not("[data-order="+order+"]").removeClass('fade');
		 								TweenMax.to($(this), 0.3, {
		 									x: 0,
		 									y: 0
		 								})
		 							},
		 							afterDrawed: function() {
		 								var label_pushed = false;
		 								$('g.labels text', _this).each(function(index, item) {
		 									label_pushed = _chart.wrapText($(item).html(), $(item)[0], _this);
		 								}).promise().done(function() {
		 									$('g.values text.description', _this).each(function(index, item) {
		 										_chart.wrapText($(item).html(), $(item)[0], _this, label_pushed);
		 									}).promise().done(function() {
		 										var height = Math.max($('g.base', _this)[0].getBoundingClientRect().height, $('svg', _this)[0].getBoundingClientRect().height);
		 										$(_this).height(height);
		 										$(_this).addClass('piechart_drawn');
		 										$('g.labels, g.values, g.lines', _this).each(function(index, item) {
		 											$(item).animate({
		 												'opacity': 1
		 											});
		 										})
		 									})
		 								})	
		 							}
		 						});	
	 						}
	 						else {
								$(_this).removeClass('piechart_drawn');
	 						}
	 					}, 100, {
	 						leading: false,
	 						trailing: true
	 					}),
	 					mobile: function() {
	 						_chart.remove(_this);
	 						_chart.run($(_this), {
	 							onPathEnter: function(e,data) {
	 								$(this).addClass('hover');
	 								var order = $(this).data().order;
	 								var hoverX = $(this).attr('hover-x');
	 								var hoverY = $(this).attr('hover-y');
	 								$('g.slices path', _this).not(this).addClass('fade');
	 								$('.com__chart-mobile .com__chart-col', _this).not("[data-order="+order+"]").addClass('fade');
	 								TweenMax.to($(this), 0.3, {
	 									x: hoverX,
	 									y: hoverY
	 								})
	 							},
	 							onPathLeave: function(e,data) {
	 								$(this).removeClass('hover');
	 								var order = $(this).data().order;
	 								$('g.slices path', _this).removeClass('fade');
	 								$('.com__chart-mobile .com__chart-col', _this).removeClass('fade');
	 								TweenMax.to($(this), 0.3, {
	 									x: 0,
	 									y: 0
	 								})
	 							},
	 							afterDrawed: function() {
	 								var height = Math.max($('g.base', _this)[0].getBoundingClientRect().height, $('svg', _this)[0].getBoundingClientRect().height);
	 								height += $('.com__chart-mobile', _this).outerHeight()
	 								$(_this).height(height);
									$(_this).addClass('piechart_drawn');
	 							}
	 						});
	 					}
	 				})
	 				$(window).on('tab_changed', VietinBank.debouncev2(function() {
	 					if(!$(_this).hasClass('piechart_drawn')) {
	 						enquire.update();
	 					}
	 				}, 100, {
	 					leading: false,
	 					trailing: true
	 				}));
	 			}
	 			else {
	 				_chart.run2($(this));
	 			}
	 		})
	 	},
	 	remove: function(elem) {
	 		$(elem).find('svg').fadeOut().delay(300).remove();
	 	},
	 	wrapText: function(text, element, main, pushed) {
	 		pushed = typeof pushed == 'undefined' ? false : pushed;
	 		/* split the words into array */
	 		var max_width = 300;
	 		var words = text.split(' '), line = '', y = 24, x = 0, width = 300, i = 0;
	 		var is_pushed = false;
	 		var proposed_width = ($(main).outerWidth() - $('g.slices', main)[0].getBoundingClientRect().width - 20 - 50) / 2;
	 		width = proposed_width > max_width ? max_width : proposed_width;
	 		/* Make a tspan for testing */
	 		$(element).html('');
	 		var wrapTest = $(document.createElementNS('http://www.w3.org/2000/svg', 'tspan'));
	 		wrapTest
	 		.text('busy')
	 		.attr({
	 			id: 'wraptext'
	 		})
	 		.appendTo(element);
	 		y = (parseInt($(element).css('line-height'), 10));
	 		for (var n = 0; n < words.length; n++) {
	 			var testLine = line + words[n] + ' ';
	 			var testElem = wrapTest;
	 			/*  Add line in testElement */
	 			testElem.text(testLine);
	 			/* Messure textElement */
	 			var metrics = testElem[0].getComputedTextLength();
	 			testWidth = metrics * 1;
	 			if (testWidth > width && n > 0) {
	 				var text_pushed = $(document.createElementNS('http://www.w3.org/2000/svg', 'tspan'));
	 				text_pushed.text(line).attr({x: 0, dy: pushed ? y : (i == 0 ? 0: y)}).appendTo(element);
	 				line = words[n] + ' ';
	 				i++;
	 				is_pushed = true;
	 			} else {
	 				line = testLine;
	 			}
	 		}
	 		var text_pushed = $(document.createElementNS('http://www.w3.org/2000/svg', 'tspan'));
	 		text_pushed.text(line).attr({x: 0, dy: (i == 0 ? 0: y)}).appendTo(element);
	 		wrapTest.remove();
	 		return is_pushed;
	 	},
	 	minimumValue: function(value) {
	 		if(value < 0) {
	 			return 0.5;
	 		}
	 		return value;
	 	},
	 	run: function(elem, options) {
	 		var $this = elem,
	 		W = $this.width(),
	 		H = $this.height(),
	 		centerX = W/2,
	 		centerY = H/2,
	 		cos = Math.cos,
	 		sin = Math.sin,
	 		PI = Math.PI,
	 		settings = $.extend({
	 			valueColor: '',
	 			height: 300,
	 			mobileHeight: 300,
	 			segmentShowStroke : true,
	 			segmentStrokeColor : "#0C1013",
	 			segmentStrokeWidth : 0,
	 			baseColor: "rgba(0,0,0,0.3)",
	 			baseOffset: 0,
	 			edgeOffset : VietinBank.width > 1024 ? 100 : (VietinBank.width > 767 ? (140 * 768/W) : 10),
	 			labelOffset: 50,
	 			hoverOffset: 5,
	 			percentageInnerCutout : 75,
	 			desktopRingSize: 70,
	 			mobileRingSize: 50,
	 			animation : true,
	 			animationSteps : 90,
	 			animationEasing : "easeInOutExpo",
	 			animateRotate : true,
	 			beforeDraw: function() {  },
	 			afterDrawed : function() {  },
	 			onPathEnter : function(e,data) {  },
	 			onPathLeave : function(e,data) {  }
	 		}, options),
	 		animationOptions = {
	 			linear : function (t) {
	 				return t;
	 			},
	 			easeInOutExpo: function (t) {
	 				var v = t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t;
	 				return (v>1) ? 1 : v;
	 			}
	 		},
	 		requestAnimFrame = function() {
	 			return window.requestAnimationFrame ||
	 			window.webkitRequestAnimationFrame ||
	 			window.mozRequestAnimationFrame ||
	 			window.oRequestAnimationFrame ||
	 			window.msRequestAnimationFrame ||
	 			function(callback) {
	 				window.setTimeout(callback, 1000 / 60);
	 			};
	 		}();
	 		settings.beforeDraw.call($this);
	 		elem.css('height', VietinBank.width <= 767 ? 'auto' : (elem.data('height') || settings.height));
	 		elem.css('width', '100%');
	 		W = Max([elem.width()]);
	 		H = VietinBank.width > 767 ? elem.height() : Math.min((elem.data('mobileheight') || settings.mobileHeight), W);
	 		centerX = W/2;
	 		centerY = H/2;
	 		fixedX = 1420;
	 		fixedY = settings.height*2;
	 		var adjustedH = VietinBank.width > 767 ? (VietinBank.width > 1080 ? (W > (H * 1.5) ? settings.height : (W * 0.64)) : (W * 0.8)) : H
	 		var $svg = $('<svg width="'+(W)+'" height="'+adjustedH+'" viewBox="0 0 '+(Max([W]))+' '+(adjustedH*1.162)+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo($this),
	 		$paths = [],
	 		$texts = [],
	 		$values = [],
	 		$lines = [],
	 		easingFunction = animationOptions[settings.animationEasing],
	 		doughnutRadius = Min([H / 2,W / 2]) - settings.edgeOffset,
	        // cutoutRadius = doughnutRadius * (settings.percentageInnerCutout / 100),
	        cutoutRadius = VietinBank.width > 767 ? doughnutRadius - settings.desktopRingSize : doughnutRadius - settings.mobileRingSize,
	        segmentTotal = 0;

	        var $baseGroup = $(document.createElementNS('http://www.w3.org/2000/svg', 'g'));
	        $baseGroup.addClass('base')
	        $baseGroup.attr('transform', 'translate('+(Max([W])/2)+','+(adjustedH*1.162/2)+')');
	        $baseGroup.appendTo($svg);

	        var $pathGroup = $(document.createElementNS('http://www.w3.org/2000/svg', 'g'));
	        $pathGroup.addClass('slices')
	        $pathGroup.attr({opacity: 0}).appendTo($baseGroup);

	        var $labelGroup = $(document.createElementNS('http://www.w3.org/2000/svg', 'g'));
	        $labelGroup.addClass('labels')
	        $labelGroup.attr({opacity: 0}).appendTo($baseGroup);
	        var $valueGroup = $(document.createElementNS('http://www.w3.org/2000/svg', 'g'));
	        $valueGroup.addClass('values')
	        $valueGroup.attr({opacity: 0}).appendTo($baseGroup);

	        var $lineGroup = $(document.createElementNS('http://www.w3.org/2000/svg', 'g'));
	        $lineGroup.addClass('lines')
	        $lineGroup.attr({opacity: 0}).appendTo($baseGroup);

	        var data = [] 
	        var datas = $(elem).data();
	        for(var i = parseInt(datas['total']); i > 0; i--) {
	        	data.push({ 
	        		title: datas['title'+i], 
	        		description: (datas.hasOwnProperty('desc'+1)) ? datas['desc'+i] : null,
	        		value: parseFloat(datas['value'+i]), 
	        		color: datas['color'+i] 
	        	});
	        };

	        for (var i = 0, len = data.length; i < len; i++) {
	        	segmentTotal += _chart.minimumValue(data[i].value);
	        	$paths[i] = $(document.createElementNS('http://www.w3.org/2000/svg', 'path'))
	        	.attr({
	        		"stroke-width": settings.segmentStrokeWidth,
	        		"stroke": settings.segmentStrokeColor,
	        		"fill": data[i].color,
	        		"data-order": i,
	        		"class": 'counter-'+i
	        	})
	        	.appendTo($pathGroup)
	        	.on("mouseenter", pathMouseEnter)
	        	.on("mouseleave", pathMouseLeave)
	        	.on("mousemove", pathMouseMove);
	        	$texts[i] = $(document.createElementNS('http://www.w3.org/2000/svg', 'text'))
	        	.html(data[i].title)
	        	.attr({ 
	        		'fill': data[i].color,
	        		"data-order": i
	        	})
	        	.appendTo($labelGroup);
	        	$values[i] = $(document.createElementNS('http://www.w3.org/2000/svg', 'text'))
	        	.html(data[i].description !== null ? data[i].description : data[i].value+'%')
	        	.addClass(data[i].description !== null ? 'description' : 'value')
	        	.attr({
	        		'fill': settings.valueColor.length > 0 ? settings.valueColor : data[i].color,
	        		"data-order": i
	        	})
	        	.appendTo($valueGroup);
	        	$lines[i] = $(document.createElementNS('http://www.w3.org/2000/svg', 'polyline'))
	        	.attr({
	        		'stroke': data[i].color,
	        		"data-order": i
	        	})
	        	.appendTo($lineGroup);

	        	$('.com__chart-col', elem).eq( (len-1) - i).css('color', data[i].color).attr({ "data-order": i });
	        }

	        animationLoop(drawPieSegments);

	        function pathMouseEnter(e) {
	        	var order = $(this).data().order;
	        	settings.onPathEnter.apply($(this),[e,data]);
	        }
	        function pathMouseLeave(e) {
	        	settings.onPathLeave.apply($(this),[e,data]);
	        }
	        function pathMouseMove(e) {
	        }
	        function drawPieSegments (animationDecimal) {
	        	var startRadius = -PI / 2,
	        	rotateAnimation = 1;
	        	if (settings.animation && settings.animateRotate) rotateAnimation = animationDecimal;

	        	$pathGroup.attr("opacity", animationDecimal);
	        	$labelGroup.attr("opacity", animationDecimal);
	        	$valueGroup.attr("opacity", animationDecimal);
	        	$lineGroup.attr("opacity", animationDecimal);

	        	var position2 = [];
	        	var positionPi = [];
	        	var check = 1;

	        	for (var i = 0, len = data.length; i < len; i++) {
	        		var segmentValue = _chart.minimumValue(data[i].value);
	        		var segmentAngle = rotateAnimation * (( segmentValue / segmentTotal) * (PI * 2)),
	        		endRadius = startRadius + segmentAngle,
	        		largeArc = ((endRadius - startRadius) % (PI * 2)) > PI ? 1 : 0,
	        		passPi = (startRadius + segmentAngle/2 > (PI/2)) ? 1 : 0,
	        		startX = cos(startRadius) * doughnutRadius, 
	        		startY = sin(startRadius) * doughnutRadius,
	        		endX2 = cos(startRadius) * cutoutRadius,
	        		endY2 = sin(startRadius) * cutoutRadius,
	        		endX = cos(endRadius) * doughnutRadius,
	        		endY = sin(endRadius) * doughnutRadius,
	        		startX2 = cos(endRadius) * cutoutRadius,
	        		startY2 = sin(endRadius) * cutoutRadius,
	        		betweenRadius = endRadius - startRadius;
	        		var cmd = [
	        		'M', startX, startY,
	        		'A', doughnutRadius, doughnutRadius, 0, largeArc, 1, endX, endY,
	        		'L', startX2, startY2,
	        		'A', cutoutRadius, cutoutRadius, 0, largeArc, 0, endX2, endY2,
	        		'Z'
	        		];
	        		$paths[i].attr("d", cmd.join(' '));
	        		$paths[i].attr('hover-x', cos(betweenRadius/2 + startRadius) * (doughnutRadius + settings.hoverOffset) - cos(betweenRadius/2 + startRadius) * doughnutRadius);
	        		$paths[i].attr('hover-y', sin(betweenRadius/2 + startRadius) * (doughnutRadius + settings.hoverOffset) - sin(betweenRadius/2 + startRadius) * doughnutRadius);
	        		var arc = [], outer = [], position = [], position3 = [], move;
	        		position2[i] = [];
	        		positionPi[i] = passPi;
	        		arc[0] = cos(betweenRadius/2 + startRadius) * doughnutRadius;
	        		arc[1] = sin(betweenRadius/2 + startRadius) * doughnutRadius;
	        		outer[0] = cos(betweenRadius/2 + startRadius) * (doughnutRadius + settings.labelOffset / 2);
	        		outer[1] = sin(betweenRadius/2 + startRadius) * (doughnutRadius + settings.labelOffset / 2);

	        		position[0] = ((doughnutRadius + settings.labelOffset) * (passPi ? -1 : 1));
	        		position[1] = sin(betweenRadius/2 + startRadius) * (doughnutRadius + settings.labelOffset / 2);
	        		position2[i][0] = position[0];
	        		position2[i][1] = position[1];
	        		var overlap = false;
	        		if(i > 0 && (positionPi[i] == positionPi[i-1]) && ( (position2[i][1] < 0 && position2[i-1][1] < 0) || (position2[i][1] > 0 && position2[i-1][1] > 0) )) {
	        			if(position2[i][1] < 0 && position2[i-1][1] < 0) {
	        				var pos0 = position2[i][1] * -1;
	        				var pos1 = position2[i-1][1] * -1;
	        			}
	        			else {
	        				var pos0 = position2[i][1];
	        				var pos1 = position2[i-1][1];
	        			}
	        			if((pos0 - pos1) < ((parseInt($texts[i].css('line-height')) + parseInt($values[i].css('line-height')) + 10) * check) ) {
	        				overlap = true;
	        				move = (passPi ? -5 : 5) * check;
	        				outer[1] = outer[1] + move;
	        				position[1] = position[1] + move;
	        				position2[i][1] = position2[i][1] + move;
	        				position2[i][1] = position2[i][1] + ((parseInt($texts[i].css('line-height')) + parseInt($values[i].css('line-height')) + 10) * check);
	        				check++;
	        			}
	        		}
	        		$texts[i].attr('transform', 'translate('+position2[i][0]+','+(position2[i][1]-(parseInt($texts[i].css('line-height'), 10)/3))+')');
	        		$texts[i].attr('text-anchor', passPi ? 'end' : 'start');
	        		$values[i].attr('transform', 'translate('+position2[i][0]+','+(position2[i][1]+(parseInt($values[i].css('line-height'), 10)/1.5))+')');
	        		$values[i].attr('text-anchor', passPi ? 'end' : 'start');
	        		position[0] = ((doughnutRadius + settings.labelOffset - 20) * (passPi ? -1 : 1));
	        		position2[i][0] = ((doughnutRadius + settings.labelOffset - 20) * (passPi ? -1 : 1));
	        		if(overlap) {
	        			position[0] = position[0] - ((passPi ? -10 : 10) * i);
	        			// position2[i][0] = position2[i][0] - (10 * i);
	        		}
	        		position3[0] = position2[i][0] + (passPi ? -10 : 10);
	        		position3[1] = position2[i][1];
	        		$lines[i].attr('points', [arc, outer, position, position2[i], position3])
	        		startRadius += segmentAngle;
	        	}
	        }
	        function animateFrame(cnt, drawData) {
	        	var easeAdjustedAnimationPercent =(settings.animation)? CapValue(easingFunction(cnt), null, 0) : 1;
	        	drawData(easeAdjustedAnimationPercent);
	        }
	        function animationLoop(drawData) {
	        	var animFrameAmount = (settings.animation)? 1 / CapValue(settings.animationSteps, Number.MAX_VALUE, 1) : 1,
	        	cnt =(settings.animation)? 0 : 1;
	        	requestAnimFrame(function() {
	        		cnt += animFrameAmount;
	        		animateFrame(cnt, drawData);
	        		if (cnt <= 1) {
	        			requestAnimFrame(arguments.callee);
	        		} else {
	        			settings.afterDrawed.call($this);
	        		}
	        	});
	        }
	        function Max(arr) {
	        	return Math.max.apply(null, arr);
	        }
	        function Min(arr) {
	        	return Math.min.apply(null, arr);
	        }
	        function isNumber(n) {
	        	return !isNaN(parseFloat(n)) && isFinite(n);
	        }
	        function CapValue(valueToCap, maxValue, minValue) {
	        	if (isNumber(maxValue) && valueToCap > maxValue) return maxValue;
	        	if (isNumber(minValue) && valueToCap < minValue) return minValue;
	        	return valueToCap;
	        }
	    },
	    run2: function(elem) {
	    	var data = $(elem).data();
	    	if($('#com__chart-canvas', elem).length == 0) {
	    		$('<canvas>').attr({ id: 'com__chart-canvas'}).css({ width: '100%', height: data.height }).appendTo($(elem));
	    	}
	    	var ctx = $('#com__chart-canvas', elem)[0].getContext('2d');
	    	var labels = [];
	    	var datas = [];
	    	var colors = [];
	    	for(var i = parseInt(data['total']); i > 0; i--) {
	    		labels.push(data['title'+i]);
	    		datas.push(data['value'+i]);
	    		colors.push(data['color'+i]);
	    	}
	    	var chart = new Chart(ctx, {
	    		type: data['type'],
	    		data: {
	    			labels: labels,
	    			datasets: [{
	    				data: datas,
	    				backgroundColor: colors
	    			}]
	    		},
	    		options: {
	    			plugins: {
	    			},
	    			elements: {
	    				arc: {
	    					borderWidth: 0
	    				}
	    			},
	    			legend: {
	    				display: false
	    			},
	    			scales: {
	    				gridLines: [{
 							// drawBorder: true
 						}]
 					}
 				}
 			})
	    }
	}
	try {
		_chart.init();
	}
	catch(error) {
		console.error('chart error:',error.message);
	}
},
	checkbox: function() {
		var _box = {
			init: function() {
				$('[com__form-group]').each(function() {
					var _group = $(this);

					$('.label-checkbox input[type="checkbox"]', _group).click(function() {
						var _this = $(this),
						_val = $(this).attr('value');

						if(_val.toLowerCase() == 'all') {
							if(_this.prop('checked') == false) {
								$('.label-checkbox input[type="checkbox"]', _group).prop('checked', false);
							} else {
								$('.label-checkbox input[type="checkbox"]', _group).prop('checked', true);
							}
						}
						var uncheckedItems = $('.label-checkbox input:checkbox:not(:checked):not([value="all"])', _group);
						$('.label-checkbox input:checkbox[value="all"]', _group).prop('checked', !(uncheckedItems && uncheckedItems.length));
					});

				});
			}
		}
		try {
			_box.init();			
		}
		catch(error) {
			console.error('checkbox error:', error.message);
		}
	},
colTableWithHeaderBar: function() {
	var parentClassName = '.com__investment_4coltable',
		parentClass = $(parentClassName),
		fixHeaderClass = $('.pct-table2-header-fix'),
		x = 0,
		nextNavOffset = $('.graph-carousel-nav').offset(),
		_ctwhb = {
			showHideHeader: function() {
				var cttable = $('.pl-co-table.table2'),
					tableOffsetTop = cttable.offset().top,
					windowScrollTop = $(window).scrollTop(),
					windowWidth = VietinBank.viewport().width,
					halfwindowHeight = VietinBank.viewport().height / 2,
					newPosition = windowScrollTop - tableOffsetTop,
					menuHeight = $('header').height(),
					navElem = $('.graph-carousel-nav');

				if($('.twhw-half-offset').length <= 0){
					$('.t-w-h-wrapper').append('<div class="twhw-half-offset"></div>');
				}
				var wpOffsetTop = $('.twhw-half-offset').offset().top;
				var wpHeight = $('.twhw-half-offset').height();
				var wpHeightHalf = wpHeight / 2;
				var scrollTopHalfwindowHeight = windowScrollTop + halfwindowHeight;
				var offsetHeight = wpOffsetTop + wpHeight;
				var hideNavOn = wpOffsetTop + wpHeight;
				
				if(windowWidth <= 767){
					var ddwidth = $('.pl-co-table.table2',parentClassName).width();
					var ddleft = $('.pl-co-table.table1',parentClassName).width() + 10;
					$('.pct-table2-header-fix').css({
						'padding-left':ddleft
					});
					$('.pct-table2-header-fix .table__comparison-table').css({
						'width':ddwidth
					});
				}
				
				if(windowScrollTop >= tableOffsetTop && windowWidth <= 767){
					fixHeaderClass.show();
					$('.pct-thf-cover').show();
					if($('body').hasClass('menu-shown')){
						fixHeaderClass.css('top',menuHeight);
					}else{	
						fixHeaderClass.css('top',0);
					}
				}else{
					fixHeaderClass.hide();
				}

				if(windowScrollTop >= tableOffsetTop + (cttable.height() - 90)){
					fixHeaderClass.hide();
				}

				if(scrollTopHalfwindowHeight >= offsetHeight){
					navElem.addClass('g-fix-nav').css('top', halfwindowHeight);
				}else{
					navElem.removeClass('g-fix-nav').css('top', '');
				}

				if(hideNavOn <= windowScrollTop){
					navElem.fadeOut();
				}else{
					navElem.fadeIn();
				}
			}
		}
	if(parentClass.length){
		$(window).on('load resize scroll', function(e) {
			try {
				_ctwhb.showHideHeader();
			}
			catch(error) {
				console.error('colTableWithHeaderBar error:',error.message);
			}
		});
	}
},
compare: function() {
  var calculateSameHeight = function() {
    $('.same-height-parent').each(function() {
      var parentElem = $(this);
      var breakpoint = Number(parentElem.data('breakpoint'));
      if (isNaN(breakpoint)) breakpoint = 767;
      var childrenElem = parentElem.find('.same-height-single');
      childrenElem.css('height', '');
      var maxHeight = 0;
      childrenElem.each(function(elemInput, childElem) {
        var childElemHeight = $(childElem).outerHeight(true);
        if (childElemHeight > maxHeight) {
          var attrs = VietinBank.getAttributes($(childElem));
          var extraPadding = attrs['data-extra-padding'];
          if(extraPadding) {
            maxHeight = childElemHeight + parseInt(extraPadding);
          }
          else {
            maxHeight = childElemHeight;            
          }
        }
      });
      if (window.innerWidth > breakpoint) {
        childrenElem.height(maxHeight);
      }
    });
  }
  $(window).on('tab_changed resize load', VietinBank.debounce(function(e) {
    try {
      calculateSameHeight();
    }
    catch(error) {
      console.error('calculateSameHeight error:',error.message);
    }
  }, 200));
},
	cookie: function() {
		var _cookie = {
			target: $('.common__cookie'),
			height: $(document).height(),
			wHeight: $(window).height(),
			iPosition: $(window).scrollTop() + $(window).height(),
			init: function() {
				if(document.cookie.indexOf('acceptance') == -1) {
					_cookie.target.show();
					$('.fancybox-button[data-fancybox-close]', _cookie.target).on('click', function() {
						_cookie.hide();
					})
					document.addEventListener('scroll', _cookie.scroll, false);
					window.addEventListener('resize', _cookie.resize, false);
				}
			},
			resize: function() {
				_cookie.height = $(document).height();
				_cookie.wHeight = $(window).height();
			},
			scroll: VietinBank.debouncev2(function(e) {
				var st = $(window).scrollTop() + $(window).height();
				if( (st - _cookie.iPosition)  >= _cookie.wHeight * 2) {
					_cookie.hide();
				}
			}, 50, {
				leading: true,
				trailing: true
			}),
			hide: function() {
				document.cookie = 'acceptance=true';
				_cookie.target.removeClass('fadeInUp').addClass('fadeOutDown').delay(1000).queue(function() {
					$(this).hide().dequeue();
				})
				document.removeEventListener('scroll', _cookie.scroll, false);
				window.removeEventListener('resize', _cookie.resize, false);
			}
		}
		try {
			_cookie.init();
		}
		catch(error) {
			console.error('cookie error:',error.message);
		}
	},
	feedback: function(opt) {
		var _feedback = {
			target: '',
			intro: '',
			form: '',
			error: '',
			end: '',
			btnSubmit: '',
			hiddenInput: '',
			comment: '',
			yesno: '',
			timestamp: '',
			feedbackId: '',
			init: function() {
				_feedback.target = document.querySelector(opt.target);
				_feedback.intro = _feedback.target.querySelector('.com_feedback-intro');
				_feedback.form = _feedback.target.querySelector('.com_feedback-form');
				_feedback.error = _feedback.target.querySelector('.com_feedback-error');
				_feedback.comment = _feedback.target.querySelector('textarea');
				_feedback.end = _feedback.target.querySelector('.com_feedback-end');
				_feedback.btnSubmit = _feedback.target.querySelector('[feedback-btn="submit"]');
				_feedback.hiddenInput = _feedback.target.querySelector('input#componentURI');
				$('[feedback-btn]').click(function(e) {
					e.preventDefault();
					var _val = $(this).attr('feedback-btn');

					if(_val == 'no') {
						_feedback.step2(_val);
					} else if(_val == 'yes') {
						_feedback.step2(_val);
					} else if(_val == 'submit') {
						_feedback.validate();
					}
				});

				if (_feedback.comment.addEventListener) {
					_feedback.comment.addEventListener('input', function() {
						_feedback.commentChange();
					}, false);
				} else if (_feedback.comment.attachEvent) {
					_feedback.comment.attachEvent('onpropertychange', function() {
						_feedback.commentChange();
					});
				}
				_feedback.commentChange();
			},
			positive: function() {
				$('.com_feedback-negative', _feedback.target).hide();
			},
			negative: function() {
				$('.com_feedback-positive', _feedback.target).hide();
			},
			validate: function() {
				var _val = _feedback.comment.value.trim();
				if(/[A-Za-z0-9@!$&-\\/()',.]/g.test(_val)) {
					$('.com_feedback-validation', _feedback.target).hide();
					_feedback.step3();
				}
				else {
					$('.com_feedback-validation', _feedback.target).show();
				}
			},
			commentChange: function() {
				var _val = _feedback.comment.value.trim();

				if(_val.length < 3) {
					_feedback.btnSubmit.classList.add('disabled');
				} else {
					_feedback.btnSubmit.classList.remove('disabled');
				}
			},
			step2: function(val) {
				_feedback.yesno = val;
				_feedback.timestamp = Date.now();
				_feedback.submit({
					success: function(response) {
						var resp = response.data.Result.Result.response;
						$status = resp['submit-status']; //success", "invalid request" or "failed
						$feedbackId = resp['feedbackId'];
						switch($status) {
							case 'success':
								if($feedbackId.length > 0) {
									_feedback.feedbackId = $feedbackId;
								}
								if(val == 'no') {
									_feedback.negative();
								} else if(val == 'yes') {
									_feedback.positive();
								}
								TweenMax.to(_feedback.intro, 0.5, {opacity: 0, onComplete: function() {
									$(_feedback.intro).hide();
									$(_feedback.form).css('opacity','').show();
									TweenMax.fromTo(_feedback.form, 0.5, {opacity: 0, y: 20}, {opacity: 1, y: 0});
								}});
								break;
							case 'invalid request':
							case 'failed':
							default:
								TweenMax.to(_feedback.intro, 0.5, {opacity: 0, onComplete: function() {
									$(_feedback.intro).hide();
									$(_feedback.error).css('opacity','').show();
									TweenMax.fromTo(_feedback.form, 0.5, {opacity: 0, y: 20}, {opacity: 1, y: 0});
								}});
								setTimeout(function() {
									TweenMax.to(_feedback.error, 0.5, {opacity: 0, onComplete: function() {
										$(_feedback.error).hide();
										$(_feedback.intro).css('opacity','').show();
										TweenMax.fromTo(_feedback.form, 0.5, {opacity: 0, y: 20}, {opacity: 1, y: 0});
									}});
								}, 5000);
						}
					}
				})	
			},
			step3: function() {
				_feedback.submit({
					complete: function(response) {
						TweenMax.to(_feedback.form, 0.5, {opacity: 0, onComplete: function() {
							$(_feedback.form).hide();
							$(_feedback.end).show();
							TweenMax.fromTo(_feedback.end, 0.5, {opacity: 0, y: 20}, {opacity: 1, y: 0});
						}});
					}
				})
			},
			submit: function(callback) {
				$.ajax({
					url: _feedback.hiddenInput.value,
					method: 'POST',
					dataType: 'json',
					data: {
						feedbackId: _feedback.feedbackId,
						rating: _feedback.yesno,
						trackingParam: (typeof s != 'undefined') ? s.pageName : '',
						comment: _feedback.comment.value.trim(),
						pageTitle: document.title,
						componentURI: _feedback.hiddenInput.value
					},
					success: function(response) {
						if(callback.hasOwnProperty('success') && typeof callback.success == 'function') {
							callback.success(response);
						}
					},
					error: function(error) {
						console.error('feedback submit error:',error.message);
					},
					complete: function(response, status) {
						if(callback.hasOwnProperty('complete') && typeof callback.complete == 'function') {
							callback.complete(response, status);
						}
					}
				})
			}
		}
		try {
			_feedback.init();
		}
		catch(error) {
			console.error('feedback error:',error.message);
		}
	},
comField: function() {
	var parentClassName = '.com_field',
		parentClass = $(parentClassName);
	
	if(parentClass.length){
        try {
            $('input.form-control',parentClass).not('.no-control').on( "keyup", function(){
                if($(this).val().length){
                    $(this).parent('.material-form-control').removeClass('is-empty');
                }else{
                    $(this).parent('.material-form-control').addClass('is-empty');
                }
            });

            $('input[type="number"], .number-only',parentClass).on("keydown", function(event) {
                return isNumberKey(event, this);
            });

            $('.big-checkbox input[type="checkbox"]').on('click', function() {
                var parentEl = $(this).closest('.big-checkbox');
                if(!parentEl.hasClass('checked')) {
                    parentEl.addClass('checked');
                }else{
                    parentEl.removeClass('checked');
                }
            });

            $('input[type="radio"]').on('click', function() {
                var parentEl = $(this).closest('.label-radio');
                var $radio = $(this);
                var parentSelectOne = $(this).closest('.radio-select-one-only');

                // if(parentSelectOne.length) {
                    $('input[type="radio"]',parentSelectOne).data('waschecked', false);
                    $('.label-radio',parentSelectOne).removeClass('checked');
                // }
                
                // if this was previously checked
                if ($radio.data('waschecked') == true) {
                    // console.log('uncheck');
                    $radio.prop('checked', false);
                    $radio.data('waschecked', false);
                    parentEl.removeClass('checked');
                } else {
                    // console.log('checked');
                    $radio.data('waschecked', true);
                    parentEl.addClass('checked');
                }
            });
        }
        catch(error) {
            console.error('comField error:',error.message);
        }
	}

	var isNumberKey = function (evt, element) {
        var charCode = (evt.which) ? evt.which : event.keyCode

        if ((charCode >= 48 && charCode <= 57) || (charCode >= 96 && charCode <= 105) || (charCode == 8 || charCode == 46 || charCode == 37 || charCode == 39 || charCode == 9 || charCode == 32 || charCode == 190 )) { 
            // 0-9 only and space and point
            var len = $(element).val().length;
            var index = $(element).val().indexOf('.');

            if (index > 0 && charCode == 46) {
                return false;
            }

            if (index > 0) {
                var CharAfterdot = (len + 1) - index;

                if (CharAfterdot > 3) {
                    return false;
                }
            }
        } else {
            return false;
        }

        return true;
    }
},
file: function(opt) {
    var _file = {
        file: undefined,
        init: function() {
            $(opt.target).on('change', function() {
                _file.file = $(this);
                var val = _file.file.val();
                var $parent = _file.file.parent();
                if (val) {
                    var fileName = val.match(/[^\\/]*$/)[0];;
                    $parent.find('.com__general__form-file-name-wrapper').addClass('active');
                    $parent.find('.com__general__form-file-name').html(fileName);
                    $parent.find('.com__general__form-file-button').addClass('hidden')
                } else {
                    $parent.find('.com__general__form-file-name-wrapper').removeClass('active');
                    $parent.find('.com__general__form-file-button').removeClass('hidden')
                }
            });

            $(opt.target).parent().find('.com__general__form-file-close').on('click', function() {
                _file.file && 
                _file.file.val(null) && 
                _file.file.parent().find('.com__general__form-file-name-wrapper').removeClass('active') &&
                _file.file.parent().find('.com__general__form-file-button').removeClass('hidden')
            })
        }
    };

    _file.init();


    /////
    var domain = [
    {
        "Description": "PERMANENT RESIDENCE",
        "Code": "PR",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "DEPENDANT PASS",
        "Code": "DP",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "LONG TERM VISIT PASS",
        "Code": "LP",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "EMPLOYMENT PASS/WORK PERMIT",
        "Code": "EP",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "NO VALID PASS",
        "Code": "NP",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "STUDENT PASS",
        "Code": "SP",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "CITIZEN ",
        "Code": "CZ",
        "ApplicationConfigTypeCode": "RS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "CHOSEN CUSTOMER",
        "Code": "1",
        "ApplicationConfigTypeCode": "VIP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "VVIP",
        "Code": "VVIP",
        "ApplicationConfigTypeCode": "VIP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "VIP",
        "Code": "VIP",
        "ApplicationConfigTypeCode": "VIP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "NOT CHOSEN CUSTOMER",
        "Code": "0",
        "ApplicationConfigTypeCode": "VIP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "SUBSCRIBED TO INB E-STATEMENT ",
        "Code": "YEES",
        "ApplicationConfigTypeCode": "EES",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "OPT-OUT OF E-STATEMENTS",
        "Code": "NEES",
        "ApplicationConfigTypeCode": "EES"
    },
    {
        "Description": "MORTGAGED",
        "Code": "MORTGAGED",
        "ApplicationConfigTypeCode": "RESS",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "OTHERS",
        "Code": "OTHRS",
        "ApplicationConfigTypeCode": "RESS"
    },
    {
        "Description": "OWNED",
        "Code": "OWNED",
        "ApplicationConfigTypeCode": "RESS"
    },
    {
        "Description": "PARENTS",
        "Code": "PARENT",
        "ApplicationConfigTypeCode": "RESS"
    },
    {
        "Description": "RENTED",
        "Code": "RENT",
        "ApplicationConfigTypeCode": "RESS"
    },
    {
        "Description": "3-ROOMS",
        "Code": "3ROOM",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB~NLR"
            }
        ]
    },
    {
        "Description": "4-ROOMS",
        "Code": "4ROOM",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB~NLR"
            }
        ]
    },
    {
        "Description": "5-ROOMS",
        "Code": "5ROOM",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB~NLR"
            }
        ]
    },
    {
        "Description": "BUNGALOW",
        "Code": "BGL",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~LR"
            },
            {
                "ParentCode": "PHL~LR"
            }
        ]
    },
    {
        "Description": "EXECUTIVE APARTMENT",
        "Code": "EA",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB~NLR"
            }
        ]
    },
    {
        "Description": "EXECUTIVE CONDOMINIUM",
        "Code": "EC",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "EXECUTIVE MAISONETTE",
        "Code": "EM",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB~NLR"
            }
        ]
    },
    {
        "Description": "JUMBO FLAT",
        "Code": "JF",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB~NLR"
            }
        ]
    },
    {
        "Description": "NON-PRIVATIZED HUDC",
        "Code": "NPHUDC",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "PENTHOUSE",
        "Code": "PH",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~NLR"
            },
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "PRIVATIZED HUDC",
        "Code": "PHUDC",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "SEMI-DETACHED",
        "Code": "SD",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~LR"
            },
            {
                "ParentCode": "PHL~LR"
            }
        ]
    },
    {
        "Description": "TOWN HOUSE",
        "Code": "TH",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~NLR"
            },
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "WALK UP APARTMENT",
        "Code": "WUA",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~NLR"
            },
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "APARTMENT/CONDOMINIUM",
        "Code": "APTCD",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~NLR"
            },
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "CORNER TERRACE",
        "Code": "COT",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~LR"
            },
            {
                "ParentCode": "PHL~LR"
            }
        ]
    },
    {
        "Description": "CLUSTER HOUSING",
        "Code": "CH",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~NLR"
            },
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "INTERMEDIATE TERRACE",
        "Code": "IT",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~LR"
            },
            {
                "ParentCode": "PHL~LR"
            }
        ]
    },
    {
        "Description": "EXECUTIVE CONDOMINIUM PENTHOUSE",
        "Code": "ECPH",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "VACANT LAND",
        "Code": "VL",
        "ApplicationConfigTypeCode": "PT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL~LAND"
            },
            {
                "ParentCode": "PHL~LAND"
            }
        ]
    },
    {
        "Description": "COMMISSION EARNER",
        "Code": "COMMEARN",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "EMPLOYED - CONTRACT",
        "Code": "EMPCONT",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "EMPLOYED (OVERSEAS)",
        "Code": "EMPOV",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "FREELANCE",
        "Code": "FREEL",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "RETIRED",
        "Code": "RETIRED",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "SELF EMPLOYED ",
        "Code": "SEMP",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "SELF EMPLOYED (OVERSEAS)",
        "Code": "SEMPOV",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "UNEMPLOYED",
        "Code": "UEMP",
        "ApplicationConfigTypeCode": "EMPT"
    },
    {
        "Description": "EMPLOYED ",
        "Code": "EMP",
        "ApplicationConfigTypeCode": "EMPT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "DIRECTOR",
        "Code": "DIR",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "MANAGERIAL",
        "Code": "MGR",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "OTHERS",
        "Code": "OTH",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "PROFESSIONAL",
        "Code": "PRO",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "SELF EMPLOYED",
        "Code": "SEM",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "SENIOR MANAGEMENT",
        "Code": "SMT",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "SUPERVISOR",
        "Code": "SPV",
        "ApplicationConfigTypeCode": "DESIG"
    },
    {
        "Description": "OVERSEAS HOME LOAN",
        "Code": "OHL",
        "ApplicationConfigTypeCode": "APPT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "HDB HOME LOAN",
        "Code": "HDB",
        "ApplicationConfigTypeCode": "APPT"
    },
    {
        "Description": "PRIVATE HOME LOAN",
        "Code": "PHL",
        "ApplicationConfigTypeCode": "APPT"
    },
    {
        "Description": "PURCHASE FROM DEVELOPER",
        "Code": "PDEV",
        "ApplicationConfigTypeCode": "TOP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "PURCHASE FROM HDB",
        "Code": "PHDB",
        "ApplicationConfigTypeCode": "TOP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            }
        ]
    },
    {
        "Description": "RESALE",
        "Code": "RESALE",
        "ApplicationConfigTypeCode": "TOP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "INVESTMENT",
        "Code": "INV",
        "ApplicationConfigTypeCode": "POP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "OWNER OCCUPIED (EXEMPTION)",
        "Code": "OOEXEMPT",
        "ApplicationConfigTypeCode": "POP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "OWNER OCCUPIED",
        "Code": "OO",
        "ApplicationConfigTypeCode": "POP",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "COMPLETED",
        "Code": "COMP",
        "ApplicationConfigTypeCode": "CONS"
    },
    {
        "Description": "TOP ISSUED",
        "Code": "TOP",
        "ApplicationConfigTypeCode": "CONS"
    },
    {
        "Description": "UNDER CONSTRUCTION",
        "Code": "UNDC",
        "ApplicationConfigTypeCode": "CONS"
    },
    {
        "Description": "1",
        "Code": "NOS10",
        "ApplicationConfigTypeCode": "NOS"
    },
    {
        "Description": "2",
        "Code": "NOS20",
        "ApplicationConfigTypeCode": "NOS"
    },
    {
        "Description": "3",
        "Code": "NOS30",
        "ApplicationConfigTypeCode": "NOS"
    },
    {
        "Description": "4",
        "Code": "NOS40",
        "ApplicationConfigTypeCode": "NOS"
    },
    {
        "Description": "5",
        "Code": "NOS50",
        "ApplicationConfigTypeCode": "NOS"
    },
    {
        "Description": "6+",
        "Code": "NOS60",
        "ApplicationConfigTypeCode": "NOS"
    },
    {
        "Description": "GUARANTOR ",
        "Code": "GTR",
        "ApplicationConfigTypeCode": "RA"
    },
    {
        "Description": "JOINT APPLICANT ",
        "Code": "JAPP",
        "ApplicationConfigTypeCode": "RA"
    },
    {
        "Description": "MORTGAGOR ",
        "Code": "MGG",
        "ApplicationConfigTypeCode": "RA"
    },
    {
        "Description": "CHILDREN",
        "Code": "CH",
        "ApplicationConfigTypeCode": "RMA",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            },
            {
                "ParentCode": "OHL~NLR"
            },
            {
                "ParentCode": "PHL~NLR"
            }
        ]
    },
    {
        "Description": "SIBLINGS",
        "Code": "SB",
        "ApplicationConfigTypeCode": "RMA",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "SPOUSE",
        "Code": "SP",
        "ApplicationConfigTypeCode": "RMA",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "PARENTS",
        "Code": "PR",
        "ApplicationConfigTypeCode": "RMA"
    },
    {
        "Description": "FIANCE / FIANCEE",
        "Code": "FR",
        "ApplicationConfigTypeCode": "RMA",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "OTHERS",
        "Code": "RMAOTH",
        "ApplicationConfigTypeCode": "RMA",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "PURCHASE",
        "Code": "PP",
        "ApplicationConfigTypeCode": "APPST",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "TOP UP",
        "Code": "TU",
        "ApplicationConfigTypeCode": "APPST",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "REFINANCE",
        "Code": "RF",
        "ApplicationConfigTypeCode": "APPST",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "NOT RELATED",
        "Code": "NREL",
        "ApplicationConfigTypeCode": "RBS"
    },
    {
        "Description": "RELATED",
        "Code": "REL",
        "ApplicationConfigTypeCode": "RBS"
    },
    {
        "Description": "MALAYAN BANKING BHD, SINGAPORE",
        "Code": "CurBankFI50",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "DBS BANK, SINGAPORE",
        "Code": "CurBankFI31",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "HONGKONG & SHANGHAI BANKING CORP, SINGAP",
        "Code": "CurBankFI41",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "VietinBank LTD SINGAPORE",
        "Code": "CurBankFI56",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "STANDARD CHARTERED BANK, SINGAPORE",
        "Code": "CurBankFI68",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "UNITED OVERSEAS BANK, SINGAPORE",
        "Code": "CurBankFI75",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "CITIBANK NA, SINGAPORE",
        "Code": "CurBankFI24",
        "ApplicationConfigTypeCode": "CURBANK",
        "DomainValueParentRecord": [
            {
                "ParentCode": "0"
            }
        ]
    },
    {
        "Description": "RHB BANK BERHAD, SINGAPORE",
        "Code": "CurBankFI61",
        "ApplicationConfigTypeCode": "CURBANK"
    },
    {
        "Description": "CIMB BANK BHD, SINGAPORE",
        "Code": "CurBankFI08",
        "ApplicationConfigTypeCode": "CURBANK"
    },
    {
        "Description": "HL BANK, SINGAPORE",
        "Code": "CurBankFI40",
        "ApplicationConfigTypeCode": "CURBANK"
    },
    {
        "Description": "AUSTRALIA & NEW ZEALAND BANKING CORPN, S",
        "Code": "CurBankFI04",
        "ApplicationConfigTypeCode": "CURBANK"
    },
    {
        "Description": "OTHERS",
        "Code": "CBFOTH",
        "ApplicationConfigTypeCode": "CURBANK"
    },
    {
        "Description": "BANK OF CHINA, SINGAPORE",
        "Code": "CurBankFI09",
        "ApplicationConfigTypeCode": "CURBANK"
    },
    {
        "Description": "UNIT TRUST",
        "Code": "UNT",
        "ApplicationConfigTypeCode": "CT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "DEPOSIT",
        "Code": "DEP",
        "ApplicationConfigTypeCode": "CT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "BOND/UNIT TRUST",
        "Code": "BUT",
        "ApplicationConfigTypeCode": "CT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "LAND ONLY",
        "Code": "LAND",
        "ApplicationConfigTypeCode": "CT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "LANDED RESIDENCE",
        "Code": "LR",
        "ApplicationConfigTypeCode": "CT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    },
    {
        "Description": "NON-LANDED RESIDENCE",
        "Code": "NLR",
        "ApplicationConfigTypeCode": "CT",
        "DomainValueParentRecord": [
            {
                "ParentCode": "HDB"
            },
            {
                "ParentCode": "OHL"
            },
            {
                "ParentCode": "PHL"
            }
        ]
    }
]
// var domain2 = Object();
// var num = 0;
// $.each(domain, function() {
//     if(domain2.hasOwnProperty(this.ApplicationConfigTypeCode)) {
//         domain2[this.ApplicationConfigTypeCode].push({code: this.Code, description: this.Description});
//     }
//     else {
//         domain2[this.ApplicationConfigTypeCode] = [{'description': this.Description, 'code': this.Code}];
//     }
// })
// console.log(domain2);
    /////
},
    form: function() {
        try {
            $('.input-number').each(function() {
                var elem = $(this);
                elem.find('input:not(.value)').on('change', function() {
                    var inputElem = $(this);
                    var val = inputElem.val();
                    if (!val) {
                        elem.find('input.value').val('');
                    } else {
                        elem.find('input.value').val(VietinBank.toComma(Number(val)));
                    }
                })
            });
            $('.input-number:not(.input-float) input[type="number"], .input-number input[type="tel"]').on("keydown", function(event) {
                return VietinBank.numberal.isNumberKey(event, this);
            });

            $('.material-form-control').each(function() {
                var elem = $(this);
                var elemInput = elem.find('input:not(.value):not(.no-control)');
                elemInput.each(function() {
                    if (!elemInput.val()) {
                        elem.addClass('is-empty');
                    } else {
                        elem.removeClass('is-empty');
                    }
                    elemInput
                        .on('focus', function() {
                            elem.addClass('on-focus');
                        })
                        .on('blur', function(evt) {
                            var value = evt.target.value;
                            elem.removeClass('on-focus');
                            if (!value) {
                                elem.addClass('is-empty');
                            } else {
                                elem.removeClass('is-empty');
                            }

                            // validation
                            // For number
                            if (elem.hasClass('input-number')) {
                                var attrs = VietinBank.getAttributes(elemInput);
                                var rules = {};
                                if (attrs.max) {
                                    if (Number(value) > Number(attrs.max)) {
                                        rules.max = false;
                                    } else {
                                        rules.max = true;
                                    }
                                }
                                if (attrs.min) {
                                    if (Number(value) < Number(attrs.min)) {
                                        rules.min = false;
                                    } else {
                                        rules.min = true;
                                    }
                                }

                                var isInvalid = Object.keys(rules).find(function(rule) {
                                    return !rules[rule];
                                });
                                if (isInvalid) {
                                    elem.addClass('has-error');
                                    Object.keys(rules).forEach(function(rule) {
                                        elem.find('.message.message--'+rule).addClass('message--error')
                                    });
                                } else {
                                    elem.removeClass('has-error');
                                    elem.find('.message--error').removeClass('message--error');
                                }

                            }

                        })
                })
            });


            $('.com__general__form form input.required').each(function() {
                $(this).on('input', function() {
                    if (!this.validity.valid) {
                        $(this).parents('.com__general__form-group').addClass('is-error');
                    } else {
                        $(this).parents('.com__general__form-group').removeClass('is-error');
                    }
                })
            });

            var $ternsOfService = $('.com__general__form input#terns_of_service');

            if ($ternsOfService.length) {
                $ternsOfService.each(function() {
                    $(this).on('change', function() {
                        if (this.checked) {
                            $(this).parents('.com__general__form').find('button[type="submit"]').removeClass('disabled').addClass('button--red').removeAttr('disabled')
                        } else {
                            $(this).parents('.com__general__form').find('button[type="submit"]').addClass('disabled').removeClass('button--red').attr('disabled', '')
                        }
                    });
                    $(this).parents('.com__general__form').find('button[type="submit"]').addClass('disabled').removeClass('button--red').attr('disabled', '')
                })
            }

            $('.com__general__form form').submit(function(e) {
                var invalid = false;
                $(this).find('.required').each(function() {
                    if (!this.validity.valid || !this.value || !this.value.length) {
                        invalid = true;
                        $(this).parents('.com__general__form-group').addClass('is-error');
                    } else {
                        $(this).parents('.com__general__form-group').removeClass('is-error');
                    }
                })
                $(this).find('input.required[type="checkbox"], input.required[type="radio"]').each(function() {
                    if (!this.checked) {
                        invalid = true;
                        $(this).parents('.com__general__form-group').addClass('is-error');
                    } else {
                        $(this).parents('.com__general__form-group').removeClass('is-error');
                    }
                })

                if (invalid) {
                    e.preventDefault();
                }
            })

            var parent = $('#generated_form_display');
            parent.each(function() {
                $(this).parents('.iw_component').addClass('com__silveryear__form-background');
                // $(this).addClass('module bp-width-med3 container');
                // $('> .container', this).addClass('com__general__form cta__basic');
                // $('.com__general__form > div', this).addClass('com__general__form-content theme__container');
                // $('.container',this).removeClass('container');
                // $('input[type="text"],input[type="number"]', this).addClass('form-control');
            })
        }
        catch(error) {
            console.error('form error:',error.message);
        }
    },
	fundList: function(opt) { //deprecated
		var _list = {
			parent: '',
			alphaList: '',
			alphaNav: '',
			alphaNavActive: '',
			curOffsetTop: 0,
			short: true,
			scrolling: true,
			scrollOffset: 0,
			init: function() {
				_list.parent = document.querySelector(opt.target);
				_list.alphaNav = $('.com__in-fu-alpha', _list.parent);
				_list.alphaList = $('[alpha-group]', _list.parent);

				// empty the nav
				$(_list.alphaNav).html('');

				// check the list group
				for (var i = 0; i < _list.alphaList.length; i++) {
					var _this = _list.alphaList[i],
					_alpha = _this.getAttribute('alpha-group');

					// create nav
					var _li = document.createElement('li'),
					_a = document.createElement('a'),
					_text = document.createTextNode(_alpha);

					$(_a).addClass('link').attr('alpha-index', i).html(_text);
					$(_li).addClass('item').append(_a);

					$(_list.alphaNav).append(_li);
				}

				// check the active upon page load
				_list.check();

				// check the active nav upon scroll
				var lastScrollTop = 0;
				$(window).scroll(function() {
					var st = $(this).scrollTop();
					if (st > lastScrollTop){
						// downscroll code
						if($(window).outerWidth() < 768) {
							if($(_list.alphaNav).hasClass('js-is-sticky') || $(_list.alphaNav).hasClass('js-is-stuck')) {
								TweenMax.to(_list.alphaNav, 0.25, {y: 0});
							}
						}
					} else {
						// upscroll code
						if($(window).outerWidth() < 768) {
							if($(_list.alphaNav).hasClass('js-is-sticky') || $(_list.alphaNav).hasClass('js-is-stuck')) {
								TweenMax.to(_list.alphaNav, 0.25, {y: $('header').outerHeight()});
							} else {
								TweenMax.set(_list.alphaNav, {y: 0});
							}
						}
					}
					lastScrollTop = st;

					// update the nav
					_list.curOffsetTop = 0;
					if(_list.scrolling) {
						_list.check();
					}
				});

				$('.com__th-btn', _list.parent).click(function() {
					_list.short = false;
				});

				$('li a', _list.alphaNav).click(function(e) {
					e.preventDefault();
					var _this = $(this)
					_parent = _this.parent(),
					_index = _this.attr('alpha-index');

					if(!(_parent.hasClass('selected'))) {
						_list.scrolling = false;
						_list.update({
							number: _index
						});

						// scroll to selected alphabet
						if(_list.short) {
							// if the list are not full showned
							$('.com__th-btn', _list.parent).trigger('click');
							setTimeout(function() {
								_list.scrollTo({
									target: $('[alpha-group]', _list.parent).eq(_index),
									index: _index
								});
							}, 300);
						} else {
							_list.scrollTo({
								target: $('[alpha-group]', _list.parent).eq(_index),
								index: _index
							});
						}
					}
				});

				VietinBank.enquire({
					desktop: function() {
						$('.com__in-fu-desktop', _list.parent).prepend(_list.alphaNav);
						_list.alphaNav.owlCarousel('destroy');

						$(_list.alphaNav).removeClass('stickied').removeAttr('style');
					},
					mobile: function() {
						$('.com__in-fu-mobile', _list.parent).prepend(_list.alphaNav);
						_list.alphaNav.owlCarousel({
							margin: 0,
							nav: true,
							dots: false,
							autoWidth: true
						});

						stickybits(_list.alphaNav, {
							useStickyClasses: true,
							stickyBitStickyOffset: 0
						});
					}
				});
			},
			check: function() {
				for (var i = 0; i < _list.alphaList.length; i++) {
					var _this = _list.alphaList[i],
					_offsetTop = Math.round(($(_this).offset().top + $(_this).outerHeight() / 2) - document.documentElement.scrollTop || document.body.scrollTop);

					// if offset is less than 0
					if(_offsetTop < 0) {
						_offsetTop = 0;
					}

					// if there are no base value yet
					if(_list.curOffsetTop == 0) {
						_list.curOffsetTop = _offsetTop;
					}

					// if the cur offset is lowest on the base number
					if(_offsetTop < _list.curOffsetTop) {
						_list.curOffsetTop = _offsetTop;
					}

					// if base number is equal to offset
					if(_offsetTop == _list.curOffsetTop) {
						_list.update({
							number: i
						});
					}
				}
			},
			update: function(el) {
				// update the selected nav
				_list.alphaNavActive = el.number;
				$('li', _list.alphaNav).removeClass('selected');
				$('li', _list.alphaNav).eq(el.number).addClass('selected');
			},
			scrollTo: function(el) {
				var _gutter = 0;

				// set the offset of the scrolling
				if($(el.target).offset().top < _list.scrollOffset) {
					// if scrolling will go up, add the height of the header
					_gutter = $('header').outerHeight() + 15;

					// if mobile
					if($(window).outerWidth() < 768) {
						_gutter = $('header').outerHeight() + $(_list.alphaNav).outerHeight();
					}

					// if the scrolling will target the first group, go the toppest part of the table
					if(el.index == 0) {
						_gutter = $('header').outerHeight() + 15 + $('.com__th-col.col-top', _list.parent).outerHeight();
					}
				} else {
					_gutter = 0;

					// if the scrolling will target the first group, go the toppest part of the table
					if(el.index == 0) {
						_gutter = $('.com__th-col.col-top', _list.parent).outerHeight() + 15;
					}

					// if mobile
					if($(window).outerWidth() < 768) {
						_gutter = $(_list.alphaNav).outerHeight();
					}
				}

				var _offset = $(el.target).offset().top -_gutter;

				// scroll to target
				$('body, html').animate({scrollTop: _offset}, function() {
					setTimeout(function() {
						_list.scrolling = true;
					}, 200);
				});
				_list.scrollOffset = _offset;
			}
		}
		try {
			_list.init();			
		}
		catch(error) {
			console.error('fundList error:',error.message);
		}
	},
	detectLocation: false,
	geoLocation: function() {
		VietinBank.detectLocation = true;
	},
	globalDropDown: function() {
		var globalDropDown = $('.com_global_dropdown');
		$(window).on('load',function() {
			try {
				globalDropDown.each(function() {
					var element = $(this);
	                var attrs = VietinBank.getAttributes(element);
	                var select2Options = {
	                    placeholder: attrs['placeholder'] || null,
	                    allowClear: attrs['allow-clear'] === 'true' ? true : false,
	                    dropdownAutoWidth : true,
	                    width: '100%',
	                    minimumResultsForSearch: Infinity
	                };
	                element.select2(select2Options);
					element.data('select2').$dropdown.addClass("global-select2-drop");
				});
			}
			catch(error) {
				console.error('globalDropDown error:',error.message);
			}
		});
	},
	graphcarousel: function(opt) {	
		var _carousel = {
			target: document.querySelector(opt.target),
			targetId: '',
			items: 0,
			columns: 1,
			currentslide: 0,
			navLeft: true,
			navRight: true,
			stickyNav: false,
			navOffsetTop: 60,
			navTotalOffset: 0,
			bullets: true,
			xpoint: 0,
			clicks: 0,
			headfix: false,
			table: '',
			headerGap: 0,
			onInitialize: '',
			onChange: '',
			odd: 0,
			lastSlide: 0,
			slideBy: 1,
			init: function() {
				_carousel.targetId = $(_carousel.target).attr('id');
				_carousel.defaults();
				_carousel.createnav();
				_carousel.createbullets();
				_carousel.headerfix();

				// for fixed header
				if ($(_carousel.target).hasClass('fixed-header')) {
					_carousel.fixedHeaderInitial();
					$(window).on('tab_changed', function() {
						_carousel.fixedHeaderInitial();
						_carousel.update();
					})
				}

				// set the table
				TweenMax.set(_carousel.table, {x: 0});
				if(_carousel.columns == 2) {
					$(_carousel.target).addClass('last-slide');
				}
				else {
					$(_carousel.target).addClass('first-slide');
				}

				// ready the carousel
				_carousel.update();
				_carousel.clicks = 0;

				// for clicks
				_carousel.clickcontrols();

				// for swipe
				_carousel.swipe();

				// reset the slider when device rotates
				var _prevWidth = VietinBank.width;
				window.addEventListener('resize', function() {
					if(_prevWidth != VietinBank.width) { // detect the movement on change on width only
						TweenMax.set($('.table__comparison-content', _carousel.target), {x: 0});
						TweenMax.set(_carousel.table, {x: 0});
						_carousel.currentslide = 0;
						_carousel.xpoint = 0;
						_carousel.move();
					}
				});

				// maintain the position of the contents
				_carousel.resize();

				if(opt.onChange) {
					_carousel.onChange = opt.onChange;					
				}

				if(opt.onInitialize) {
					_carousel.onInitialize = opt.onInitialize;
					_carousel.onInitialize({
						items: _carousel.items,
						columns: _carousel.columns,
						currentslide: _carousel.currentslide
					});
				}
			},
			defaults: function() {
				_carousel.table = $('.table__comparison-table', _carousel.target);
				$(_carousel.target).addClass('com_graph-carousel');

				// get the optional changes to the default vars
				if(opt.navLeft == false) {
					_carousel.navLeft = false;
				}

				if(opt.navRight == false) {
					_carousel.navRight = false;
				}

				if(opt.stickyNav == true) {
					_carousel.stickyNav = true;
				}

				if(opt.bullets == false) {
					_carousel.bullets = false;
				}

				if(opt.headfix == true) {
					_carousel.headfix = true;
					$(_carousel.target).addClass('headfix');
				}

				if(opt.headerGap) {
					_carousel.headerGap = opt.headerGap;
				}

				if(opt.items) {
					_carousel.items = opt.items;
				}

				if(opt.slideBy) {
					_carousel.slideBy = opt.slideBy;
				}

				// count the columns
				for (var i = 0; i < $('.graph-row', _carousel.table).length; i++) { // count the row
					var _this = $('.graph-row', _carousel.table).eq(i);
					// count the item per row
					for (var j = 0; j < $('.graph-item', _this).length; j++) {
						if(_carousel.columns == j) {
							_carousel.columns++;
						}
					}
				}

				// if item count is odd or even
				_carousel.odd = _carousel.columns % 2;

				// determine the last slide
				if(_carousel.items == 1) {
					_carousel.lastSlide =  _carousel.columns - 1;
				} else {
					// var _odd = _carousel.columns % 2;
					// _carousel.lastSlide = Math.floor(_carousel.columns / _carousel.items) + _odd;
					// _carousel.lastSlide = Math.round((Math.floor(_carousel.columns / _carousel.items) + _odd) / _carousel.slideBy);
					_carousel.lastSlide = Math.round((_carousel.columns - 1) / _carousel.slideBy)
					if(_carousel.items > 1) {
						_carousel.lastSlide--;

						if(_carousel.slideBy % 2) {
							if(_carousel.items % 2 && _carousel.columns % 2) {
								_carousel.lastSlide--;	
							}
						}
					}
				}
			},
			createnav: function() {
				// create navs
				if(_carousel.columns != 0) {
					if(_carousel.navLeft) {
						_carousel.navLeft = document.createElement('div');
						$(_carousel.navLeft).addClass('graph-carousel-nav').addClass('left').append('<span class="capt"></span> <i class="far fa-angle-up"></i>').hide();
						$(_carousel.target).append(_carousel.navLeft);
					}

					if(_carousel.navRight) {
						_carousel.navRight = document.createElement('div');
						$(_carousel.navRight).addClass('graph-carousel-nav').addClass('right').append('<span class="capt"></span> <i class="far fa-angle-down"></i>').hide();
						$(_carousel.target).append(_carousel.navRight);
					}

					// if sticky nav
					if(_carousel.stickyNav) {
						_carousel.navsticky();
					}
				}
			},
			navsticky: function() {
				var _sticky = {
					topOffset: 0,
					bottomOffset: 0,
					init: function() {
						$(_carousel.navRight).addClass('carousel-nav-sticky');

						$(window).scroll(function() {
							_sticky.topOffset = $(_carousel.target).offset().top - ($('header').outerHeight());
							_sticky.bottomOffset = ($(_carousel.target).offset().top + $('.table__comparison-content', _carousel.target).outerHeight()) - (($('header').outerHeight() * 2) + $(_carousel.navRight).outerHeight() + parseInt($(_carousel.navRight).css('margin-top')));

							if(_sticky.topOffset <= $(this).scrollTop() && $(this).scrollTop() < _sticky.bottomOffset) {
								$(_carousel.navRight).addClass('sticky-active').css({top: $('header').outerHeight()});
							} else {
								$(_carousel.navRight).removeClass('sticky-active').css({top: 0});
							}
						});
					}
				}
				_sticky.init();
			},
			createbullets: function() {
				// create bullets
				if(_carousel.bullets) {
					_carousel.bullets = document.createElement('div');
					$(_carousel.bullets).addClass('graph-carousel-bullets');	

					var _ul = document.createElement('ul'),
					_listCount = _carousel.columns;
					if(_carousel.items > 1) {
						_listCount = Math.round((_carousel.columns - 1) / _carousel.slideBy);
						if(_carousel.slideBy % 2) {
							if(_carousel.items % 2 && _carousel.columns % 2) {
								_listCount--;
							}
						}
					}
					if(_listCount == 1) {
						_listCount--;
					}
					for (var i = 0; i < _listCount; i++) {
						var _li = document.createElement('li');
						$(_li).attr('item-position', i);
						$(_ul).append(_li);
					}

					$(_carousel.bullets).append(_ul);
					$(_carousel.target).append(_carousel.bullets);
				}
			},
			clickcontrols: function() {
				// for nav click
				$('.graph-carousel-nav.left', _carousel.target).on('click', function() {
					if(_carousel.currentslide != 0) {
						if(_carousel.clicks == 0) {
							_carousel.clicks = 1;

							_carousel.currentslide--;
							_carousel.move();
						}
					}
				});
				$('.graph-carousel-nav.right', _carousel.target).on('click', function() {
					if(_carousel.currentslide != _carousel.lastSlide) {
						if(_carousel.clicks == 0) {
							_carousel.clicks = 1;

							_carousel.currentslide++;
							_carousel.move();
						}
					}
				});

				$('li', _carousel.bullets).on('click', function() {
					var _this = $(this);

					if(_carousel.clicks == 0) {
						_carousel.clicks = 1;

						$('li.active', _carousel.bullets).eq(0).removeClass('active');
						_this.addClass('active');

						_carousel.currentslide = Math.floor($(this).attr('item-position'));
						_carousel.move();
					}
				});
			},
			swipe: function() {
				var _swipe = {
					xDown: null,
					yDown: null,
					init: function() {
						document.querySelector(opt.target).addEventListener('touchstart', _swipe.start, false);
						document.querySelector(opt.target).addEventListener('touchmove', _swipe.move, false);
					},
					start: function(evt) {
						_swipe.xDown = evt.touches[0].clientX;
						_swipe.yDown = evt.touches[0].clientY;
					},
					move: function(evt) {
						if (! _swipe.xDown || ! _swipe.yDown) {
							return;
						}

						var xUp = evt.touches[0].clientX;                                    
						var yUp = evt.touches[0].clientY;

						var xDiff = _swipe.xDown - xUp;
						var yDiff = _swipe.yDown - yUp;

						if(VietinBank.width < 768) {
							if (Math.abs(xDiff) > Math.abs(yDiff)) {
								if ( xDiff > 0 ) {
									// swipes left
									if(_carousel.currentslide != _carousel.lastSlide) {
										if(_carousel.clicks == 0) {
											_carousel.clicks = 1;

											_carousel.currentslide++;
											_carousel.move();
										}
									}
								} else {
									// swipes right
									if(_carousel.currentslide != 0) {
										if(_carousel.clicks == 0) {
											_carousel.clicks = 1;

											_carousel.currentslide--;
											_carousel.move();
										}
									}
								}                       
							} else {
								if ( yDiff > 0 ) {
									// swipes up
								} else { 
									// swipes down
								}
							}
						}

						_swipe.xDown = null;
						_swipe.yDown = null;   
					}
				}
				_swipe.init();
			},
			update: function() {
				_carousel.clicks = 0;

				// for nav text
				if(_carousel.navLeft) {
					var _navLeftText = $('.table__comparison-nav li', _carousel.target).eq(_carousel.currentslide - 1).html();
					if(_carousel.currentslide != 0) {
						$('.capt', _carousel.navLeft).html(_navLeftText);
					}
				}

				if(_carousel.navRight) {
					var _navRightText = $('.table__comparison-nav li', _carousel.target).eq(_carousel.currentslide + 1).html();
					$('.capt', _carousel.navRight).html(_navRightText);
				}

				// reposition the navs if necessary
				$('.graph-carousel-nav', _carousel.target).each(function() {
					var _this = $(this),
					_pull = ((_this.outerWidth() / 2) - (_this.outerHeight() / 2)) * - 1;
					if(_this.outerWidth() !== 0) {
						if(!_this.hasClass('graph-carousel-nav-fix')) {
							if(_this.hasClass('left')) {
								_this.css({marginRight: '', left: _pull, marginTop: (_this.outerHeight() * - 1)});
							}
							if(_this.hasClass('right')) {
								_this.css({marginRight: '', right: _pull, marginTop: (_this.outerHeight() * - 1)});
							}

							// if sticky nav
							if(_carousel.stickyNav) {
								VietinBank.resize();
								var _thHeight = $('table th', _carousel.target).outerHeight();
								_carousel.navTotalOffset = (_this.outerHeight() * 2) + _thHeight + 40;

								if(_this.hasClass('right')) {
									_this.css({marginTop: _carousel.navTotalOffset});
								}
							}
						}
						else {
							if(_this.hasClass('left')) {
								_this.addClass('left-hidden-fix').addClass('graph-carousel-nav-fix');
								_this.css({marginRight: 0});
							}
							if(_this.hasClass('right')) {
								if(_this.hasClass('graph-carousel-nav-fix')) {
									_this.css({marginRight: '-15px',right: '', marginTop: ''});
									_this.removeClass('right-hidden-fix').removeClass('graph-carousel-nav-fix');
								}
								else {
									_this.css({marginRight: '-15px'});								
									_this.addClass('right-hidden-fix').addClass('graph-carousel-nav-fix');
								}
							}
						}
					}
				});

				// for nav left
				if(_carousel.navLeft) {
					if(_carousel.currentslide == 0) {
						TweenMax.to(_carousel.navLeft, 0.3, {opacity: 0, rotation: -90, x: -20, onComplete: function() {
							$(_carousel.navLeft).hide();
						}});
					} else {
						$(_carousel.navLeft).show();
						TweenMax.to(_carousel.navLeft, 0.3, {opacity: 1, rotation: -90, x: 0});
					}
				}

				// for nav right
				if(_carousel.navRight) {
					if(_carousel.currentslide == _carousel.lastSlide) {
						TweenMax.to(_carousel.navRight, 0.3, {opacity: 0, rotation: -90, x: 20, onComplete: function() {
							$(_carousel.navRight).fadeOut();
						}});
					} else {
						$(_carousel.navRight).show();
						TweenMax.to(_carousel.navRight, 0.3, {opacity: 1, rotation: -90, x: 0});
					}
				}

				// for bullets
				if(_carousel.bullets) {
					$('li.active', _carousel.bullets).eq(0).removeClass('active');
					$('li', _carousel.bullets).eq(_carousel.currentslide).addClass('active');
				}

				if(_carousel.onChange) {
					_carousel.onChange({
						items: _carousel.items,
						columns: _carousel.columns,
						currentslide: _carousel.currentslide
					});
				}
			},
			move: function() {
				var clonedElem = $('#'+_carousel.targetId+'cloned'),
				clonedTable = $('.table__comparison-table', clonedElem),
				_columnWidth = ((VietinBank.width - 65) / _carousel.items),
				_xPoint = ((_columnWidth * _carousel.currentslide) * _carousel.slideBy) * - 1;

				if(_carousel.odd) {
					if(_carousel.currentslide == _carousel.lastSlide) {
						if(_carousel.items % 2) {
							_carousel.xpoint = _xPoint;
						} else {
							_carousel.xpoint = _carousel.xpoint + (_columnWidth * - 1);
						}
					} else {
						_carousel.xpoint = _xPoint;
					}
				} else {
					_carousel.xpoint = _xPoint;
				}

				TweenMax.to(_carousel.table, 0.5, {x: _carousel.xpoint, ease: Cubic.easeInOut, onComplete: function() {
					_carousel.update();
				}});
				TweenMax.to(clonedTable, 0.5, {x: _carousel.xpoint, ease: Cubic.easeInOut, onComplete: function() {
					_carousel.update();
				}});

				if (_carousel.currentslide === 0) {
					$(_carousel.target).addClass('first-slide');
					clonedElem.addClass('first-slide');
				}
				else {
					$(_carousel.target).removeClass('first-slide');
					clonedElem.removeClass('first-slide');
				}

				if(_carousel.currentslide == (_carousel.columns - 1) || _carousel.currentslide == _carousel.lastSlide) {
					// $('.table__comparison-content', _carousel.target).css({overflow: 'visible'});
					if(_carousel.navLeft) {
						TweenMax.to($('.table__comparison-content', _carousel.target), 0.5, {x: 35, ease: Cubic.easeInOut});
						TweenMax.to($('.table__comparison-content', clonedElem), 0.5, {x: 35, ease: Cubic.easeInOut});
					} else {
						// june 7 2019 disable moving table to center when reaching the last slide
						// TweenMax.to($('.table__comparison-content', _carousel.target), 0.5, {x: 17, ease: Cubic.easeInOut});
						// TweenMax.to($('.table__comparison-content', clonedElem), 0.5, {x: 17, ease: Cubic.easeInOut});
					}
					//added by reendyl
					if(_carousel.navLeft) {
						TweenMax.to($('.pct-table2-header-fix', _carousel.target), 0.5, {x: 35, ease: Cubic.easeInOut});
					} else {
						// june 7 2019 disable moving table to center when reaching the last slide
						// TweenMax.to($('.pct-table2-header-fix', _carousel.target), 0.5, {x: 17, ease: Cubic.easeInOut});
					}
					//end added
					$(_carousel.target).addClass('last-slide');
					clonedElem.addClass('last-slide');
				} else {
					// $('.table__comparison-content', _carousel.target).css({overflow: 'hidden'});
					//added by reendyl
					TweenMax.to($('.pct-table2-header-fix', _carousel.target), 0.5, {x: 0, ease: Cubic.easeInOut});
					//end added
					TweenMax.to($('.table__comparison-content', _carousel.target), 0.5, {x: 0, ease: Cubic.easeInOut});
					TweenMax.to($('.table__comparison-content', clonedElem), 0.5, {x: 0, ease: Cubic.easeInOut});
					$(_carousel.target).removeClass('last-slide');
					clonedElem.removeClass('last-slide');
				}
			},
			headerfix: function() {
				var _headerfix = {
					content: '',
					init: function() {
						_headerfix.content = $('.table__comparison-content', _carousel.target).html();

						_carousel.headfix = document.createElement('div');
						$(_carousel.headfix).addClass('graph-carousel-header');
						$(_carousel.headfix).append(_headerfix.content);

						$('.table__comparison-content', _carousel.target).append(_carousel.headfix);
					}
				}
				if(_carousel.headfix) {
					_headerfix.init();
				}
			},
			desktopHeaderFix: function(target) {
				if($(target).is(':visible')) {
					//match table first td to cd-ta-headfix
					var td = $(target).find('.table__comparison-table').find('tbody tr:first-child td:first-child');
					var taHeadFix = $(target).find('.cd-ta-headfix');
					taHeadFix.width(td.outerWidth());
					taHeadFix.find('tr:first-child td:first-child').height(td.height());
				}
			},
			resize: function() {
				var _resize = {
					colwidth: 0,
					init: function() {
						_resize.update();
						window.addEventListener('resize', function() {
							if($(_carousel.target).hasClass('com_graph-carousel')) {
								_resize.update();
							}
						});
						// window.addEventListener('resize', VietinBank.debounce(function() {

						// }, 200, {
						// 	trailing: true,
						// 	leading: true
						// }));
					},
					update: function() {
						// if(VietinBank.width > 767) {
						// 	// if desktop
						// 	$(_carousel.target).css({width: 'auto'});
						// 	$('.table__comparison-content', _carousel.target).css({width: 'auto', paddingRight: 0});
						// 	$('.graph-item', _carousel.table).css({minWidth: 'auto'});
						// }

						// divide the width of the colums depending on items count
						_resize.colwidth = (VietinBank.width - 65) / _carousel.items;
						if(_carousel.headfix) {
							$(_carousel.target).css({width: (VietinBank.width - 20)});
							// added by reendyl
							if($('.com__investment_4coltable').length){
								var parentW = $('.com__investment_4coltable');
								$(_carousel.target,parentW).css({width: '100%'});
							}
							// end added
							$('.table__comparison-content', _carousel.target).css({width: (VietinBank.width - 20), paddingRight: 54});

							$('.graph-carousel-header', _carousel.target).css({width: (_resize.colwidth + _carousel.headerGap)});
						} else {
							$('.table__comparison-content', _carousel.target).css({width: (VietinBank.width - 65)});
						}

						$('.graph-item', _carousel.target).css({minWidth: _resize.colwidth});

						$('.graph-item', '#'+_carousel.targetId+'cloned').css({minWidth: _resize.colwidth});

						$('.graph-carousel-nav', _carousel.target).each(function() {
							var _this = $(this),
							_pull = ((_this.outerWidth() / 2) - (_this.outerHeight() / 2)) * - 1;
							if(_this.outerWidth() !== 0) {
								if(_this.hasClass('left')) {
									_this.css({left: _pull, marginTop: (_this.outerHeight() * - 1)});
								}
								if(_this.hasClass('right')) {
									_this.css({right: _pull, marginTop: (_this.outerHeight() * - 1)});
								}
							}
							else {
								if(_this.hasClass('left')) {
									_this.css({left: '', marginTop: ''});
								}
								if(_this.hasClass('right')) {
									_this.css({right: '', marginTop: ''});
								}
							}

							// if sticky nav
							if(_carousel.stickyNav) {
								VietinBank.resize();
								var _thHeight = $('table th', _carousel.target).outerHeight();
								_carousel.navTotalOffset = (_this.outerHeight() * 2) + _thHeight + 40;

								if(_this.hasClass('right')) {
									_this.css({marginTop: _carousel.navTotalOffset});
								}
							}
						});
					}
				}
				_resize.init();
			},
			fixedHeaderInitial: function() {
				var $elem = $('#'+_carousel.targetId);
				var navElem = $('.graph-carousel-nav', $elem);
				$elem.find('th').css('height', '');
				if($elem.hasClass('d-md-block')) return;
				var foundClonedElem = $('#'+_carousel.targetId+'cloned');
				var clonedElem
				if (foundClonedElem && foundClonedElem.length) {
					clonedElem = foundClonedElem;
				}
				else {
				  clonedElem = $elem.clone();
				}
				clonedElem.addClass('fixed-table-header d-md-none')
				clonedElem.attr('id', _carousel.targetId+'cloned');
				// clonedElem.find('.graph-carousel-header').remove();
				clonedElem.css('top', $('header').height());
				setTimeout(function() {
					var thead = clonedElem.find('.table__comparison-content > table thead');
					if (thead && thead.length) {
						clonedElem.css('height', thead.height());
					}
					else {
						clonedElem.css('height', $elem.find('tr:first-child').height());
					}

					var graphcarouselHeader = clonedElem.find('.graph-carousel-header');
					graphcarouselHeader.width(graphcarouselHeader.find('tr:first-child > td:first-child').outerWidth());
					
					// navElem.css('top', clonedElem.height() + navElem.width()/1.5);
					navElem.css('top', '');

				}, 100);
				
				if(_carousel.columns == 2) {
					clonedElem.addClass('last-slide').removeClass('first-slide');
				}
				else {
					clonedElem.width('100vw');					
				}
					// clonedElem.width($(_carousel.target).outerWidth());

				if (!foundClonedElem || !foundClonedElem.length) {
					$(_carousel.target).parents('.module').parent().append(clonedElem);
				}

				$(window).resize(function() {
					clonedElem.css('top', $('header').height());
					setTimeout(function() {
						var graphcarouselHeader = clonedElem.find('.graph-carousel-header');
						graphcarouselHeader.width(graphcarouselHeader.find('tr:first-child > td:first-child').outerWidth());
					}, 100);
				})

				$(window).scroll(function() {
					var menuHeight = $('header').height();
					var screenTop = menuHeight + ($(document).scrollTop() || $('html,body').scrollTop());
					var screenBottom = screenTop + $('body').height();
					var elemTop = $elem.offset().top;
					var elemBottom = elemTop + $elem.find('.table__comparison-content').height();

					var fixedHeight = clonedElem.height();
					if (elemTop <= screenTop && elemBottom >= screenTop+fixedHeight) {
						$(clonedElem).addClass('active');
						navElem.addClass('g-fix-nav').css('top',menuHeight + fixedHeight + navElem.width()/1.5);
					}
					else {
						$(clonedElem).removeClass('active');
						// navElem.removeClass('g-fix-nav').css('top', fixedHeight + navElem.width()/1.5);
						navElem.removeClass('g-fix-nav').css('top', '');
					}
					if (navElem.offset() && navElem.offset().top + navElem.width() >= elemBottom) {
						// navElem.removeClass('g-fix-nav').css('top', fixedHeight + navElem.width()/1.5);
						navElem.removeClass('g-fix-nav').css('top', '');
					}
				});
			}
		}
		try {
			if(opt.destroy) {
				$(opt.target).css({width: 'auto'});
				$('.table__comparison-content', opt.target).removeAttr('style');
				$('.graph-item', opt.table).css({minWidth: 'auto'});
				TweenMax.set($('table', opt.target), {x: 0});
				$('.graph-carousel-nav', opt.target).remove();
				$('.graph-carousel-bullets', opt.target).remove();
				$('.graph-carousel-header', opt.target).remove();
				$(opt.target).removeClass('com_graph-carousel');
				if($(opt.target).find('.cd-ta-headfix').length) {
					if(VietinBank.width > 767) {
						_carousel.desktopHeaderFix(opt.target);
					}
					$(window).on('select_changed resize', function(e) {
						if(e.type == 'select_changed' && opt.target == e.value) {
							_carousel.desktopHeaderFix(e.value);
						}
						if(VietinBank.width > 767) {
							_carousel.desktopHeaderFix(opt.target);
						}
					});
				}
						
			} else {
				if($(opt.target).length == 1) {
					_carousel.init();
				}
			}
		}
		catch(error) {
			console.error('graphcarousel error:',error.message);
		}
	},
	reserveTable: function() {
		try {
			$('.table__comparison--reverse').each(function(elem, elemIndex) {
				var elem = $(this);
				var clonedElem = elem.clone();
				elem.addClass('d-md-block d-none');
				clonedElem.addClass('d-md-none cloned');
				clonedElem.attr('id', clonedElem.attr('id')+'_cloned');
				elem.parent().append(clonedElem);

				var table = clonedElem.find('.table__comparison-table');
				var content = [];
				var maxCellsCount = 0;
				table.find('tr').each(function(rowIndex, row) {
					var rowElem = $(row);
					content[rowIndex] = [];
					rowElem.find('td').each(function(cellIndex, cell) {
						var cellElem = $(cell);
						content[rowIndex][cellIndex] = $(cellElem).clone();
						if ((1+cellIndex) > maxCellsCount) maxCellsCount = 1+cellIndex;
					});
				});
				var reversedContent = [];
				for (var i=0; i<maxCellsCount; i++) {
					reversedContent[i] = [];
					for (var j=0; j<content.length; j++) {
						reversedContent[i][j] = content[j][i];
					}
				}
				table.empty();
				reversedContent.forEach(function(rowItem) {
					var row = document.createElement('TR');
					$(row).addClass('graph-row');
					rowItem.forEach(function(item) {
						if (item) {
							var colSpan = item.prop('colSpan');
							var rowSpan = item.prop('rowSpan');
							if (colSpan > 1) {
								item.prop('rowSpan', colSpan);
							}
							else {
								item.prop('rowSpan', 1);   
							}
							if (rowSpan > 1) {
								item.prop('colSpan', rowSpan);
							}
							else {
								item.prop('colSpan', 1);   
							}
						}
						$(row).append(item);
					});
					table.append(row);
				});
			});
		}
		catch(error) {
			console.error('reserveTable error:',error.message);
		}
	},
	firstRows: function(opt) {
		var _table = {
			target: '',
			button: '',
			content: '',
			rows: 0,
			resizeTimer: 0,
			height: 0,
			init: function() {
				_table.target = document.querySelector(opt.target);
				_table.button = _table.target.querySelector('.table__comparison-more');
				_table.content = _table.target.querySelector('.table__comparison-content');
				_table.rows = opt.rows;

				if(_table.button == null) {
					_table.button = document.createElement('p');
					_table.button.classList.add('table__comparison-more');

					var _link = document.createElement('a');
					$(_link).text('See more');

					$(_table.button).append(_link);
				}

				$(_table.target).addClass('firstRows-active');

				VietinBank.enquire({
					desktop: function() {
						$(_table.target).append(_table.button);
					},
					mobile: function() {
						$(_table.target).append(_table.button);
					}
				});

				$(window).on('select_changed resize', function() {
					_table.resize();
					clearTimeout(_table.resizeTimer);
					_table.resizeTimer = setTimeout(function() {
						_table.resize();
					}, 200);
				});
				_table.resize();

				$('a', _table.button).click(function(e) {
					e.preventDefault();
					_table.open();
				});
			},
			resize: function() {
				if($(_table.target).hasClass('firstRows-active')) {
					_table.height = 0;

					for (var i = 0; i < _table.rows; i++) {
						var _trHeight = $('tr', _table.target).eq(i).outerHeight();
						_table.height = _table.height + _trHeight;
					}

					$(_table.content).css({height: _table.height});
				}
			},
			open: function() {
				$(_table.content).css({height: 'auto'});
				var _height = $(_table.content).outerHeight();
				TweenMax.fromTo(_table.content, 1, {height: _table.height}, {height: _height, onComplete: function() {
					$(_table.button).hide();
					$(_table.content).css({height: 'auto'});
				}});
				$(_table.target).removeClass('firstRows-active');
				$(_table.target).addClass('firstRows-opened');
			}
		}
		try {
			if(opt.rows != 0) {
				if(!($(opt.target).hasClass('firstRows-opened'))) {
					_table.init();
				}
			} else {
				$('.table__comparison-more', opt.target).remove();
			}
		}
		catch(error) {
			console.error('firstRows error:',error.message);
		}
	},
	graphinterest: function() {
		var _interestTable = {
			found: false,
		    g_top: 0,
		    table: null,
		    stickyVisible: false,
		    element: {
			    table: null,
			    sticky: null,
			    stickyContainer: null,
		    },
		    init: function(option) {
		        _interestTable.element.sticky = $(document.querySelectorAll(option.sticky));
		        _interestTable.element.stickyContainer = $(document.querySelectorAll(option.sticky+"-available"));
		        _interestTable.element.table = $(document.querySelectorAll(option.table));
	        	if(_interestTable.element.table.length >= 1) {

	       			_interestTable.found = true;
	        	}

		        if(_interestTable.found) {
		        	_interestTable.table = option.table;
			    		_interestTable.scroll();
					    _interestTable.resize();
							$(window).resize(function() {
							    _interestTable.resize();
							});
							$(window).on('tab_changed', function() {
							    _interestTable.resize();
							})
							$(window).scroll(function() {
							    _interestTable.scroll();
							});
		        }

		        if(_interestTable.element.stickyContainer.length) {
			        _interestTable.g_top = _interestTable.element.stickyContainer.offset().top+_interestTable.element.stickyContainer.height();

		        }
		    },
		    resize: function() {
		    	if(_interestTable.found) {
		    		_interestTable.element.table.each(function() {
		    			if($(this).is(':visible')) {
		    				var element = $(this).find(_interestTable.table+'-single');
			    			setTimeout(function() {
				    			var height = 0;
						        element.each(function(){
						            $(this).css('height','');
						            if($(this).height() > height) {
						            	height = $(this).height();
						            }
						        });
						        if(window.innerWidth > 576) {
						            element.each(function(){
						                $(this).height(height);
						            });   
						        }
			    				
			    			}, 200);
		    			}
		    		})
			        _interestTable.scroll();
			    }
		    },
		    scroll: function() {
		    	if(_interestTable.found) {
		    		_interestTable.scrollSticky();
		    		_interestTable.scrollFadeIn();
		    	}
		    },
		    scrollSticky: function() {
	        if(_interestTable.element.stickyContainer.length && _interestTable.element.sticky.length) {
			    	var w_width = window.innerWidth;
		        var w_height = $(window).height();
	          var v_area = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
		        if(w_width < 767) {
	            if(_interestTable.element.stickyContainer.offset().top <= (v_area + w_height) && (v_area + w_height ) < _interestTable.g_top) {
	            	if(!_interestTable.stickyVisible) {
	            		_interestTable.stickyVisible = true;
	          			_interestTable.element.sticky.addClass('list__col-sticky-show').delay(100).addClass('list__col-sticky-fixed', 500);
	            	}
	            }
	            else if( (v_area + w_height) >= _interestTable.g_top || (v_area + w_height) <= _interestTable.g_top ){
	            	if(_interestTable.stickyVisible) {
	            		_interestTable.stickyVisible = false;
	               		_interestTable.element.sticky.removeClass('list__col-sticky-fixed', 500);
	               		setTimeout(function() {
	               			_interestTable.element.sticky.removeClass('list__col-sticky-show');
	               		}, 550);
	            	}
	            }
		        }
			    	else {
				        _interestTable.element.sticky.removeClass('list__col-sticky-fixed');
			    	}
			    }
		    },
		    scrollFadeIn: function() {
		    	_interestTable.element.table.each(function() {
		    		var st = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
		    		if($(this).offset().top <= (st + $(window).height())) {
		    			var element = $(this).find(_interestTable.table+'-single');
		    			element.each(function(index) {
						    $(this).delay(400*index).addClass('list__col-single-visible', 300);
		    			})
		    		}	
	    		})
		    }
		}
		try {
			_interestTable.init({
		    	sticky: '.list__col-sticky',
		    	table: '.list__col'
		    });
		}
		catch(error) {
			console.error('graphinterest error:',error.message);
		}
	},
    headersubnav: function() {
        var _menu = {
            target: '.navigation__product-anchor',
            button: '',
            title: '',
            init: function() {
                _menu.button = $('.he-bo-title', _menu.target);

                $(_menu.button).click(function() {
                    var _this = $(this);
                    if (_this.hasClass('active')) {
                        _menu.close();
                    } else {
                        _menu.open();
                    }
                });

                window.addEventListener('click', function(e) {
                    if (document.querySelector(_menu.target) && !(document.querySelector(_menu.target).contains(e.target))) {
                        if (window.innerWidth < 993) {
                            _menu.close(false);
                        }
                    }
                });

                $('a', _menu.target).click(function() {
                    if (window.innerWidth < 993) {
                        _menu.close();
                    }
                });

                setTimeout(function() {
                    _menu.update();
                }, 100);
                VietinBank.enquire({
                    desktop: VietinBank.debouncev2(function() {
                        if($(_menu.button).hasClass('active')) {
                            _menu.close(true, function() {
                                $('.he-bo-main .short', _menu.target).attr('style', '');
                            });
                        }
                        else {
                            $('.he-bo-main .short', _menu.target).attr('style', '');
                        }
                        
                    }, 300, {
                        leading: false,
                        trailing: true
                    }),
                    mobile: function() {

                    }
                })
                window.addEventListener('scroll', VietinBank.debouncev2(function() {
                    _menu.update();
                }, 50, {
                    leading: true,
                    trailing: true,
                }));
            },
            update: function() {
                $('.he-bo-main', _menu.target).css({
                    top: $(_menu.button).outerHeight()
                });

                _menu.title = $('.hb-co-menu li.active', _menu.target).eq(0).text();
                if (_menu.title == '' && $(_menu.button).hasClass('active')) {
                    _menu.close();
                    // _menu.title = $('.hb-co-menu li', _menu.target).eq(0).text();
                }
                if (!(_menu.title == '')) {
                    $('.capt', _menu.button).text(_menu.title);
                }
            },
            open: function() {
                $('.he-bo-main', _menu.target).css({
                    top: $(_menu.button).outerHeight() + 0.5
                });

                $(_menu.button).addClass('active');
                VietinBank.bodystopscroll(true,'.he-bo-main');

                // $('.he-bo-main', _menu.target).slideDown(300);
                // $('.he-bo-main', _menu.target).addClass('active');
                $('.he-bo-main', _menu.target).show();
                var _height = $(window).height() - $('header').outerHeight();
                TweenMax.fromTo($('.he-bo-main', _menu.target), 0.5, {
                    height: 0,
                    onComplete: function() {
                        VietinBank.headertransform.remove();
                        $('body').addClass('subnav-opened');
                        TweenMax.set($('.he-bo-main .short', _menu.target), {
                            opacity: 0,
                            y: 20,
                            x: '-50%'
                        });
                        TweenMax.to($('#main-container'), 0.3, {
                            opacity: 0,
                        });
                    }
                }, {
                    height: _height,
                    onComplete: function() {
                        VietinBank.headersticky({
                            action: 'mobile-open'
                        })
                        TweenMax.set($('.he-bo-main', _menu.target), {
                            height: 'calc(100vh - '+($('header').outerHeight())+'px)',
                            onComplete: function() {
                                TweenMax.staggerTo($('.he-bo-main .short', _menu.target), 0.3, {
                                    opacity: 1,
                                    y: 0,
                                    z: 999
                                }, 0.03);
                            }
                        });
                    }
                });
                TweenMax.fromTo($('.he-bo-main > .container', _menu.target), 0.3, {
                    opacity: 0,
                    y: -20
                }, {
                    opacity: 1,
                    y: 0
                });
                TweenMax.set($('.hb-co-menu li', _menu.target), {
                    opacity: 0,
                    y: -20
                });
                TweenMax.staggerTo($('.hb-co-menu li', _menu.target), 0.3, {
                    opacity: 1,
                    y: 0
                }, 0.03);
            },
            close: function(bool, callback) {
                // bool = typeof bool == 'undefined' ? true : bool;
                bool = true;
                $(_menu.button).removeClass('active');

                // $('.he-bo-main', _menu.target).slideUp(300);
                // $('.he-bo-main', _menu.target).removeClass('active');
                TweenMax.set($('.he-bo-main .short', _menu.target), {
                    opacity: 0,
                    y: 20
                });
                TweenMax.fromTo($('.he-bo-main', _menu.target), 0.5, {
                    height: ($(window).height() - $('header').outerHeight()), 
                    onComplete: function() {
                        TweenMax.to($('#main-container'), 0.3, {
                            opacity: 1,
                        })
                    }
                }, {
                    height: 0,
                    onComplete: function() {
                        $('body').removeClass('subnav-opened');
                        $('.he-bo-main', _menu.target).hide();
                        if(bool) {
                            VietinBank.bodystopscroll(false,'.he-bo-main');                            
                        }
                        TweenMax.set($('.he-bo-main', _menu.target), {
                            clearProps: 'all'
                        });
                        TweenMax.set($('.he-bo-main .short', _menu.target), {
                            opacity: 1,
                            y: 0,
                            z: 0
                        });
                        if(typeof callback == 'function') {
                            callback();
                        }
                    }
                });
                TweenMax.to($('.he-bo-main > .container', _menu.target), 0.3, {
                    opacity: 0,
                    y: -20,
                    delay: 0.2,
                    onComplete: function() {
                        TweenMax.set($('.he-bo-main > .container', _menu.target), {
                            clearProps: 'all'
                        });
                    }
                });
            }
        }
        try {
            _menu.init();
        }
        catch(error) {
            console.error('headersubnav error:',error.message);
        }
    },
    headertransform: {
        get: function() {
            var transformStyle = $('#header').css('transform');
            curTop = 0;
            if (transformStyle && transformStyle !== 'none') {
                curTop = Number(transformStyle.split(',')[5].replace(')', ''));
            }
            return curTop;
        },
        height: function() {
            if($('header').hasClass('menu-shown-all')) {
                return $('.header__main').outerHeight();
            }
            else if($('body').hasClass('menu-shown')) {
                return $('.header__main').outerHeight() + VietinBank.headertransform.get();
            }
            else {
                return 0;
            }
        },
        remove: function() {
            $('#header').css('transform', '');
        }
    },
    headersticky: function(option) {
        var _header = {
            topContent: '.header__main--primary',
            secondary: '.header__main--secondary',
            logo: '.header__logo',
            sticky: '[sticky-content]',
            target: 'header',
            lastScrollTop: 0,
            counterUp: 0,
            counterDown: 0,
            curTop: 0,
            top: 0,
            init: function() {
                // for sticky nav
                // $('.bp-sticky-content').sticky({topSpacing:0});
                if(!$('body').hasClass('page-campaign')) {
                    window.addEventListener('scroll', _header.custom, false);
                    window.addEventListener('scroll', _header.beforeScroll, false);
                    window.addEventListener('scroll', _header.afterScroll, false);
                    window.addEventListener('scroll', _header.afterScrollDelayed, false);
                }
            },
            beforeScroll: VietinBank.debouncev2(function() {
                _header.scrolling = true;
                _header.firstScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                _header.scrollRange = 0;
            }, 150, {
                leading: true,
                trailing: true
            }),
            afterScroll: VietinBank.debouncev2(function() {
                _header.scrolling = false;
                if (_header.counterDown && _header.lastScrollTop < $(_header.target).height()) { // <-- depreceated
                    // _header.show(true);
                }
                _header.counterUp = 0;
                _header.counterDown = 0;
            }, 0, {
                leading: true,
                trailing: true
            }),
            afterScrollDelayed: VietinBank.debouncev2(function() {
                if (_header.lastScrollTop - _header.firstScrollTop < 0) {
                    $('#header').addClass('opened');
                }
            }, 100, {
                leading: false,
                trailing: true
            }),
            custom: VietinBank.debouncev2(function() {
                _header.scrolling = true;
                var st = window.pageYOffset || document.documentElement.scrollTop; // Credits: "https://github.com/qeremy/so/blob/master/so.dom.js#L426"
                var headerHeight = $('.header__main').height() + VietinBank.notification({ action: 'get-height' });
                if(!$('body').hasClass('stopoverflow')) {
                    if (st > _header.lastScrollTop) {
                        if ($(_header.topContent).offset().top > 20) {
                            if (_header.counterUp == 0) {
                                _header.counterDown = 0;
                                _header.counterUp = 1;
                                $('#header').removeClass('opened');
                                _header.scrollingDown(st);
                                if(st > headerHeight) {
                                    $(_header.target).removeClass('absolute');    
                                } else {
                                    TweenMax.to($(_header.logo), 0.25, {
                                        y: 0
                                    });
                                    $(_header.target).addClass('absolute');
                                }
                            }
                        }
                    } else {
                        if (_header.counterDown == 0) {
                            _header.counterDown = 1;
                            _header.counterUp = 0;
                            _header.scrollRange += st;
                            if(st - _header.firstScrollTop < -500) {
                                // _header.show(true);
                            }
                            if(st > headerHeight) {
                                $(_header.target).removeClass('absolute'); 
                                if(VietinBank.notification({ action: 'get-height' }) > 0) {
                                    _header.show(true);
                                }
                                else {
                                    _header.show();
                                }   
                            // } else if(st < headerHeight * 3/4) {
                            //     // _header.show(true);
                            } else if(st < headerHeight /2) {
                                if($(_header.target).hasClass('menu-shown-all')) {
                                    _header.reset();
                                }
                                else {
                                    _header.show(true);
                                }
                            } else {
                                // _header.reset();                                
                                // TweenMax.to($(_header.logo), 0.25, {
                                //     y: 0
                                // });
                                // $(_header.target).addClass('absolute');
                            }
                        }
                    }
                    
                }
                _header.lastScrollTop = st <= 0 ? 0 : st; // For Mobile or negative scrolling
            }, 0, {
                leading: true,
                trailing: true
            }),
            reset: VietinBank.debouncev2(function() {
                if($(_header.target).hasClass('menu-shown-all')) {
                    TweenMax.to($(_header.logo), 0.1,{
                        y: 0
                    })
                    TweenMax.to($(_header.target), 0.1,{
                        y: 0
                    });
                }               
                else {
                    $(_header.target).addClass('absolute');     
                }
            }, 100, {
                leading: true,
                trailing: true
            }),
            hide: function() {
                _header.hidden = true;
                _header.top = $(_header.secondary).outerHeight() + VietinBank.notification({ action: 'get-height' });
                TweenMax.to($(_header.target), 0.25, {
                    y: -(_header.top)
                });
                if(VietinBank.width > 991) {
                    TweenMax.to($(_header.logo), 0.25, {
                        y: (_header.top)/2 + 5
                    })
                }
                // $(_header.secondary).hide();

            },
            scrollingDown: function(curScrollTop) {
                // var y = Math.abs(curScrollTop - _header.firstScrollTop || 0);
                // var transformStyle = $('#header').css('transform');
                // curTop = 0;
                // if (transformStyle && transformStyle !== 'none') {
                //     curTop = Number(transformStyle.split(',')[5].replace(')', ''));
                // }
                // var tweenMaxPosition = Math.min((y-curTop), $(_header.target).height());
                // // if (curScrollTop >= $(_header.target).height()) {
                // //     tweenMaxPosition = $(_header.target).height();
                // // }
                // $(_header.target).stop();
                // TweenMax.to($(_header.target), 0.3, {
                //     y: -1*tweenMaxPosition,
                //     ease: Power0.easeNone
                // });
                if(!$('body').hasClass('stopoverflow')) {
                    VietinBank.headernavi({ action: 'desktop-close' });
                    // var height = Math.min(($(_header.target).height()), $('.header__main').height() + $('.header__sub').height());
                    var height = $('.header__main').height() + VietinBank.notification({ action: 'get-height' });
                    TweenMax.to($(_header.target), 0.3, {
                        y: -1* height,
                        ease: Power0.easeNone
                    });
                    $('body').removeClass('menu-shown');
                    if($(_header.sticky).hasClass('stickied')) {
                        TweenMax.to($(_header.sticky), 0.25, {y: 0});
                        $('body').addClass('menu-shown');
                    }
                    var headerHeight = $(_header.target).height();
                }
            },
            show: VietinBank.debouncev2(function(showAll) {
                var curTop = VietinBank.headertransform.get();
                if (!curTop) {
                    //when header already open all
                    _header.sticky_func.unsticky(true);
                    return;
                }
                var stickyContent = $('.bp-sticky-content', _header.target);
                if (!showAll) {
                    if (!stickyContent || !stickyContent.length) {
                        showAll = false;;
                        VietinBank.stickinparent({
                            action: 'update',
                            extra: {
                                stickyBitStickyOffset: 20
                            }
                        });
                    }

                    if ($('#header').hasClass('opened')) {
                        showAll = true;
                    }

                    if ($('#header').find('.header__main--secondary').length == 0) {
                        showAll = true;
                    }
                }
                _header.hidden = false;
                _header.top = $(_header.secondary).outerHeight();

                TweenMax.to($(_header.target), 0.25, {
                    y: VietinBank.width > 991 ? (showAll ? 0 : -(VietinBank.width <= 1546 ? 60 : 80 )) : 0
                });
                TweenMax.to($(_header.logo), 0.25, {
                    y: VietinBank.width > 991 ? (showAll ? 0 : (VietinBank.width <= 1546 ? 28 : 40)) : 0
                });
                _header.sticky_func.unsticky(showAll);
                $('body').addClass('menu-shown');
                if(showAll) {
                    $('header').addClass('menu-shown-all');
                }
                else {
                    $('header').removeClass('menu-shown-all');
                }
            }, 50, {
                leading: true,
                trailing: true
            }),
            sticky_func: {
                unsticky: function(showAll) {
                    if($(_header.sticky).length && $(_header.sticky).hasClass('stickied')) {
                        if(VietinBank.width > 767) {
                            if($(_header.sticky).hasClass('js-is-sticky')) {
                                TweenMax.to($(_header.sticky), 0.25, {
                                    y: showAll ? ($(_header.target).outerHeight()) : (_header.top)
                                });
                            } else {
                                var transform = $(_header.sticky).css('transform');
                                if(transform !== null && transform.match(/matrix/)) {
                                    TweenMax.to($(_header.sticky), 0.25, {
                                        y: 0,
                                        onComplete: function() {
                                            $(_header.sticky).css('transform', '');
                                        }
                                    })
                                }
                            }
                        } else {
                            TweenMax.to($(_header.sticky), 0.25, {y: 0});
                        }
                    }
                }
            }
        }
        try {
            if(typeof option == 'object') {
                switch(option.action) {
                    case 'mobile-open':
                        if(!$('body').hasClass('page-campaign')) {
                            _header.show();
                        }
                        break;
                    case 'mobile-hide': 
                        if(!$('body').hasClass('page-campaign')) {
                            _header.scrollingDown();
                        }
                    default: 
                        //
                }
            }
            else {
                _header.init();            
            }
        }
        catch(error) {
            console.error('headersticky error:',error.message);
        }
    },
    headerhamburger: function() {
        var _ham = {
            target: '.menu-bar',
            parent: null,
            init: function() {
                $(_ham.target).click(function() {
                    var target = $(this);
                    if(!target.hasClass('active')) {
                        target.addClass('active');
                        target.parent().addClass('active');
                        _ham.parent = target.parents('#header');
                        _ham.parent.addClass('active');
                        VietinBank.bodystopscroll(true);
                        var _height = _ham.parent.outerHeight();
                        TweenMax.fromTo($('.header__mobile', _ham.parent), 0.4, {
                            height: _height,
                            opacity: 0,
                            onComplete: function() {
                                $('.header__mobile', _ham.parent).css('display', 'block');                                
                            }
                        }, {
                            height: $(window).height(),
                            ease: Expo.easeOut,
                            onComplete: function() {
                                TweenMax.to($('.header__mobile', _ham.parent), 0.1, {
                                    opacity: 1
                                })
                                $('body, html').addClass('mainmenu-opened');
                                $('.header__mobile', _ham.parent).addClass('active'); 
                            }
                        });
                        $('.header__main', _ham.parent).addClass('opened');
                    }
                    else {
                        $('.header__hidden', _ham.parent).hide();
                        target.removeClass('active');
                        target.parent().removeClass('active');  
                        _ham.parent.removeClass('active');
                        $('.header__main', _ham.parent).removeClass('opened');
                        $('body, html').removeClass('mainmenu-opened');
                        $('.header__mobile', _ham.parent).slideUp(300, 'easeOutQuint', function() { 
                            $(this).css('height', '');
                            VietinBank.bodystopscroll('all');
                            VietinBank.headernavi({
                                action: 'mobile-close'
                            });
                        });
                    }
                })
                $(window).resize(function() {
                    if(window.innerWidth > 939) {
                        if($(_ham.target).hasClass('active')) {
                            $(_ham.target, _ham.parent).removeClass('active');
                            $(_ham.target, _ham.parent).parent().removeClass('active');  
                            $('.header__main', _ham.parent).removeClass('opened');
                            $('.header__mobile', _ham.parent).css('height', '').removeClass('active').hide();
                            $('body, html').removeClass('mainmenu-opened');
                            _ham.parent.removeClass('active');
                            VietinBank.headernavi({
                                action: 'mobile-close'
                            });
                            VietinBank.bodystopscroll('all');
                            $('.header__hidden', _ham.parent).hide();
                        }
                    }
                });
            }
        }
        try {
            _ham.init();
        }
        catch(error) {
            console.error('headerhamburger error:',error.message);
        }
    },
    headernavi: function(option) {
        var _navi = {
            target: '.header__navi',
            content: '.header__sub',
            mobile: '.header__sub-mobile-section',
            event: function(event) {
                event.stopPropagation();
                event.preventDefault();
                var hash = $(this).attr('href');
                if($(hash, '.header__sub').hasClass('active')) {
                    // $(_navi.target).parent().removeClass('selected');
                    // _navi.inactive(hash);
                }
                else {
                    // $(_navi.target).parent().removeClass('selected');
                    // $(this).parent().addClass('selected');
                    if(!$('.header__row.active', '.header__sub').length) {
                        _navi.active(hash);
                    }
                    else {
                        $('.header__row.active', '.header__sub').fadeOut(300, function() {
                        }).removeClass('active');
                        _navi.active(hash);
                    }
                }
            },
            reinitialize: {
                mobile: function() {
                    TweenMax.set($('#header .header__mobile'), {
                        x: 0,
                        zIndex: 1000
                    });
                    TweenMax.set($('#header .header__sub--view'), {
                        x: 0,
                        display: 'block',
                        zIndex: 1000
                    });
                },
                desktop: function() {
                    VietinBank.bodystopscroll('all');
                    TweenMax.set($('#header .header__hidden'), {
                        display: 'block',
                    });
                    _navi.close.desktop();
                }
            },
            active: function(elem) {
                $(elem, '.header__sub').addClass('active');
                if(VietinBank.width > 991) {
                    $('.header__hidden', '.header__sub').show();
                    $(elem, '.header__sub').parent().slideDown({
                        duration: 400,
                        easing: 'easeOutQuint',
                        complete: function() {
                            $(this).css({
                                opacity: 1
                            }, 250);
                        }
                    });
                }
                else {
                    VietinBank.bodystopscroll(true, '.header__sub--view');
                    TweenMax.fromTo($('#header .header__mobile'), 0.25, {
                        x: 0,
                    }, {
                        x: -1*(VietinBank.width),
                    });
                    TweenMax.fromTo($(elem, '.header__sub').parent(), 0.25, {
                        x: (VietinBank.width),
                        opacity: 0,
                        onComplete: function() {
                            $(elem, '.header__sub').parent().parent().show();
                        },
                    }, {
                        x: 0,
                        ease: Expo.easeOut,
                        opacity: 1
                    });
                }
            },
            inactive: function(elem) {
                if(VietinBank.width > 991) {
                    $(elem, '.header__sub').parent().slideUp({
                        easing: 'easeOutQuint',
                        complete: function() {
                            $(elem, '.header__sub').removeClass('active');
                            $(this).css({
                                opacity: 0
                            });
                            $('.header__hidden', '.header__sub').hide();
                        },
                        duration: 400
                    });
                }
                else {
                    TweenMax.fromTo($(elem, '.header__sub').parent(), 0.25, {
                        x: 0
                    }, {
                        x: (VietinBank.width),
                        opacity: 0,
                        ease: Expo.easeOut,
                        onComplete: function() {
                            $(elem, '.header__sub').parent().parent().hide();
                            $(elem, '.header__sub').removeClass('active');
                            TweenMax.set($(elem, '.header__sub').parent(), {
                                x: 0
                            });
                        }
                    });
                    TweenMax.fromTo($('#header .header__mobile'), 0.25, {
                        x: -1*(VietinBank.width),
                    }, {
                        x: 0,
                    });
                }
            },
            close: {
                desktop: function(event) {
                    if(event) {
                        if($(event.target).closest($('#header')).length) {
                            return;
                        }   
                        $('.header__row.active', '.header__sub').each(function() {
                            _navi.inactive($(this));
                        })
                    }
                    // $('.header__main--navi li.selected', '.header__main').each(function() {
                    //     $(this).removeClass('selected');
                    // })
                },
                desktopv2: function(event) {
                    $('.header__row.active', '.header__sub').each(function() {
                        _navi.inactive($(this));
                    })
                },
                mobile: function(event) {
                    $('.header__row.active', '.header__sub').each(function() {
                        _navi.inactive($(this));
                    })
                    // $('.header__main--navi li.selected', '.header__main').each(function() {
                    //     $(this).removeClass('selected');
                    // })
                },
            },
            init: function() {
                // $(_navi.target).bind('mouseenter', _navi.event);
                // $(_navi.content).bind('mouseleave', _navi.close.desktop);
                // $(_navi.target).bind('mouseenter click', _navi.prevent);
                VietinBank.enquire({
                    between: 991,
                    tablet: true,
                    desktop: function() {
                        _navi.reinitialize.desktop();
                        $(_navi.target).bind('mouseenter', _navi.event);
                        $(_navi.mobile).unbind('click', _navi.close.mobile);
                        $('#header').bind('mouseleave', _navi.close.desktopv2);
                        $('.header__main--secondary').bind('mouseenter', _navi.close.desktopv2);
                        $('.header__main--navi li a').not('.header__navi').bind('mouseenter', _navi.close.desktopv2);
                        $('.header__logo').bind('mouseenter', _navi.close.desktopv2);
                        if ($('.header__hidden').length && $('.header__hidden')[0].style.display === 'block') {
                            _navi.close.desktop();
                            _navi.close.mobile();
                        }
                    },
                    mobile: function() {
                        _navi.reinitialize.mobile();
                        $(_navi.target).unbind('mouseenter', _navi.event);
                        $(_navi.mobile).bind('click', _navi.close.mobile);
                        $('#header').unbind('mouseleave', _navi.close.desktopv2);
                        $('.header__main--secondary').unbind('mouseenter', _navi.close.desktopv2);
                        $('.header__main--navi li a').not('.header__navi').unbind('mouseenter', _navi.close.desktopv2);
                        $('.header__logo').unbind('mouseenter', _navi.close.desktopv2);
                        if ($('.header__main').hasClass('opened')) {
                            _navi.close.desktop();
                            _navi.close.mobile();
                        }
                    }
                });
                $('html, body').bind('click', _navi.close.desktop);
                $(_navi.target).bind('click', _navi.event);
            }
        }
        try {
            if(typeof option == 'object') {
                switch(option.action) {
                    case 'mobile-close':
                        _navi.close.mobile();
                        break;
                    case 'desktop-close':
                        _navi.close.desktopv2();
                        break;
                    default: 
                        //
                }
            }
            else {
                _navi.init();            
            }
        }
        catch(error) {
            console.error('headernavi error:',error.message);
        }
    },
helpAndSupport: function() {
  var filterDropdown = function(dropdown) {
    var elem = $(dropdown);
    var dropdownToggle = elem.find('input.dropdown-toggle');
    var dropdownMenu = elem.find('.dropdown-menu');
    var dropdownMenuItem = elem.find('.dropdown-item');
    var dropdownToggleClear = elem.find('.icon-clear');
    var focused = false;

    // Get and pre-fill search box at first load
    var params = VietinBank.getUrlVars();
    if (params && params.query) {
      dropdownToggle.val(decodeURI(params.query.replace(/\+/g, ' ')));
      // resultRedirect(params.query);
    }

    renderMenuItems(dropdown);
    dropdownToggleClear.on('click', function(e) {
      dropdownToggle.val('');
      if (focused) {
        setTimeout(function() {
          dropdownToggle.focus();
          renderMenuItems(dropdown);
        }, 50);
      } else {
        renderMenuItems(dropdown);
      }
      
    });

    dropdownToggle.on('focus', function(e) {
      e.preventDefault();
      focused = true;
      // dropdownMenu.slideDown(); //disable slide down
    });
    dropdownToggle.on('click', function(e) {
      e.preventDefault();
      focused = true;
      // dropdownMenu.slideDown(); //disable slide down
    });

    dropdownToggle.on('keyup', function() {
      renderMenuItems(dropdown);
      if(dropdownToggle.val().length > 0){ //slide down only on keyup
        dropdownMenu.slideDown();
      }else{
        dropdownMenu.slideUp();
      }
    })

    dropdownMenuItem.on('click', function(e) {
      e.preventDefault();
      focused = false;
      var value = $(this).find('.value').text();
      dropdownToggle.val(value);
      // renderMenuItems(dropdown);
      dropdownMenu.slideUp();
      dropdownToggle.parents('form').submit();
    });

    $('body').on('click', function(e) {
      var clickedElem = $(e.target);
      var dropdownParent = clickedElem.parents('.dropdown');
      if (!dropdownParent || dropdownParent[0] != dropdown) {
        focused = false;
        dropdownMenu.slideUp();
      }
    });
  };

  var renderMenuItems = function(dropdown) {
    var elem = $(dropdown);
    var dropdownToggleClear = elem.find('.icon-clear');
    var query = elem.find('input.dropdown-toggle').val();
    if (query) dropdownToggleClear.show(150);
    else dropdownToggleClear.hide(150);
    var dropdownMenuItem = elem.find('.dropdown-item');
    dropdownMenuItem.addClass('d-none');
    var maxItem = 100;
    var count = 0;
    dropdownMenuItem.each(function() {
      count++;
      var item = $(this);
      var value = item.find('.value').text();
      if (count > maxItem) return;
      if (!query) {
        item.removeClass('d-none');
        item.find('.display').html(value);
        return;
      }
      if (value && value && value.toLowerCase().indexOf(query.toLowerCase()) > -1) {
        item.removeClass('d-none');
        var textIndexes = getIndicesOf(query, value);
        if (!textIndexes || !textIndexes.length) return;
        var highlightedText = value.substring(textIndexes[0], textIndexes[0]+query.length);
        item.find('.display').html(value.replace(highlightedText, '<b>'+highlightedText+'</b>'));
      }
    })
  }

  function getIndicesOf(searchStr, str, caseSensitive) {
    var searchStrLen = searchStr.length;
    if (searchStrLen == 0) {
        return [];
    }
    var startIndex = 0, index, indices = [];
    if (!caseSensitive) {
        str = str.toLowerCase();
        searchStr = searchStr.toLowerCase();
    }
    while ((index = str.indexOf(searchStr, startIndex)) > -1) {
        indices.push(index);
        startIndex = index + searchStrLen;
    }
    return indices;
  }

  function resultRedirect(queryResult){
    // redirects to result with query included
    // window.location.href = 'has-result.html?query='+queryResult;

    // redirects to result without query included
    // window.location.href = 'has-result.html?query=';
  }

  try {
    $('.com_has-header .dropdown').each(function() {
      filterDropdown(this);
    });
  }
  catch(error) {
    console.error('helpAndSupport error:',error.message);
  }

  // var websiteRef = window.location.href;
  // var idRef = websiteRef.substring(websiteRef.lastIndexOf('#')+1);
  // if(websiteRef.includes("has-content.html")){
  //   $("#"+idRef).children().click();
  // }

  // var searchRef = websiteRef.substring(websiteRef.lastIndexOf('#')+1);
  // if(websiteRef.includes("has-result.html")){
  //   var outputVal = searchRef.replace("+"," ");
  //   $("input[name]").val(outputVal);
  // }


  
},
    home: function() {
        try {
            // for select banner slider
            $('[image-slider]').each(function(index) {
                var _this = $(this),
                _class = 'select-banner' + index,
                _type = _this.attr('image-slider');

                _this.addClass(_class);

                if(_type == 'type1') {
                    VietinBank.selectbanner({
                        target: '.' + _class
                    });
                }

                if(_type == 'type2') {
                    VietinBank.selectbanner({
                        target: '.' + _class,
                        speed: 3,
                        animspeed: 1,
                        autoplay: true
                    });
                }
            });

            // for home accordion
            $('[accordion-group]').each(function(index) {
                var _this = $(this),
                _class = 'accordion-group' + index,
                _type = _this.attr('accordion-group');

                _this.addClass(_class);

                if(_type == 'mobile') {
                    VietinBank.enquire({
                        desktop: function() {
                            VietinBank.accordion2({
                                target: '.' + _class,
                                destroy: true
                            });
                        },
                        mobile: function() {
                            VietinBank.accordion2({
                                target: '.' + _class,
                                onetime: false
                            });
                        }
                    });
                }
            });

            // for select slider
            $('[select-banner-group]').each(function(index) {
                var _this = $(this),
                _type = _this.attr('select-banner-group'),
                _class = 'banner-group' + index;
                _this.addClass(_class);

                var _thisBanner = '.' + _class + ' .com__select-slider-banner',
                _thisSlider = '.' + _class + ' .com__select-slider',
                _thisSelect = '.' + _class + ' .com__select-slider-dropdown select',
                _thisCaption = '.' + _class + ' .com__select-slider-caption';

                if(_type == 'type1') {
                    // for select slider
                    VietinBank.selectslider({
                        target: _thisSlider,
                        autoplay: true,
                        speed: 2,
                        pauseLimit: 10,
                        afterSlide: function(event) {
                            if(VietinBank.width < 992) {
                                event.autoplay = false;
                                event.autoplayStop();
                            }

                            var _activeBanner = $('.selected', _thisBanner).eq(0).attr('banner-number');
                            if (_activeBanner == undefined) {
                                _activeBanner = 0;
                            }

                            if(_activeBanner != undefined) {
                                if(event.curSlide != parseInt(_activeBanner)) {
                                    VietinBank.selectbanner({
                                        state: 'update',
                                        target: _thisBanner,
                                        number: event.curSlide,
                                    });
                                }
                            }
                        },
                        endSlide: function(event) {
                            // do something once triggered the center part of the select slider
                            event.autoplay = false;
                            event.autoplayStop();

                            // release the next control of guide
                            $('li.selected', event.target).addClass('clicked');
                            $('.com__select-slider-dropdown', _this).addClass('dd-hide');
                            TweenMax.fromTo(event.target, 0.5, {opacity: 1}, {opacity: 0, onComplete: function() {
                                $(_thisSlider).hide();
                                $('.com__select-slider-dropdown', _this).addClass('dd-active');

                                setTimeout(function() {
                                    TweenMax.set(_thisCaption, {opacity: 0});

                                    $(_thisCaption).slideDown(function() {
                                        TweenMax.to(_thisCaption, 0.5, {opacity: 1});
                                    });
                                    $('.com__select-slider-details', _this).slideDown();

                                    if(VietinBank.width < 1280) {
                                        setTimeout(function() {
                                            VietinBank.equalize($('.hc-ba-list >*', _this));
                                        }, 150);
                                    }
                                }, 700);
                            }});

                            _guideDetails({
                                index: index,
                                target: _this,
                                number: event.curSlide,
                            });
                        }
                    });

                    // for select dropdown
                    var _optLenght = $('option', _thisSelect).length,
                    _optNum = 0;
                    for (var i = 0; i < _optLenght; i++) {
                        var _thisOpt = $('option', _thisSelect).eq(i);

                        if(_thisOpt.attr('value') != 'default') {
                            _thisOpt.attr('opt-number', _optNum);
                            _optNum++;
                        }
                    }

                    // disable the select2 to use native selector mobile
                    var _mobSelectParent = $(_thisSelect).parent(),
                    _mobselectTitle = '',
                    _mobSelect = '',
                    _mobSelectCap = '';

                    VietinBank.enquire({
                        desktop: function() {
                            $(_thisSelect).data('select2').$dropdown.addClass('com__select-dd');

                            // for mobile select
                            $('.com__select-dd-title', _mobSelectParent).remove();
                        },
                        mobile: function() {
                            $(_thisSelect).removeClass('com__select-dd');

                            $('.com__select-dd-title', _mobSelectParent).remove();
                            _mobselectTitle = document.createElement('div');
                            $(_mobselectTitle).addClass('com__select-dd-title');

                            _mobSelect = document.querySelector(_thisSelect);

                            // for rotate text
                            if(_mobSelect.options[_mobSelect.selectedIndex].value == 'default') {
                                for (var i = 0; i < 4; i++) {
                                    var _capContainer = document.createElement('div'),
                                    _capText = $('option', _mobSelect).eq(i).text();

                                    $(_capContainer).addClass('dd-rotate').text(_capText);

                                    $(_mobselectTitle).append(_capContainer);
                                }
                            } else {
                                if(_mobSelect) {
                                    $(_mobSelectParent).addClass('dd-active');
                                    _mobSelectCap = $('option', _mobSelect).eq(_mobSelect.options.selectedIndex).text();
                                    $(_mobselectTitle).text(_mobSelectCap);
                                }
                            }

                            $(_mobSelectParent).append(_mobselectTitle);
                        }
                    });

                    // rotate the selectbox label
                    $(_thisSelect).on('change', function() {
                        var _number = $('option', this).eq(this.options.selectedIndex).attr('opt-number');

                        // release the next control of guide
                        if(_number) {
                            $(_thisSlider).hide();
                            $('.com__select-slider-caption', _this).show();
                            // $('.com__select-slider-dropdown', _this).addClass('dd-hide dd-active');
                            TweenMax.fromTo($('.com__select-slider-caption', _this), 0.5, {opacity: 0, y: -20}, {opacity: 1, y: 0});

                            $('.com__select-slider-details', _this).fadeIn();

                            _guideDetails({
                                index: index,
                                target: _this,
                                number: _number,
                            });
                        }

                        if(_mobSelect) {
                            _mobSelectCap = $('option', _mobSelect).eq(_mobSelect.options.selectedIndex).text();
                            $(_mobselectTitle).text(_mobSelectCap);
                        }

                        setTimeout(function() {
                            VietinBank.equalize($('.hc-ba-list >*', _this));
                        }, 300);
                    });

                    // balancing the title and select slider container
                    var _equalHeight = function() {
                        VietinBank.equalize($('.hc-ba-list >*', _this));
                        // var _colHeight = $('.hc-ba-list >*', _this).outerHeight();
                        // if(_colHeight < 100) {
                        //     if(VietinBank.width >= 992 && VietinBank.width <= 1280) {
                        //         $('.hc-ba-list > .title').css({paddingBottom: 20});
                        //     }
                        // }
                        // $('.com__select-slider-dropdown', _this).css({minHeight: _colHeight});
                    }
                    _equalHeight();

                    window.addEventListener('resize', function() {
                        _equalHeight();
                    });
                }
            });
        }
        catch(error) {
            console.error('home group error:',error.message);
        }

        var _guideDetails = function(opt) {
            var _guide = {
                slider: '',
                mobtitle: '',
                mobbanner: '',
                dropdown: '',
                selector: '',
                optLenght: 0,
                captions: '',
                captionLength: 0,
                banner: '',
                details: '',
                detailLength: 0,
                init: function() {
                    _guide.defaults();

                    // _guide.slider.hide();
                    _guide.mobtitle.hide();
                    _guide.mobbanner.hide();

                    _guide.dropdown.show().css({display: 'inline-block'});
                    if(VietinBank.width >= 992 && VietinBank.width <= 1280) {
                        TweenMax.set(_guide.dropdown, {opacity: 0});
                        TweenMax.to(_guide.dropdown, 0.5, {opacity: 1, delay: 0.5});
                    }
                    // _guide.captions.show();
                    // _guide.details.show();

                    // control the captions
                    _guide.captionLength = $('> *', _guide.captions).length;
                    for (var i = 0; i < _guide.captionLength; i++) {
                        $('> *', _guide.captions).eq(i).attr('caption-number', i).hide();
                    }

                    // control the details
                    _guide.detailLength = $('> *', _guide.details).length;
                    for (var i = 0; i < _guide.detailLength; i++) {
                        $('> *', _guide.details).eq(i).attr('details-number', i).hide();
                    }

                    // update the select2
                    _guide.select2();

                    // show the first entry
                    _guide.update(opt.number);
                },
                defaults: function() {
                    _guide.slider = $('.com__select-slider', opt.target);
                    _guide.mobtitle = $('.com__select-mobile-title', opt.target);
                    _guide.mobbanner = $('.com__select-slider-mobile-banner', opt.target);
                    _guide.dropdown = $('.com__select-slider-dropdown', opt.target);
                    _guide.captions = $('.com__select-slider-caption', opt.target);
                    _guide.banner = $('.com__select-slider-banner', opt.target);
                    _guide.details = $('.com__select-slider-details', opt.target);

                    $('select', _guide.dropdown).addClass('select-dropdown' + opt.index);
                    _guide.selector = document.querySelector('.select-dropdown' + opt.index);
                },
                update: function(number) {
                    // update the captions
                    $('> *', _guide.captions).removeClass('selected').hide();
                    $('[caption-number="'+ number +'"]', _guide.captions).show().addClass('selected');

                    // update the banner
                    VietinBank.selectbanner({
                        state: 'update',
                        target: _guide.banner,
                        number: number,
                    });

                    // update the details
                    $('> *', _guide.details).removeClass('selected').hide();
                    $('[details-number="'+ number +'"]', _guide.details).show().addClass('selected');
                },
                select2: function() {
                    _guide.optLenght = _guide.selector.options.length;

                    // remove the default opt
                    for (var i = 0; i < _guide.optLenght; i++) {
                        var _thisOpt = $('option', _guide.selector).eq(i);

                        if(_thisOpt.attr('value') == 'default') {
                            _thisOpt.remove();
                        }
                    }

                    $('option', _guide.selector).removeAttr('opt-number');

                    // select the selected category
                    _guide.selector.options.selected = false;
                    _guide.selector.options[parseInt(opt.number)].selected = true;

                    $(_guide.selector).on('change', function() {
                        // update select slider
                        _guide.update(_guide.selector.options.selectedIndex);
                    });
                }
            }
            try {
                _guide.init();
            }
            catch(error) {
                console.error('home guideDetails error:',error.message);
            }
        }
    },
homeLoanApplication: function() {
	var fieldsParentClassName = '.h-l-form-fields',
		fieldsParent = $(fieldsParentClassName),
		indexFieldsParentClassName = '.h-l-index-fields',
		indexFieldsParent = $(indexFieldsParentClassName);

	var getFirstTwoNumber = function(data) {
			return data.substring(0, 2);
		},
		validatePhone = function(data) {
			if(getFirstTwoNumber(data) == '65') {
				if(data.length < 10) {
					return false;
				} else if(data.length == 10) {
					return true;
				} 
				return false;
			} else if(data.length == 8) {
				return true;
			} else {
				return false;
			}
		},
		addSpace = function(data) {
			// \xa0
			if(getFirstTwoNumber(data) == '65') {
				var totald = data.length;
				if(data.length >= 2 && data.length < 5){
					var test = data.slice(0,2);
					var testd = data.slice(2,totald);
					return test + '\xa0' + testd;
				}else if(data.length >= 6){
					var test = data.slice(0,2);
					var test2 = data.slice(2,6);
					var test3 = data.slice(6,totald);
					return test + '\xa0' + test2 + '\xa0' + test3;
				}
			}else{
				return data;
			}
		},
		showPhoneErrorMessage = function() {
			var messageWrapper = verifyPhone.siblings('span.message');
			verifyPhone.closest('.material-form-control').addClass('has-error');
			messageWrapper.addClass('message--error').html(messageWrapper.attr('data-error'));
		},
		clearErrorMessage = function(elem) {
			elem.closest('.material-form-control').removeClass('has-error');
			elem.siblings('span.message').removeClass('message--error').html('');
		},
		countDown = function(data) {
			var x = $('.count-wrapper .count').attr('data-maxcount');
			$('.count-wrapper .count').html(x);
			$('.bottom-section').removeClass('resend');
			var startcount = setInterval(function() {
				x -= 1;
				if(x <= 0){
					$('.bottom-section').addClass('resend');
					clearInterval(startcount);
				}
				current = x;
				if(x < 10) {
					current = '0'+x;
				}
				$('.count-wrapper .count').html(current);
			},1000);
		},
		showNextTab = function() {
			var items = $('.hlstep-wrapper',fieldsParent);
			var sideIndication = $('.h-l-step-item',fieldsParent);

			$('.show-prev-tab',fieldsParent).removeClass('d-none');

			for(var i = 0; i < items.length; i++) {
				if(i >= (items.length - 1)) {
					return;
				}
				if(items.eq(i).hasClass('active')) {
					items.eq(i).removeClass('active');
					items.eq(i).next().addClass('active');

					sideIndication.eq(i).removeClass('active').addClass('accomplished');
					sideIndication.eq(i).next().addClass('active');

					if(i >= (items.length - 2)){
						$('.afppl-submit',fieldsParent).removeClass('d-none');
						$('.show-next-tab',fieldsParent).addClass('d-none');
						$('.show-prev-tab',fieldsParent).addClass('d-none');
					}else{
						$('.afppl-submit',fieldsParent).addClass('d-none');
						$('.show-next-tab',fieldsParent).removeClass('d-none');
						$('.show-prev-tab',fieldsParent).removeClass('d-none');
					}
					return;
				}
			}
		},
		showPrevTab = function() {
			var items = $('.hlstep-wrapper',fieldsParent);
			var sideIndication = $('.h-l-step-item',fieldsParent);
			
			$('.afppl-submit',fieldsParent).addClass('d-none');
			$('.show-next-tab',fieldsParent).removeClass('d-none');
			
			for(var i = items.length; i != 0; i--) {
				if((i - 1) <= 0) {
					$('.show-prev-tab',fieldsParent).addClass('d-none');
				}
				if(items.eq(i).hasClass('active') && i > 0) {
					items.eq(i).removeClass('active');
					items.eq(i).prev().addClass('active');

					sideIndication.eq(i).removeClass('active').removeClass('accomplished');
					sideIndication.eq(i).prev().addClass('active').removeClass('accomplished');
					return;
				}
			}
		};

	try {
		if(indexFieldsParent.length) { // home loan index
			$('.fill-form-show',indexFieldsParent).on('click', function(e) {
				e.preventDefault();
				$('.fill-in-form',indexFieldsParent).slideToggle();
			});

			var paramInLink = VietinBank.getUrlVars();
			if('loanpackage' in paramInLink) { // pre select package
				var preselect = document.getElementById(paramInLink.loanpackage);
				if(preselect) {
					preselect.parentElement.click();
				}
			}

			var disablePackage1for = {
				'private property under construction': 0,
				'HDB property under construction': 0
			}
			
			var homeLoanType = $('select[name="homeLoanType"]');
			var checkType = function() {
				var homeLoanTypeVal = homeLoanType.val();
				if(homeLoanTypeVal in disablePackage1for) {
					$('#homeLoanPackage1').attr('disabled','disabled');
					$('#homeLoanPackage1').closest('.label-radio').addClass('disabled');
				}else{
					$('#homeLoanPackage1').removeAttr('disabled');
					$('#homeLoanPackage1').closest('.label-radio').removeClass('disabled');
				}
			}
			checkType();
			homeLoanType.on('change', function() {
				checkType();
			});

			//documents to show for
			var homeLoanWant = $('#home-loan-want');
			var homeLoanCitizen = $('#home-loan-citizen');
			var documentWrapper = $('.home-loan-document-list');
			var documentToShow = function(datawant,datacitizen) {
				$('p',documentWrapper).hide();
				$('p[data-want="'+datawant+'"]').show();
				$('p[data-citizen="'+datacitizen+'"]').show();
			}
			documentToShow(homeLoanWant.val(),homeLoanCitizen.val());
			
			homeLoanWant.on('change', function() {
				var datawant = $(this).val();
				var datacitizen = homeLoanCitizen.val();
				documentToShow(datawant,datacitizen);
			});

			homeLoanCitizen.on('change', function() {
				var datawant = homeLoanWant.val();
				var datacitizen = $(this).val();
				documentToShow(datawant,datacitizen);
			});

		}

		if(fieldsParent.length) { // apply for private page
			var hla_table = $('tr.default-hidden').closest('table'),
				current_height = hla_table.height();
			
			$('tr.default-hidden',hla_table).hide();
			$('.expand-table').on('click', function(e) {
				e.preventDefault();
			});

			var verifyPhone = $('.verify_phone'),
				verifyButtonParent = $('.h-l-step-buttons');
			
			verifyPhone.val(addSpace(verifyPhone.val()));
			verifyPhone.blur(function(e) {
				var phonenumber = $(this).val().replace(/\s+/g, '');
				$(this).val(addSpace(phonenumber));
			});

			verifyPhone.on('keyup', function() {
				var defaultPhoneVal = $(this).attr('data-default');
				var phoneElem = $(this);
				var phonenumber = $(this).val().replace(/\s+/g, '');

				if(phonenumber != defaultPhoneVal) { // toggle verify and okay button
					verifyButtonParent.addClass('has-changes');
				}else{
					verifyButtonParent.removeClass('has-changes');
				}

				if(validatePhone(phonenumber) == true) { // clear error message if valid phone number
					clearErrorMessage($(this));
				}else if($(this).closest('.is-verifying').length){ // show error on keyup if user is verifying
					showPhoneErrorMessage();
				}
			});

			$('.verify-btn',fieldsParent).on('click', function(e) {
				e.preventDefault();
				
				var phonenumber = verifyPhone.val().replace(/\s+/g, '');
				verifyPhone.closest('.material-form-control').addClass('is-verifying'); // added class to mark the user is verifying

				if(validatePhone(phonenumber) == false) {
					showPhoneErrorMessage();
					return false;
				}
				
				$.fancybox.open({
					src:'#verify-popup',
					autoFocus: false,
					backFocus: false,
					touch : false,
					btnTpl: {
						close:
					      '<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><i class="fal fa-times"></i></button>',
					    smallBtn: 
					    '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">' +
					      '<i class="fal fa-times"></i>' +
					    "</button>",
					},
					afterShow: function() {
						countDown();
					},
					afterClose: function() {
						$.fancybox.close(true);
					}
				});

			});

			$('.resend-btn').on('click', function(e) {
				e.preventDefault();
				countDown();
			});

			$('.vpkey-list').on('click', function() {
				var _this = $(this),
					key = $('.v-p-key',_this);
				for(var i = 0; i < key.length; i++) {
					if(key.eq(i).val().length <= 0) {
						key.eq(i).focus();
						return;
					}
				}
			});
			$('.vpkey-list .v-p-key').on('keyup', function(e) {
				if(e.keyCode == 8) {
					if(!$(this).val().length){
						$(this).prev().focus();
						return;
					}
				}
				if($(this).val().length){
					$(this).addClass('has-input');
					$(this).next().focus();
				}else{
					$(this).removeClass('has-input');
				}
			});

			$('.expand-table',fieldsParent).on('click', function(e) {
				e.preventDefault();
				$('.default-hidden',fieldsParent).show();
				$('.table-wrapper',fieldsParent).addClass('height-auto');
				$('.expand-btn-wrapper',fieldsParent).addClass('expanded');
			});

			$('.showless-table',fieldsParent).on('click', function(e) {
				$('.table-wrapper',fieldsParent).removeClass('height-auto');
				$('.expand-btn-wrapper',fieldsParent).removeClass('expanded');
				setTimeout(function() {
					$('.default-hidden',fieldsParent).hide();
				},1000);
			});

			$('.confirm-contact-btn',fieldsParent).on('click', function(e) {
				e.preventDefault();
				$('.contact-not-confirm',fieldsParent).addClass('d-none');
				$('.contact-confirmed',fieldsParent).addClass('active');
				$('.bottom-btn-wrapper',fieldsParent).addClass('active');
			});

			$('.verify-its-you-btn').on('click', function(e){
				e.preventDefault();
				$('.contact-not-confirm').addClass('d-none');
				$('.contact-confirmed').addClass('active');
				$('.bottom-btn-wrapper').addClass('active');
				$.fancybox.close(true);
			});

			$('.show-next-tab',fieldsParent).on('click', function(e) {
				e.preventDefault();
				showNextTab();
			});

			$('.show-prev-tab',fieldsParent).on('click', function(e) {
				e.preventDefault();
				showPrevTab();
			});

			$('input[name="month_started"]',fieldsParent).focusout(function() {
				if($(this).val() == 0){
					$(this).val('');
				}
				if($(this).val() != 0 && $(this).val().length == 1){
					var current = $(this).val();
					$(this).val('0'+current);
				}
			});

			var parentOptAddress = $('.mailing-address-opt',fieldsParent);
			$('input[type="radio"]',parentOptAddress).on('click', function() {
				if($('#diff-mailing-address').is(':checked') == true){
					$('.different-mailing-address-fields',fieldsParent).slideDown();
				}else{
					$('.different-mailing-address-fields',fieldsParent).slideUp();
				}
			});

			//co owner field
			var coOwner = $('#h-l-co-owner');
			var showCoOwner = function(data) {
				if(data == 'I have 1 co-owner') {
					$('.with-co-owner').slideDown();
					$('.co-owner-2').slideUp();
					$('.co-owner-1').addClass('active').slideDown();
				}else if(data == 'I have 2 co-owners'){
					$('.co-owner-1').slideDown();
					$('.with-co-owner').slideDown();
					$('.co-owner-2').slideDown();
				}else{
					$('.with-co-owner').slideUp();
					$('.co-owner-1').removeClass('active').slideUp();
					$('.co-owner-2').slideUp();
				}
			}
			showCoOwner(coOwner.val());
			coOwner.on('change', function() {
				showCoOwner($(this).val());
			});
		}
	}
	catch(error) {
		console.error('homeLoanApplication error:',error.message);
	}
},
radioToggle: function(opt) {
	var _toggle = {
		target: '',
		init: function() {
			_toggle.target = opt.target;

			$('.label-radio', _toggle.target).click(function() {
				var _li = $(this).parent();

				if(!($(_li).hasClass('radio-selected'))) {
					$('> li', _toggle.target).removeClass('radio-selected');
					$('> li .ra-to-more', _toggle.target).hide();

					$(_li).addClass('radio-selected');
					$('.ra-to-more', _li).show();
				}
			});
		}
	}
	try {
		_toggle.init();
	}
	catch(error) {
		console.error('radioToggle error:',error.message);
	}
},
imagesCarousel: function() {
  var init = function(elem) {
    var carouselPopup = elem.find('.carousel__popup');
    var carouselFullContent = elem.find('.carousel__full');
    var carouselContent = elem.find('.carousel__content');
    var carouselWrapper = elem.find('.carousel__wrapper');
    var carouselNavigation = elem.find('.carousel__navigation');
    var carouselThumbnails = elem.find('.carousel__thumbnails');
    var carouselThumbnailsWrapper = carouselThumbnails.find('.carousel__thumbnails-wrapper');
    var itemCount = carouselContent.find('.carousel__item').length;
    var btnToggle = elem.find('.btn-toggle');
    var btnExpand = elem.find('.btn-expand');
    var currentIndex = 0;
    var initialContent = carouselContent.html();
    var slickSlider;
    var owlCarouselFullContent;

    var slickSlidesToShow = 4;

    var updateArrowsNav = function(parent, itemIndex) {
      var activeSlide = parent.parents('.carousel__wrapper').find('.owl-item.active');
      if (activeSlide.length > 1) {
        parent.find('.current-page').text(itemIndex+1 + '-' + (itemIndex+activeSlide.length));
      } else {
        parent.find('.current-page').text(itemIndex+1);
      }
      parent.find('.prev').addClass('active');
      parent.find('.next').addClass('active');

      if (itemIndex === 0) {
        parent.find('.prev').removeClass('active');
      } else if (itemIndex === itemCount-1) {
        parent.find('.next').removeClass('active');
      }
    }

    var checkActiveSlide = function() {
      carouselContent.find('.owl-item').each(function() {
        var slide = $(this);
        var boundary = slide[0].getBoundingClientRect();

        if (boundary.right > VietinBank.width) {
          slide.removeClass('active');
        } else {
          if(boundary.left > 0) {
            slide.addClass('active');
          }
        }
      });
    }
    var onChanged = function(itemIndex) {
      currentIndex = itemIndex;
      setTimeout(function() {
        if(slickSlider) {
          carouselThumbnailsWrapper.find('.thumbnail.active').removeClass('active');
          carouselThumbnailsWrapper.find('.thumbnail[data-index="'+itemIndex+'"]').addClass('active');
          var slickIndex = parseInt(carouselThumbnailsWrapper.find('.thumbnail[data-index="'+itemIndex+'"]').parent().data('slick-index'));
          if(slickIndex >= 0) {
            slickSlider.slick('slickGoTo', slickIndex);
          }
        }
        updateArrowsNav(carouselNavigation, itemIndex);
        checkActiveSlide();
      }, 150);
    }

    // INIT CAROUSEL
    var owlOptions = {
      items: 1,
      autoWidth: true,
      margin: 20,
      startPosition: currentIndex,
      responsive: {
        0: {
          items: 1,
          autoWidth: false,
          margin: 10
        },
        768: {
          autoWidth: true,
          items: 1,
          margin: 20
        }
      },
      onChanged: function(e) {
        onChanged(e.item.index);
      },
      onResize: function(e) {
        if(VietinBank.width >= 768) {
          if(elem.hasClass('open')) {
            btnToggle.click();
          }
          VietinBank.headersticky({
            action: 'mobile-open'
          })
          owlOptions.responsive[768].autoWidth = true;
        }
      }
    };

    owlCarouselFullContent = carouselFullContent.owlCarousel({
      items: 1,
      autoWidth: false,
      autoHeight: true,
      nav: true,
      margin: 10,
      startPosition: currentIndex,
      lazyLoad: true,
      navText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>'],
      onChanged: function(e) {
        updateArrowsNav(carouselPopup.find('.carousel__navigation'), e.item.index)
      },
    });

    //Good thing but not useful
    // $(document).on('beforeShow.fb', function(e, instance, slide) {
    //   if(instance.current.src === '#images-carousel') {
        
    //   }
    // })
    // $(document).on('afterShow.fb', function(e, instance, slide) {
    //   if(instance.current.src === '#images-carousel') {
    //   }
    // })

    // $(document).on('beforeClose.fb', function(e, instance, slide) {
    //   if(instance.current.src === '#images-carousel') {
    //     // owlCarouselFullContent.trigger('destroy.owl.carousel');
    //   }
    // })

    var owlImageCarousel = carouselContent.owlCarousel(owlOptions);
    carouselWrapper.find('.carousel__navigation .prev').on('click', function() {
      owlImageCarousel.trigger('prev.owl.carousel');
    });
    carouselWrapper.find('.carousel__navigation .next').on('click', function() {
      owlImageCarousel.trigger('next.owl.carousel');
    });

    carouselPopup.find('.carousel__navigation .prev').on('click', function() {
      owlCarouselFullContent.trigger('prev.owl.carousel');
    });
    carouselPopup.find('.carousel__navigation .next').on('click', function() {
      owlCarouselFullContent.trigger('next.owl.carousel');
    });

    btnToggle.on('click', function() {
      elem.toggleClass('open');
      owlImageCarousel.trigger('destroy.owl.carousel');
      // carouselContent.html(initialContent);
      if (elem.hasClass('open')) {
        owlOptions.items = 1;
        owlOptions.responsive[768].autoWidth = true;
        if (VietinBank.width >= 768) {
          btnToggle.removeClass('fa-th-large');
        } 
        else {
          VietinBank.headersticky({
            action: 'mobile-hide'
          })
          VietinBank.bodystopscroll(true, carouselThumbnailsWrapper[0]);
        }

        if (!slickSlider) {
          // INIT THUMBNAILS
          var slickIndex = carouselThumbnailsWrapper.find('.thumbnail[data-index="'+currentIndex+'"]').parent().data('index');
          slickSlider = carouselThumbnailsWrapper.slick({
            vertical: true,
            infinite: false,
            draggable: true,
            slidesToShow: slickSlidesToShow,
            swipeToSlide: true,
            verticalSwiping: true,
            initialSlide: parseInt(slickIndex),
            prevArrow: '<button class="slick-prev"><i class="fa fa-chevron-up"></i></button>',
            nextArrow: '<button class="slick-next"><i class="fa fa-chevron-down"></i></button>'
          });
          carouselThumbnailsWrapper.on('afterChange', function(event, slickData, slideIndex) {
            if (slickData.$nextArrow.hasClass('slick-disabled')) {
              carouselThumbnailsWrapper.addClass('last');
            } else {
              carouselThumbnailsWrapper.removeClass('last');
            }
          });
          carouselThumbnailsWrapper.on('wheel mousewheel touchmove', VietinBank.debouncev2(function(e) {
            e.preventDefault();
            if (e.originalEvent.deltaY < 0) {
              $(this).slick('slickPrev');
            } else {
              $(this).slick('slickNext');
            }
          }, 50, {
            leading: true,
            trailing: false
          }));
        }
        else {
          // var slickIndex = carouselThumbnailsWrapper.find('.thumbnail[data-index="'+currentIndex+'"]').parent().data('slick-index');
          // console.log('slickSlider click: ',slickIndex);
          // slickSlider.slick('slickGoTo', slickIndex - 1);
        }
      } else {
        // owlOptions.items = 1;
        owlOptions.responsive[768].autoWidth = true;
        btnToggle.addClass('fa-th-large');
      }
      owlOptions.startPosition = currentIndex;
      owlImageCarousel = carouselContent.owlCarousel(owlOptions);
    });

    btnExpand.on('click', function(e) {
      owlCarouselFullContent.trigger( 'refresh.owl.carousel' );
      owlCarouselFullContent.trigger('to.owl.carousel', [currentIndex, 1, true]);
    });
    carouselThumbnails.find('.btn-close').on('click', function() {
      elem.removeClass('open');
      VietinBank.headersticky({
        action: 'mobile-open'
      })
      VietinBank.bodystopscroll(false, carouselThumbnailsWrapper[0]);
    });
    carouselThumbnails.find('.thumbnail').on('click', function(thumb, thumbIndex) {
      owlImageCarousel.trigger('to.owl.carousel', $(this).data('index'));
      if (VietinBank.width < 768) {
        elem.removeClass('open');
        VietinBank.headersticky({
          action: 'mobile-open'
        })
        VietinBank.bodystopscroll(false, carouselThumbnailsWrapper[0]);
      }
    });
  }
  try {
    $('.com_images-carousel').each(function(elem) {
      init($(this));
    });
  }
  catch(error) {
    console.error('imagesCarousel error:',error.message);
  }
},
	infographicSlider: function(opt) {
		var _slider = {
			target: '',
			carousel: '',
			navRight: '',
			init: function() {
				_slider.defaults();

				_slider.carousel.owlCarousel({
	                margin: 0,
	                items: 1,
	                smartSpeed: 700,
	                dots: true,
	                onInitialize: function() {
	                	clearTimeout(_slider.resizeTimer);
		            	_slider.resizeTimer = setTimeout(function() {
		            		_slider.resize();
		            	}, 200);
	                },
	                onChanged: function(event) {
	                	if ((event.page.count - 1) == event.page.index) {
	                		_slider.btnHide();
	                	} else {
	                		_slider.btnShow();
	                	}
	                }
	            });
	            _slider.btnShow();
	            _slider.resize();
	            window.addEventListener('resize', function() {
	            	clearTimeout(_slider.resizeTimer);
	            	_slider.resizeTimer = setTimeout(function() {
	            		_slider.resize();
	            	}, 200);
	            });

	            _slider.navRight.click(function() {
	            	_slider.carousel.trigger('next.owl.carousel');
	            });

	            _slider.navSticky();
			},
			defaults: function() {
				_slider.target = opt.target;
				_slider.carousel = $('.owl-carousel', _slider.target);
				_slider.navRight = $('.com__in-sl-nav.right', _slider.target);
			},
			resizeTimer: 0,
			resize: function() {
				var _navPullRight = (_slider.navRight.outerWidth() / 2) - _slider.navRight.outerHeight();
				_slider.navRight.css({right: -(_navPullRight)});
			},
			btnHide: function() {
				if (_slider.navRight.hasClass('nav-active')) {
					_slider.navRight.removeClass('nav-active');
					TweenMax.to(_slider.navRight, 0.3, {opacity: 0, x: 20, rotation: -90, onComplete: function() {
						_slider.navRight.hide();
					}});
				}
			},
			btnShow: function() {
				if (!(_slider.navRight.hasClass('nav-active'))) {
					_slider.navRight.addClass('nav-active');
					_slider.navRight.show();
					TweenMax.fromTo(_slider.navRight, 0.3, {opacity: 0, x: 20, rotation: -90,}, {opacity: 1, x: 0, rotation: -90});
				}
			},
			navSticky: function() {
				$(window).scroll(function() {
					var menuHeight = $('header').height();
					var screenTop = menuHeight + ($(document).scrollTop() || $('html,body').scrollTop());
					var screenBottom = screenTop + $('body').height();
					var elemTop = $(_slider.target).offset().top;
					var elemBottom = elemTop + $(_slider.target).height();

					if (elemTop <= screenTop && elemBottom >= screenTop) {
						_slider.navRight.addClass('g-fix-nav').css('top',menuHeight + _slider.navRight.width()/1.5);
					}
					else {
						_slider.navRight.removeClass('g-fix-nav').css('top', '');
					}
					if (_slider.navRight.offset() && _slider.navRight.offset().top + _slider.navRight.width() >= elemBottom) {
						_slider.navRight.removeClass('g-fix-nav').css('top', '');
					}
				});
			}
		}
		try {
			_slider.init();
		}
		catch(error) {
			console.error('infographicSlider error:',error.message);
		}
	},
insuranceTimeline: function() {
  function timelineInit() {
    $('.com_insurance-total-payout').each(function() {
      var elem = $(this);
      var elemParent = elem.parents('.com_insurance_total-payout-row');
      var elemCols = elemParent.find('.com_insurance__col');
      var elemRowWidth = elem.find('.com_insurance__row').width();
      elem.find('h2.total').each(function() {
        var h2Elem = $(this);
        var spanElem = h2Elem.find('> span');
        if (spanElem && spanElem.length) {
          var breakpoint = spanElem.width() + 2*10 + 2*20;
          var rowMinWidth = Math.min(elemCols.length, 3)*breakpoint;
          elem.parents('.com_insurance_total-payout__content').css('min-width', rowMinWidth + 'px');
          elem.parents('.com_insurance_total-payout__content').data('min-width', rowMinWidth);
        }
      });
    });
  }
  function timelinePayout() {
    $('.com_insurance-total-payout').each(function() {
      var elem = $(this);
      var contentParent = elem.parents('.com_insurance_total-payout__content');
      var breakpoint = contentParent.data('min-width');
      if ($(window).innerWidth() < (breakpoint + 2*10)) {
        elem.addClass('in-mobile-mode');
        contentParent.css('min-width', 0);
      } else {
        elem.removeClass('in-mobile-mode');
        contentParent.css('min-width', breakpoint);
      }
    });
  }
  try {
    timelineInit();
    timelinePayout();
  }
  catch(error) {
    console.error('insuranceTimeline init error:', error.message);
  }
  $(window).resize(VietinBank.debouncev2(function() {
    try {
      timelinePayout();
    }
    catch(error) {
      console.error('insuranceTimeline resize error:',error.message);
    }
  }, 150, {
    leading: false,
    trailing: true
  }));
},

insuranceEndownment: function() {
  try {
    $('.com_insurance-text-listing').each(function() {
      var parent = $(this);
      var cols = parent.find('.col-12');
      cols.removeClass('in-last-row').removeClass('in-last-row-mobile');
      var totalRows = Math.ceil(cols.length / 3);
      var totalRowsMobile = Math.ceil(cols.length / 2);
      var colIndex = 0;
      cols.each(function(index) {
        var colElem = $(this);
        if(colElem[0].style.display !== 'none') {
          if (colIndex >= (totalRows-1)*3) colElem.addClass('in-last-row');
          if (colIndex >= (totalRowsMobile-1)*2) colElem.addClass('in-last-row-mobile');
          colIndex++;
        }
      });
    })
  }
  catch(error) {
    console.error('insuranceEndownment error:', error.message);
  }
    
},

insuranceDidYouKnow: function() {
  try {
    $('.com_insurance-did-you-know .slides').owlCarousel({
      items: 1,
      dots: true,
      autoHeight: true,
      nav: true,
      navText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>'],
      responsive: {
        0: {
          margin: 10,
          autoHeight: false,
        },
        768: {
          autoHeight: true,
          margin: 50
        },
      },
      onInitialized: function(e) {
        $(e.target).addClass('com_slider');
      }
    })
  }
  catch(error) {
    console.error('insuranceDidYouKnow error:',error.message);
  }
},

insuranceTables: function() {
  var insuranceTablesInit = function() {
    $('.com__insurance-comparison-table, .common__table').each(function() {
      var elem = $(this);
      var table = elem.find('.table__comparison');
      if (elem.hasClass('com__insurance-comparison-table--expandable') || elem.hasClass('common__table-expandable')) {
        elem.find('.see-all-btn').on('click', function(e) {
          e.preventDefault();
          table.height(table.find('.table__comparison-content, .table').height());
          elem.addClass('expanded');
        });
      }
    });
  }
  var calculateExpandableTableHeight = function() {
    $('.com__insurance-comparison-table, .common__table').each(function() {
      var elem = $(this);
      var table = elem.find('.table__comparison');
      if (elem.hasClass('com__insurance-comparison-table--expandable') || elem.hasClass('common__table-expandable')) {
        if (elem.hasClass('expanded')) {
          table.height(table.find('.table__comparison-content, .table').height());
        } else {
          var expandedBorder = table.find('tr.expanded-border');
          if (expandedBorder.length) {
            var tableHeight = expandedBorder.position().top + expandedBorder.height();
            table.height(tableHeight);
          }
        }
      }
    });
  }
  try {
    calculateExpandableTableHeight();
    insuranceTablesInit();
  }
  catch(error) {
    console.error('insuranceTables init error:',error.message);
  }

  window.addEventListener('resize', function() {
    try {
      calculateExpandableTableHeight();
    }
    catch(error) {
      console.error('insuranceTables resize error:',error.message);
    }
  });

  
},

	inv_listing: function() {
		var listing = {
			target: '#investment-listing',
			contents: '',
			table: '',
			iframe: '',
			init: function() {
				if($(listing.target).length) {
					$.get('https://www.VietinBank.com/rates/daily_price_unit_trust.html', function( html ) {
						var markup = html.replace(/<script[^>]*>[\w\W]*?<\/script>/g,"");
						$(listing.target).html(markup);
						listing.load();
					})
				}
			},
			load: function() {
				listing.table = $(listing.target).find('> table');
				if(listing.table.length) {
					listing.run();
				}
			},
			run: function() {
				listing.table.wrap('<div class="com__th-main"> </div>');
				$(listing.target).append($('<div class="com__inv-more pt-3 pt-md-5 text-center"><button tabindex="-1" class="btn btn-shadow btn-animation bordered com__th-btn"><span class="icon"><i class="fa fa-chevron-down"></i></span><span class="circle"><span><em></em></span><span><em></em></span></span></button><div class="mt-3"><p>Show full list of funds</p></div></div>'));
				$(listing.target).each(function(index) {
					var _this = $(this),
					_class = 'toggleHeight' + index;
					_this.addClass(_class);

					VietinBank.toggleHeight({
						target: '.' + _class
					});
				});
				listing.table.find('tr a').each(function() {
					href = $(this).attr('href');
					if(typeof href !== 'undefined') {
						href = href.replace('.html', '.page');
						if(window.location.href.includes('ls_personal')) {
							href = href.replace('personal-banking', 'personal-banking/ls_personal');
						}
					}
					$(this).attr('href', href);
				})
				listing.table.find('tr:nth-child(n+4)').each(function() {
					var _this = $(this);
					var date = _this.find('td:last-child').text();
					_this.find('td:first-child').append('<span class="d-block d-md-none">'+date+'</span>');
				})
			}
		}
		try {
			listing.init();
		}
		catch(error) {
			console.error('inv_listing error:',error.message);
			// $(listing.target).html('<h3>There\'s something wrong, please reload again.</h3>');
		}
	},
	inv_compare: function() {
		var listing = {
			target: '#investment-compare',
			contents: '',
			table: '',
			funds: '',
			indexcount: '',
			init: function() {
				var urlVars = VietinBank.getUrlVars();
				listing.funds = typeof urlVars.fund === 'undefined' ? '' : urlVars.fund;
				listing.indexcount = typeof urlVars.indexcount === 'undefined' ? 6 : urlVars.indexcount;
				$(listing.target).load('https://www.VietinBank.com/UnitTrustWealth/PublicFundScreener/GetFundComparisonData?fund='+listing.funds+'&indexcount='+listing.indexcount, listing.load);
			},
			load: function() {
				$('.compare-header .text-right', listing.target).remove();
				//
				$('.jqmDialog ol.number-list', listing.target).addClass('list-decimal');
				$('.jqmDialog', listing.target).addClass('popup-content po-co-large');
				$('.compare-table colgroup', listing.target).replaceWith(function () { return "<colgroup><col width='16.666667%'><col width='25%'><col width='25%'><col width='25%'></colgroup>"; });
				$('.compare-table .header-row h3', listing.target).replaceWith(function () { return "<h4><strong>" + $(this).text() + "</strong></h4>"; });
				$('.compare-table tr:not(.no-border) td', listing.target).replaceWith(function () { return "<td><div>" + $(this).html() + "</div></td>"; });
				var affected = $('.compare-table tr:not(.no-border) td:contains("investment objective is this suited for")', listing.target).parent('tr');
				affected.find('td:not(:first-child)').each(function(){
					var split = $(this).find('div').text().split('\n');
					split = split.filter(function(item) { return item.trim().length > 0 });
					$(this).find('div').html('<ul class="list-tick"><li>'+split.join('</li><li>')+'</li></ul>')
				})
				$('.compare-table tr.no-border td:first-child').append('<br/><strong>'+$('.compare-table tr.no-border td#fundprice', listing.target).text()+'</strong>');
				$('.compare-table tr.no-border td#fundprice', listing.target).remove();
				$('.compare-table tr.no-border', listing.target).append($('.compare-table tr.last-row td:not(:first-child)', listing.target));
				$('.compare-table tr.last-row', listing.target).remove();
				$('.disclaimer-block p, .disclaimer-block a', listing.target).addClass('caption');
				$('.disclaimer-block', listing.target).addClass('row').replaceWith(function () { return "<div class='disclaimer-block row'><div class='col-md-2'>"+$(this).html()+"</div><div class='col-md-10 text-center'><p><a class='link' href='find-our-selected-funds.page'></i>Back to our selected funds<i class='far fa-chevron-right'></a></p></div></div>"; });
				$('.disclaimer-popup-trigger', listing.target).attr('href', '#disclaimer-popup').fancybox({
					baseClass: "investment-details-popup in-co-par fz-16",
		            btnTpl: {
		                smallBtn: '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">' +
		                    '<i class="fal fa-times"></i>' +
		                    "</button>"
		            },
		            touch: false,
								beforeShow : function( instance, current ) {
									$('header').css('width', "calc(100% - "+$('body').css('margin-right')+")");
								},
								afterClose: function( instance, current) {
									$('header').css('width','100%');
								}
		        });	
		        var codes = listing.funds.split(',');
		        $('.compare-table .full-width-button a', listing.target).each(function(index) {
		        	$(this).removeAttr('onclick').attr('href', 'funds-details.page?fundCode='+codes[index]);
		        })
		        $('.compare-table tr td:first-child', listing.target).each(function() {
					if($(this).text().trim().length) {
						var tr = $(this).parent('tr');
						tr.prev().after('<tr class="d-table-row d-md-none no-padding"><td class="d-table-cell pb-0" colspan="4">'+($(this).text())+'</td></tr>');
					}
				})
				$('.compare-table td:first-child', listing.target).addClass('caption');
				$('.compare-table td .button-group a', listing.target).addClass('button button--secondary button--link');
			},
			run: function() {
				
			}
		}
		try {
			listing.init();
		}
		catch(error) {
			console.error('inv_compare error:',error.message);
			// $(listing.target).html('<h3>There\'s something wrong, please reload again.</h3>');
		}
	},
	inv_details: function() {
		var listing = {
			target: '#investment-details',
			contents: '',
			table: '',
			iframe: '',
			fund: '',
			init: function() {
				var urlVars = VietinBank.getUrlVars();
				listing.fund = typeof urlVars.fundCode === 'undefined' ? 1 : urlVars.fundCode;
				$.fn.live = function(method, callback) {/* this.on(method, callback); */}
				window.Ext = {data: {JsonStore: function(opt) {return;}},onReady: function() {return;},require: function() {return;}};
				$(listing.target).load('https://www.VietinBank.com/UnitTrustWealth/PublicFundDetail/Detail?fundCode='+listing.fund, listing.load);
			},
			load: function() {
				$('.rows, .rate-block, .rate-block .rate-list .rate-value-list', listing.target).addClass('row');
				$('.rows .columns.col-75', listing.target).addClass('col-md-9');
				$('.rows .columns.col-25', listing.target).addClass('col-md-3');
				$('.rows .columns.col-30', listing.target).addClass('col-md-4');
				$('.rate-block .rate-list', listing.target).addClass('col-md-8');
				$('.rate-block .rate-list .rate-value-list .item', listing.target).addClass('col-md-4');
				$('.rate-block .rate-list .rate-value-list .item span', listing.target).addClass('caption');
				$('.rate-block .rate-list .legend-years', listing.target).replaceWith(function () { return "<small class='legend-years'>" + $(this).html() + "</small>"; });
				$('.separator-block', listing.target).addClass('section');
				$('.about-the-fund-block .about-the-fund .columns .label', listing.target).replaceWith(function () { return "<p>" + $(this).html() + "</p>"; });
				$('.about-the-fund-block .disclaimer-block p, .about-the-fund-block .disclaimer-block a', listing.target).addClass('caption');
				$('.review-layout .item .box-content .inner-content .block:first-child p:last-child', listing.target).addClass('small');
				$('.review-layout.proceed-to-buy-block .item .box-content .inner-content .block .button-group .button.primary', listing.target).addClass('button button--primary button--red2');
				$('.review-layout.fund-document-block .pdf-block .pdf-content span', listing.target).addClass('caption');
				$('.bottom-legend p', listing.target).replaceWith(function () { return "<small>" + $(this).html() + "</small>"; });
				$('.jqmDialog ol.number-list', listing.target).addClass('list-decimal');
				//
				$('.circle-tab-wrap', listing.target).remove();
				$('.jqmDialog', listing.target).addClass('popup-content po-co-large');
				$('.jqmDialog table', listing.target).addClass('table');
				$('.product-name h2', listing.target).replaceWith(function () { return "<h1 class='mb-0'>" + $(this).html() + "</h1>"; });
				$('.heading-block .right-block .text-right', listing.target).replaceWith(function () { return "<div><a href='find-our-selected-funds.page'><i class='far fa-chevron-left'></i>Back to our selected funds</a></div>"; });
				$('.fund-performance-block > .ib-wrapper h3', listing.target).replaceWith(function () { return "<div class='subcategory'>" + $(this).html() + "</div>"; });
				$('.fund-performance-block .fund-detail-content h3', listing.target).replaceWith(function () { return "<h4><strong>" + $(this).html() + "</strong></h4>"; });
				$('.fund-performance-block .fund-detail-content .rate-info p.sub-heading', listing.target).replaceWith(function () { return "<h4><strong>" + $(this).html() + "</strong></h4>"; });
				$('.rate-block .rate-info.rows .columns.col-30', listing.target).addClass('col-md-3-a');
				$('.rate-block .rate-info.rows .columns.col-70', listing.target).addClass('col-md-9-a');
				$('.rate-block .rate-info.rows .timeframe-mobile', listing.target).addClass('col-md-12');
				$('.rate-block .rate-info.rows .timeframe-mobile select', listing.target).addClass('select2 w-100');
				$('.rate-block .rate-info.rows .timeframe-mobile select', listing.target).parent().addClass('dropdown__theme input-select');
				$('.invest-in-block > h3', listing.target).replaceWith(function () { return "<div class='subcategory'>" + $(this).html() + "</div>"; });
				$('.about-the-fund-block .about-the-fund > h3', listing.target).replaceWith(function () { return "<div class='subcategory'>" + $(this).html() + "</div>"; });
				$('.rate-block .rate-value-list .item p', listing.target).replaceWith(function () { return "<h2><strong>" + $(this).html() + "</strong></h2>"; });
				$('.right-block-content .item-header h3', listing.target).replaceWith(function () { return "<h4 class='mb-4'><strong>" + $(this).html() + "</strong></h4>"; });
				$('.right-block-content .proceed-to-buy-block .inner-content .rows .columns.col-50', listing.target).addClass('col-md-12 minimum-investment');
				$('.proceed-to-buy-block', listing.target)
				$('.fund-detail-content .fund-invests-tabs .tabs-header', listing.target).replaceWith(function () {
				    return '<div class="invests__tabs com__tab"><div class="com__tab-content  com__tab-scroll"><div class="com__tab-nav has-styled-nav"><ul class="d-flex styled-nav align-items-center"><div class="indicator"></div><li class="col align-items-center justify-content-center"><a href="#tab1"><i class="fal fa-money-bill"></i> Asset Allocation</a></li><li class="col align-items-center justify-content-center"><a href="#tab2"><i class="fal fa-globe-asia"></i> Country Diversification</a></li><li class="col align-items-center justify-content-center"><a href="#tab3"><i class="fal fa-building"></i> Top 10 Holdings</a></li></ul><div class="border-line-wrapper"><div class="border-line"></div></div></div></div></div>';
				});
				$('.country-diversification-block .diversification-block > p.top-date', listing.target).before($('.country-diversification-block .diversification-block > div.rows', listing.target));
				$('.country-diversification-block .diversification-block .rows .columns.left-block > div', listing.target).wrapAll('<div class="row"> </div>');
				$('.country-diversification-block .diversification-block .rows .columns.right-block > div', listing.target).wrapAll('<div class="row"> </div>');
				$('.country-diversification-block .diversification-block .rows .columns', listing.target).removeClass('col-50').addClass('col-md-12');
				$('.country-diversification-block .diversification-block .rows .columns .diversification-item', listing.target).addClass('col-6 col-sm-4 col-md-5th');
				$('.country-diversification-block .diversification-block .rows .columns .diversification-item .country', listing.target).replaceWith(function () { return "<p class='mb-0'>" + $(this).html() + "</p>"; });
				$('.country-diversification-block .diversification-block .rows .columns .diversification-item .value', listing.target).replaceWith(function () { return "<h5 class='bold'>" + $(this).html() + "</h5>"; });
				if($('.country-diversification-block .diversification-block *', listing.target).length == 0	) {
					$('.country-diversification-block .diversification-block', listing.target).html('<p>No data available</p>');
				}
				$('.top-10-holding-block .tabs-inner p.top-date', listing.target).before($('.top-10-holding-block .tabs-inner ul.top-holding-chart', listing.target));
				$('.top-10-holding-block .tabs-inner ul.top-holding-chart table').addClass('table');
				$('.fund-detail-content .fund-invests-tabs .tabs p.chart-title,  .fund-detail-content .fund-invests-tabs .tabs p.top-date', listing.target).addClass('small');
				VietinBank.enquire({
					desktop: function() {
						$('.right-block-content',listing.target).prepend($('.proceed-to-buy-block', listing.target));
					},
					mobile: function() {
						$('.fund-performance-block',listing.target).after($('.proceed-to-buy-block', listing.target));
					}
				})
				$('.fund-detail-content .fund-invests-tabs .tabs').each(function() { $(this).removeClass('hidden'); });
				$(listing.target+' .invests__tabs').each(function(index) {
					var _this = $(this),
		            _index = 'invests__tabs' + index;
		            _this.addClass(_index);
					VietinBank.tabs({
						target: '.'+_index
					})
				})
				var assets = generateAssetAllocation(10).filter(function(item) { return typeof item.name != 'undefined'});
				var colors = ['#667c88','#94a4ad','#b2bec4','#d1d8db'];
				$('.fund-detail-content .fund-invests-tabs #asset-allocation-chart', listing.target).replaceWith(function () {
					var chart = '<div class="com__chart com__investment_piechart" data-height="700" data-mobileheight="500" data-type="doughnut" data-total="'+assets.length+'"';
					for(var i in assets) {
						chart += ' data-value'+(parseInt(i)+1)+'="'+assets[i].fund+'" data-title'+(parseInt(i)+1)+'="'+assets[i].name+'" data-color'+(parseInt(i)+1)+'="'+colors[i]+'"';
					}
					chart += '><div class="com__chart-mobile d-block d-md-none"><div class="row">';
					for(var i in assets) {
						chart += '<div class="col-6 com__chart-col"><h6><strong>'+assets[i].name+'</strong></h6><h2>'+assets[i].fund+'%</h2></div>';
					}
					chart += '</div></div></div>';
				    return chart;
				});
				// var holdings = generateTop10Holdings(10).filter(function(item) { return typeof item.name != 'undefined'});
				// $('.fund-detail-content .fund-invests-tabs #top-10-holdings-chart', listing.target).replaceWith(function () {
				// 	var chart = '<div class="com__chart com__investment_piechart" data-height="700" data-mobileheight="500" data-type="doughnut" data-total="'+assets.length+'"';
				// 	for(var i in holdings) {
				// 		chart += ' data-value'+(parseInt(i)+1)+'="'+holdings[i].fund+'" data-title'+(parseInt(i)+1)+'="'+holdings[i].name+'" data-color'+(parseInt(i)+1)+'="'+colors[i]+'"';
				// 	}
				// 	chart += '><div class="com__chart-mobile d-block d-md-none"><div class="row">';
				// 	for(var i in holdings) {
				// 		chart += '<div class="col-6 com__chart-col"><h6><strong>'+holdings[i].name+'</strong></h6><h2>'+holdings[i].fund+'%</h2></div>';
				// 	}
				// 	chart += '</div></div></div>';
				//     return chart;
				// });
				VietinBank.chart();	
				$('.timeframe-block', listing.target).find('.active').click(function() {
					var value = $(this).data('value');
					GetImage($(this),listing.fund,value);
					$('#mobile_fund_time_frame').val(value);
				});
				$('.dotted-link.price-history-modal-trigger', listing.target).attr('href', '#price-history-modal');
				$('.dotted-link.disclaimer-popup-trigger', listing.target).attr('href', '#disclaimer-popup');
				$('.dotted-link.dividend-history-modal-trigger', listing.target).attr('href', '#dividend-history-modal');
				$('.dotted-link', listing.target).fancybox({
					baseClass: "investment-details-popup in-co-par fz-16",
		            btnTpl: {
		                smallBtn: '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">' +
		                    '<i class="fal fa-times"></i>' +
		                    "</button>"
		            },
		            touch: false,
								beforeShow : function( instance, current ) {
									$('header').css('width', "calc(100% - "+$('body').css('margin-right')+")");
								},
								afterClose: function( instance, current) {
									$('header').css('width','100%');
								}
		        });		
			},
			run: function() {
				
			}
		}
		try {
			listing.init();
		}
		catch(error) {
			console.error('inv_details error:',error.message);
			// $(listing.target).html('<h3>There\'s something wrong, please reload again.</h3>');
		}
	},
	inv_selected: function(opt) {
		var listing = {
			target: '#investment-selected',
			jquery: '',
			paginateTarget: '.i-s-f-pagination',
			form: '#ApplicationForm',
			page: 1,
			perPage: 6,
			paginateData: [],
			fundlist: [],
			sortGrowth: 'highest-growth',
			topFirst: true,
			init: function() {
				var urlV = VietinBank.getUrlVars();
        		listing.page = typeof urlV.page === 'undefined' ? 1 : parseInt(urlV.page);
				if($(listing.target).length) {
					listing.load(true);
				}
			},
			load: function(bool) {
				var data = $(listing.form).serialize();
				bool = typeof bool == 'undefined' ? false : bool;
				$.ajax({
					url: "https://www.VietinBank.com/UnitTrustWealth/PublicFundScreener/List?iRFfC=false",
					method: "GET",
          			async: false,
          			cache: false,
          			success: function(response) {
          				$(response).children('.jqmdBL').each(function(index,item) {
          					// console.log(item);
          				})
          			}
          		})
				$.ajax({
					url: "https://www.VietinBank.com/UnitTrustWealth/PublicFundScreenerPortlet/List",
					method: "POST",
          			async: false,
          			dataType: 'json',
          			contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
          			data: data,
          			success: function(response) {
          				listing.fundlist = [];
          				if(bool) {
          					var interest = response.FundListParameters.InvestmentInterestList;
	          				var dividend = response.FundListParameters.DividendList;
	          				var region = response.FundListParameters.RegionList;
	          				var paywith = response.FundListParameters.SettlementModeList;
	          				var fundhouse = response.FundListParameters.FundHouseList;
	          				//options
	          				for(var i in region) {
	          					var param = region[i];
	          					$('select[name="region_sector"]', listing.target).append('<option value="'+param.Code+'">'+param.Description+'</option>');
	          				}
	          				for(var i in interest) {
	          					var param = interest[i];
	          					$('select[name="investment_interest"]', listing.target).append('<option value="'+param.Code+'">'+param.Description+'</option>');
	          				}
	          				for(var i in dividend) {
	          					var param = dividend[i];
	          					$('select[name="dividend"]', listing.target).append('<option value="'+param.Code+'">'+param.Description+'</option>');
	          				}
	          				for(var i in paywith) {
	          					var param = paywith[i];
	          					$('select[name="pay_with"]', listing.target).append('<option value="'+param.Code+'">'+param.Description+'</option>');
	          				}
	          				for(var i in fundhouse) {
	          					var param = fundhouse[i];
	          					$('select[name="fund_house"]', listing.target).append('<option value="'+param.Code+'">'+param.Description+'</option>');
	          				}
          				}
          				listing.fundlist = response.FundListParameters.AvailableFundList.FundList;
          				listing.sortBy();
          				$('.i-s-f-count-wrapper .count',listing.target).html(listing.fundlist.length);
						if(listing.fundlist.length > 1) {
							$('.i-s-f-count-wrapper .plural',listing.target).show();
						}else{
							$('.i-s-f-count-wrapper .plural',listing.target).hide();
						}
          				listing.navigate(listing.page);
          			},
          			error: function(error) {
          				console.error('inv_selected data api error:',error.message);
          			}
				});
			},
			sortBy: function() {
				var investmentSelectedSortBy = $('[name="investment-selected-sort-by"]', listing.target),
					showTopFunds = $('[name="show-top-funds-first"]', listing.target);

				showTopFunds.on('click', function(e) {
					if($(this).prop("checked") == true){
		                showTopFunds.prop('checked', true);
		            }
		            else if($(this).prop("checked") == false){
		                showTopFunds.prop('checked', false);
		            }
		            $('.isf-popup-apply-filter a').removeClass('disabled');
				});

				function currentSort() {
					listing.loader.on(function() {
						listing.filteredfundlist = listing.fundlist.sort(function(a,b) {
							var aGrowth = a.YearToDatePerformance,
								bGrowth = b.YearToDatePerformance;
							if(listing.sortGrowth == 'highest-growth'){
								return bGrowth - aGrowth;
							}else if(listing.sortGrowth == 'lowest-growth'){
								return aGrowth - bGrowth;
							}
						});
						if(showTopFunds.prop("checked") == true) {
							listing.filteredfundlist = listing.filteredfundlist.sort(function(a,b) {
								var aGrowth = a.IsTop,
									bGrowth = b.IsTop;
								return ((!bGrowth && !aGrowth) || (bGrowth && aGrowth)) ? ((bGrowth && !aGrowth) ? 1 : 0) : -1;
							})
						}
						listing.navigate(listing.page);
					})
				}
				currentSort();
				investmentSelectedSortBy.on('change', function() {
					listing.sortGrowth = investmentSelectedSortBy.val();
					currentSort();
				});
			},
			navigate: VietinBank.debouncev2(function(page) {
  				$('.i-s-f-item-list', listing.target).empty();
		        page = page || listing.page;
		        var filtered = listing.paginateData = listing.paginateControl(listing.filteredfundlist, page, listing.perPage);
		        //items
  				//top fund first
  				var funds = filtered.data;
  				for(var i in funds) {
  					var param = funds[i];
  					var cont = $(listing.content(param));
  					listing.processimage(cont,param);
  					$('.i-s-f-item-list', listing.target).append(cont);
  				}
  				VietinBank.groupHeightInitial();
		        //investment selected funds
		        VietinBank.investmentSelectedFunds(true);
		        listing.paginateDisplay();
		        listing.loader.off(function() {
		        	VietinBank.autoScroll({ target: $(listing.target) });
		        });
		      }, 50, {
		        leading: false,
		        trailing: true
      		}),
      		content: function(param) {
				return '<div class="i-s-f-item-wrapper"><div class="i-s-f-item" data-top="'+((param.IsTop == true) ? 'true' : 'false')+'" data-code="'+param.FundCode+'" data-index="'+param.FundID+'" data-growth="'+(param.YearToDatePerformance > 0 ? param.YearToDatePerformance : 0)+'" data-title="'+param.FundName+'">'+(param.IsTop == true ? '<div class="i-s-f-blurb">Top fund</div>' : '')+'<div class="i-s-f-title gh3"><h5><strong><a href="funds-details.page?fundCode='+param.FundCode+'">'+param.FundName+'</a></strong></h5><p class="i-s-f-sub-text mb-0">Suitable <strong>for '+param.SuitableForDescription+'</strong> risk appetite</p><h3><strong>'+(param.YearToDatePerformance > 0 ? '+ '+param.YearToDatePerformance+'%' : '-')+'</strong></h3><p class="i-s-f-sub-text mb-0">1-year performance</p></div><div class="i-s-f-content gh4"><p class="i-s-f-sub-text mb-0">Past 1 year performance</p><img width="380" height="158" alt=""></div><div class="item-actions d-flex align-items-center justify-content-center"><div class="action--inactive"><p class="mb-0"><i class="fa fa-plus"></i>&nbsp;Compare</p></div><div class="action--active"><p class="mb-0"><i class="fa fa-minus"></i>&nbsp;Remove </p></div></div></div></div>';
			},
			paginateControl: function(items, page, per_page) {
		        var page = page || listing.page,
		        per_page = per_page || listing.perPage,
		        offset = (page - 1) * per_page,
		        paginatedItems = items.slice(offset).slice(0, per_page),
		        total_pages = Math.ceil(items.length / per_page);
		        return {
		          page: page,
		          per_page: per_page,
		          pre_page: page - 1 ? page - 1 : null,
		          next_page: (total_pages > page) ? page + 1 : null,
		          total: items.length,
		          total_pages: total_pages,
		          data: paginatedItems
		        };
	      	},
	      	paginateDisplay: function() {
		        var div = $(listing.paginateTarget);
		        var page_control = listing.paginateData;
		        div.html('');

		        if(page_control.total_pages > 1) {
		        	if(page_control.page == 1) {
		          		div.append('<span class="pagi-prev disabled"><i class="fas fa-angle-left"></i></span>');
		        	}
		        	else {
		          		div.append('<a class="pagi-prev" page="left" href="#"><i class="fas fa-angle-left"></i></a>');

		        	}
		        }

		        var range = [];
		        var l;
		        for (var i = 1; i <= page_control.total_pages; i++) {
		            if (i == 1 || i == page_control.total_pages || i >= (page_control.page - 2) && i < (page_control.page + 2 + 1) ) {
		                range.push(i);
		            }
		        }
		        for(var i in range) {
		          i = range[i];
		          if(l) {
		            if(i - l === 2) {
		              div.append('<a class="pagi-link '+(page_control.page == (l + 1) ? 'active' : '')+'" href="#" page="'+(l + 1)+'">'+(l + 1)+'</a>');
		            }
		            else if(i - l !== 1) {
		              div.append('<span class="pagi-dot">...</span>');
		            }
		          }
		          div.append('<a class="pagi-link '+(page_control.page == (i) ? 'active' : '')+'" href="#" page="'+(i)+'">'+(i)+'</a>');
		          l = i;
		        }

		        if(page_control.total_pages > 1) {
		        	if(page_control.page == page_control.total_pages) {
		          		div.append('<span class="pagi-next disabled"><i class="fas fa-angle-right"></i></span>');
		        	}
		        	else {
		          		div.append('<a class="pagi-next" page="right" href="#"><i class="fas fa-angle-right"></i></a>');

		        	}
		        }

		        if(page_control.total_pages == 1) {
		          div.fadeOut();
		        }
		        else {
		          TweenMax.to(div, 0.5, {
		            opacity: 1
		          })
		        }

		        $('a', div).on('click', function(e) {
		          e.preventDefault();
		          var value = $(this).attr('page');
		          if(parseInt(value) !== listing.page && value !== 'none') {
		            listing.loader.on(function() {
		              switch(value) {
		                case 'left':
		                  listing.page -= 1;
		                  break;
		                case 'right':
		                  listing.page += 1;
		                  break;
		                default:
		                  listing.page = parseInt(value);
		              }
		              VietinBank.setUrlVars('page', listing.page);
		              listing.navigate(listing.page);
		            })
		          }
		        })
	      	},
	      	loader: {
		      	on: function(callBack) {
			        $('#component__loader', listing.target).fadeIn(300, function() {
			          if(typeof callBack == 'function') {
			            callBack();
			          }
			        });
		      	},
		      	off: VietinBank.debouncev2(function(callBack) {
			        $('#component__loader', listing.target).fadeOut(300, function() {
			          if(typeof callBack == 'function') {
			            callBack();
			          }
			        });
		      	}, 300, {
			        leading: false,
			        trailing: true
		      	})
		    },
			processimage: function(fund,param) {
				fund.find('img').attr('src', 'https://www.VietinBank.com/UnitTrustWealth/PublicFundPerformance/Index?fundCode=' + param.FundCode + '&noOfMonth=60&isThumbnail=true');
				var $img = new Image(fund.find('img'));
				$img.onerror = function() {
					fund.find('img').attr('src', 'https://www.VietinBank.com/UnitTrustWealth/Content/themes/common/images/fund_no_data_found_thumbnail.png');
				}
				$img.src = 'https://www.VietinBank.com/UnitTrustWealth/PublicFundPerformance/Index?fundCode=' + param.FundCode + '&noOfMonth=60&isThumbnail=true'

			}
		}
		try {
			if(typeof opt != 'undefined') {
				if(opt.reload) {
					listing.loader.on(function() {
						listing.page = 1;
						VietinBank.setUrlVars('page', 1);
						listing.load()
					})
				}
			}
			else {
				listing.init();
			}
		}
		catch(error) {
			console.error('inv_selected error:',error.message);
			// $(listing.target).html('<h3>There\'s something wrong, please reload again.</h3>');
		}
	},
investmentGraph: function() {
  var recalculateChartRowHeight = VietinBank.debouncev2(function() {
  	var wrapper = $('.com_investment-graph .graph__image-wrapper').height();
  	var _height = wrapper / 4;
    $('.com_investment-graph .graph__y-axis .graph__row').height(_height + 2);
    $('.com_investment-graph .graph__content .graph__row').height(_height + 2);
    $('.com_investment-graph .graph__main-content-wrapper .graph__row').height(_height);
  }, 100, {
  	leading: false,
  	trailing: true
  });
  try {
    recalculateChartRowHeight();
  }
  catch(error) {
    console.error('investmentGraph init error:',error.message);
  }
  $(window).resize(function() {
    try {
      recalculateChartRowHeight();
    }
    catch(error) {
      console.error('investmentGraph resize error:',error.message);
    }
  });
},
investmentSelectedFunds: function(bool) {
	bool = typeof bool == 'undefined' ? false : bool;
	var parentClassName = '.com_investment-selected-funds',
		parentClass = $(parentClassName),
		selectedFunds = $('.funds-selected'),
		itemAction = $('.item-actions',parentClassName),
		itemWrapper = $('.i-s-f-item-wrapper',parentClassName),
		itemBox = $('.i-s-f-item',parentClassName),
		isfbox = $('.isf-itemholder'),
		compareHref = $('.compare-funds', parentClass).attr('href'),
		filterFundsPopup = $('.filter-funds-popup');
	
	var isf = {
		selectedBox: [],
		popupState: false,
		init: function() {
			$('.compare-funds',parentClass).on('click', function(e) {
				if($(this).hasClass('disabled')){
					return false;
				}else{
					return true;
				}
			});

			$('.show-filter',parentClass).on('click', function(e) {
				e.preventDefault();
				$('.isf-popup-apply-filter a').addClass('disabled');
				isf.popupShow();
			});

			$('.filter-funds-popup-close').on('click', function(e) {
				e.preventDefault();
				isf.popupClose();
			});

			$('.filter-funds-popup select').on('change', function(e) {
				$('.isf-popup-apply-filter a').removeClass('disabled');
			});

			$('.isf-popup-apply-filter a').on('click', function(e) {
				e.preventDefault();
				$(this).addClass('disabled');
				isf.popupClose();
				$('html, body').scrollTop($('.i-s-f-sorting-wrapper').offset().top);
			});

			
			// isf.updateCount(itemBox.length);
			isf.addSelectedFund();
			isf.closeButton();
			isf.clearFunds();
			isf.showBlurb();
			// isf.sortBy();
			isf.filterBy();
		},
		updateCount: function(itemLength) {
			$('.i-s-f-count-wrapper .count',parentClass).html(itemLength);
			if(itemLength > 1) {
				$('.i-s-f-count-wrapper .plural',parentClass).show();
			}else{
				$('.i-s-f-count-wrapper .plural',parentClass).hide();
			}
		},
		showBlurb: function() {
			itemBox.filter(function(i) {
				var item = itemBox.eq(i);
				if(item.data('top')) {
					item.addClass('top-fund');
				}else{
					item.removeClass('top-fund');
				}
			});
		},
		sortBy: function() {
			var investmentSelectedSortBy = $('[name="investment-selected-sort-by"]'),
				showTopFunds = $('[name="show-top-funds-first"]');

			showTopFunds.on('click', function(e) {
				if($(this).prop("checked") == true){
	                showTopFunds.prop('checked', true);
	            }
	            else if($(this).prop("checked") == false){
	                showTopFunds.prop('checked', false);
	            }
	            $('.isf-popup-apply-filter a').removeClass('disabled');
			});

			function currentSort() {
				var sortedDivs = itemWrapper.sort(function(a,b) {
					var aGrowth = $('.i-s-f-item',a).attr('data-growth'),
						bGrowth = $('.i-s-f-item',b).attr('data-growth');
					if(investmentSelectedSortBy.val() == 'highest-growth'){
						return bGrowth - aGrowth;
					}else if(investmentSelectedSortBy.val() == 'lowest-growth'){
						return aGrowth - bGrowth;
					}
				});
				if(showTopFunds.prop("checked") == true) {
					sortedDivs = sortedDivs.sort(function(a,b) {
						var aGrowth = $('.i-s-f-item',a).data('top'),
							bGrowth = $('.i-s-f-item',b).data('top');
						return ((!bGrowth && !aGrowth) || (bGrowth && aGrowth)) ? ((bGrowth && !aGrowth) ? 1 : 0) : -1;
					})
				}
					
				$('.i-s-f-item-list',parentClass).empty();
				$('.i-s-f-item-list',parentClass).html(sortedDivs);
			}

			currentSort();
			investmentSelectedSortBy.on('change', function() {
				currentSort();
			});
		},
		filterBy: function() {
			if(parentClass.length){
				if(VietinBank.viewport().width <= 767){
					var currentScreen = $('.filter-funds-popup',parentClass);
					var region = $('[name="region_sector"]',currentScreen),
						investmentInterest = $('[name="investment_interest"]',currentScreen),
						dividend = $('[name="dividend"]',currentScreen),
						payWith = $('[name="pay_with"]',currentScreen),
						fundHouse = $('[name="fund_house"]',currentScreen),
						riskAppetite = $('[name="risk_appetite"]',currentScreen);
				}else{
					var currentScreen = $('.i-s-f-sort-bigger-screen',parentClass);
					var region = $('[name="region_sector"]',currentScreen),
						investmentInterest = $('[name="investment_interest"]',currentScreen),
						dividend = $('[name="dividend"]',currentScreen),
						payWith = $('[name="pay_with"]',currentScreen),
						fundHouse = $('[name="fund_house"]',currentScreen),
						riskAppetite = $('[name="risk_appetite"]',currentScreen);
				}
				$('[name="region_sector"],[name="investment_interest"],[name="dividend"],[name="pay_with"],[name="fund_house"],[name="risk_appetite"]',currentScreen).on('change', function() {
					isf.showAndHide(region.val(),investmentInterest.val(),dividend.val(),payWith.val(),fundHouse.val(),riskAppetite.val());
					$('[name="region_sector"] option[value="'+region.val()+'"]',parentClass).attr('selected','selected');
					$('[name="investment_interest"] option[value="'+investmentInterest.val()+'"]',parentClass).attr('selected','selected');
					$('[name="dividend"] option[value="'+dividend.val()+'"]',parentClass).attr('selected','selected');
					$('[name="pay_with"] option[value="'+payWith.val()+'"]',parentClass).attr('selected','selected');
					$('[name="fund_house"] option[value="'+fundHouse.val()+'"]',parentClass).attr('selected','selected');
					$('[name="risk_appetite"] option[value="'+riskAppetite.val()+'"]',parentClass).attr('selected','selected');
				});
			}
		},
		showAndHide: function(region,investmentInterest,dividend,payWith,fundHouse,riskAppetite) {
			$('input[name="FundListInputs.SelectedFundCriteria.RegionSector"]', '#investment-selected').val(region);
			$('input[name="FundListInputs.SelectedFundCriteria.InvestmentInterest"]', '#investment-selected').val(investmentInterest);
			$('input[name="FundListInputs.SelectedFundCriteria.Dividend"]', '#investment-selected').val(dividend);
			$('input[name="FundListInputs.SelectedFundCriteria.SettlementMode"]', '#investment-selected').val(payWith);
			$('input[name="FundListInputs.SelectedFundCriteria.FundHouse"]', '#investment-selected').val(fundHouse);
			$('input[name="FundListInputs.CurrentNoOfFundsRendered"]', '#investment-selected').val(itemBox.length);
			itemAction.removeClass('active');
			isf.selectedBox = [];
			isf.appendItems();
			VietinBank.inv_selected({ reload: true });
		},
		addSelectedFund: function() {
			parentClass.undelegate().delegate('.item-actions','click', function() {
				var fund = $(this).closest(itemBox),
					dataIndex = fund.attr('data-index'),
					dataCode = fund.attr('data-code');
				if($(this).hasClass('active')){ // remove 
					var lastItem = isf.selectedBox.length - 1;
					for(i in isf.selectedBox){
						if(isf.selectedBox[i] == dataCode){
							isf.selectedBox.splice(i,1);
						}
					}
					$(this).removeClass('active');

				} else { // add
					if(isf.selectedBox.length >= 3){
						var removedItem = isf.selectedBox.splice(0,1);
						var parentOfRemovedItem = $('[data-code='+removedItem+']',itemWrapper);
						parentOfRemovedItem.find(itemAction).removeClass('active');
						isf.selectedBox.push(dataCode);
					}else{
						isf.selectedBox.push(dataCode);
					}
					$(this).addClass('active');
					$('.compare-funds', parentClass).attr('href', compareHref+'?fund='+isf.selectedBox.join(',')+'&indexcount=6');
				}
				isf.maxItem();
				isf.appendItems();
			});
		},
		ellipsis: function(text, max) {
			return text.substr(0,max-1)+(text.length>max?'&hellip;':''); 
		},
		appendItems: function() {
			isfbox.removeClass('active');
			$('.isf-text',isfbox).html('');
			isfbox.attr('data-item','');
			if(isf.selectedBox.length){
				$('.funds-selected',parentClass).addClass('active');
				$('.isf-buttons .count',parentClass).html(isf.selectedBox.length);
				if(isf.selectedBox.length > 1){
					$('.compare-funds',parentClass).removeClass('disabled');
					$('isf-buttons .plural',parentClass).show();
				}else{
					$('.compare-funds',parentClass).addClass('disabled');
					$('isf-buttons .plural',parentClass).hide();
				}

				for(i in isf.selectedBox){
					var itemTitle = $('[data-code='+isf.selectedBox[i]+']',itemWrapper).attr('data-title');
					var isfcontent = isf.ellipsis(itemTitle,25);
					isfbox.eq(i).children('.isf-text').html(isfcontent);
					isfbox.eq(i).addClass('active');
					isfbox.eq(i).attr('data-item',isf.selectedBox[i]);
				}
			}else{
				$('.funds-selected',parentClass).removeClass('active');
			}
		},
		closeButton: function() {
			$('.isf-close',parentClass).on('click', function(e) {
				e.preventDefault();
				var currentItem = $(this).closest(isfbox).attr('data-item');
				var toRemove = $('[data-index='+currentItem+']',itemWrapper);
				toRemove.find(itemAction).click();
			});
		},
		clearFunds: function() {
			$('.clearfunds',parentClass).on('click', function(e) {
				e.preventDefault();
				itemAction.removeClass('active');
				isf.selectedBox = [];
				isf.appendItems();
			});
		},
		maxItem: function() {
			// max 2 item in with 920
			if(VietinBank.viewport().width <= 660){
				if(isf.selectedBox.length >= 3){
					var removedItem = isf.selectedBox.splice(0,1);
					var parentOfRemovedItem = $('[data-index='+removedItem+']',itemWrapper);
					parentOfRemovedItem.find(itemAction).removeClass('active');
					isf.appendItems();
				}
			}
		},
		popupShow: function() {
			// show the popup
			isf.popupState = true;
			$('.filter-funds-popup').show();
			TweenMax.fromTo($('.filter-funds-popup'), 0.3, {x: -window.innerWidth}, {x: 0, onComplete: function() {
				// TweenMax.fromTo($('.filter-funds-popup-close'), 0.3, {opacity: 0, scale: 0.5}, {opacity: 1, scale: 1});
			}});
		},
		popupClose: function(popupOpt) {
			isf.popupState = false;

			var _animSpeed = 0.3;

			// hide the popup
			TweenMax.to($('.filter-funds-popup'), 0.3, {x: -window.innerWidth, onComplete: function() {
				
				$('.filter-funds-popup').hide();
			}});
		},
	}

	try {
		if(parentClass.length) {
			isf.init();
			if(!parentClass.hasClass('resize_init')) {
				parentClass.addClass('resize_init');
				$(window).resize(function() {
					try {
						isf.maxItem();
						// isf.sortBy();
						isf.filterBy();
					}
					catch(error) {
						console.error('investmentSelectedFunds resize error:',error.message);
					}
				});
			}
		}
	}
	catch(error) {
		console.error('investmentSelectedFunds init error:',error.message);
	}
},
	leftNavDD: function(opt) {
		var _nav = {
			parent: '',
			initMode: '',
			closeOthers: true,
			set: '',
			title: '',
			input: '',
			init: function() {
				_nav.defaults();
				$('.'+_nav.input, _nav.parent).each(function() {
					$(this).parents('.com__nav-dd-set').addClass('set-active');
					$(this).parents('.com__nav-dd-set').find('.com__nav-dd-main .styled-nav .side-nav-item a').each(function() {
						if($($(this).attr('href')).length == 0) {
							$(this).fadeOut();
						}
					})
				});

				_nav.title.click(function(e) {
					var href = $(this).attr('href');
					if(typeof href != 'undefined' && href.length > 0) {
						if(href.indexOf('#') == 0 || $(this).hasClass(_nav.input)) {
							e.preventDefault();
							var _set = $(this).closest('.com__nav-dd-set');
							if(_set.hasClass('set-active')) {
								_nav.close(_set);
							} else {
								_nav.open(_set);
							}
						}
					}
				});

				if(_nav.initMode == 'first') {
					_nav.title.eq(0).trigger('click');
				}

				var _setSelected = $('> .com__nav-dd-set.set-active', _nav.parent).eq(0);
				if(_setSelected.length == 1) {
					_nav.open(_setSelected);
				}
			},
			defaults: function() {
				_nav.parent = opt.target;
				if(opt.initMode) {
					_nav.initMode = opt.initMode;
				}
				var _attrInitMode = $(_nav.parent).attr('init-mode');
				if(_attrInitMode) {
					_nav.initMode = _attrInitMode;
				}

				if(opt.closeOthers == false) {
					_nav.closeOthers = false;
				}
				var _attrCloseOthers = $(_nav.parent).attr('close-others');
				if(_attrCloseOthers == 'false') {
					_nav.closeOthers = false;
				}
				_nav.set = $('> .com__nav-dd-set', _nav.parent);
				_nav.title = $('> .com__nav-dd-title', _nav.set);
				_nav.input = $('input[name="leftnav"]').val();
			},
			close: function(set) {
				$(set).removeClass('set-active');
				$('> .com__nav-dd-main', set).slideUp(200);
			},
			open: function(set) {
				if(_nav.closeOthers) {
					var _set = $('> .com__nav-dd-set', _nav.parent);
					_set.removeClass('set-active');
					$('> .com__nav-dd-main', _set).slideUp(200);
				}

				$(set).addClass('set-active');
				$('> .com__nav-dd-main', set).slideDown(200);
			}
		}
		try {
			_nav.init();
		}
		catch(error) {
			console.error('leftNavDD error:',error.message);
		}
	},

	leftNavComponent: function(opt) {
		var _leftnav = {
			leftNavIdentifier: '',
			leftNavContent: '',
			defaults: function() {
				_leftnav.leftNavContent = $('#left-nav-content');
				_leftnav.leftNavIdentifier = $('#left-nav-identifier');
			},
			merge: function() {
				if(_leftnav.leftNavIdentifier.length > 0 && _leftnav.leftNavContent.length > 0) {
					_leftnav.leftNavContent.find('.container').each(function() {
						$(this).removeClass('container');
					})
					$clone = _leftnav.leftNavContent.clone(true, true);
					_leftnav.leftNavIdentifier.wrap($clone);
					_leftnav.leftNavContent.remove();
				}
			},
			init: function() {
				_leftnav.defaults();
				_leftnav.merge();
			}
		};
		try {
			_leftnav.init();
		}
		catch(error) {
			console.error('leftNavComponent error:',error.message);
		}
	},
	linkFilter: function() {
		try {
			if(VietinBank.isAndroid) {
				$('a[android-url]').each(function() {
					var _this = $(this),
					_link = _this.attr('android-url');

					_this.attr('href', _link);
				});
			}

			if(VietinBank.isiOS) {
				$('a[ios-url]').each(function() {
					var _this = $(this),
					_link = _this.attr('ios-url');

					_this.attr('href', _link);
				});
			}

			$('.mobile-app-download').each(function() {
				var _this = $(this);

				if(VietinBank.isAndroid) {
					var _link = _this.attr('android-url');
					$('a', _this).attr('href', _link);
				}

				if(VietinBank.isiOS) {
					var _link = _this.attr('ios-url');
					$('a', _this).attr('href', _link);
				}
			});
		}
		catch(error) {
			console.error('linkFilter error:',error.message);
		}
	},
	loadmore: function() {
		var _merchantpromotions = {
			target: '.com__merchant_promotions',
			parent: null,
			item: '.merchant-item',
			button: '.com__merchant_promotions__loadmore--button',
			content: '.com__merchant_promotions__loadmore--content',
			always: '.com__merchant_promotions__loadmore--always',
			init: function() {
				$(_merchantpromotions.target).each(function(index) {
					_merchantpromotions.parent = $(this);
					_merchantpromotions.click(_merchantpromotions.parent);
					if($(_merchantpromotions.content,_merchantpromotions.parent).not('a').length == 0) {
						$(_merchantpromotions.button, _merchantpromotions.parent).click();
					}
					else {
						_merchantpromotions.resize(_merchantpromotions.parent);				
					}
				})
			},
			resize: function(parent) {
				VietinBank.enquire({
					between: 767,
					desktop: function() {
						$(_merchantpromotions.content, parent).each(function() {
							$(this).hide();
						})
						$(_merchantpromotions.button, parent).show();
					},
					mobile: function() {
						$(_merchantpromotions.content, parent).each(function() {
							$(this).show();
						})
						$(_merchantpromotions.button, parent).hide();
					}
				});
			},
			click: function(parent) {
				$(_merchantpromotions.button, parent).click(function(e) {
					e.preventDefault();
					$(_merchantpromotions.content, parent).each(function() {
						$(this).slideDown().removeClass('com__merchant_promotions__loadmore--content');
					})
					if($(this).siblings('a.button').length == 0) {
						$(this).parents('.com__merchant_promotions').addClass('row-count-1-fixed');
						$(this).parent().remove();
					}
					$(this).remove();
					VietinBank.resize();
				})
			}
		}
		try {
			_merchantpromotions.init();
		}
		catch(error) {
			console.error('loadmore merchantpromotions error:', error.message);
		}

		var _merchantpartners = {
			button: '.com__merchant_partners__loadmore--button',
			content: '.com__merchant_partners__loadmore--content',
			init: function() {
				_merchantpartners.click();
				$(_merchantpartners.content).slideUp();
			},
			click: function() {
				$(_merchantpartners.button).click(function(e) {
					e.preventDefault();
					$(this).toggleClass('expanded');
					$(_merchantpartners.content).slideToggle();
				})
			}
		}
		try {
			_merchantpartners.init();
		}
		catch(error) {
			console.error('loadmore merchantpartners error:', error.message);
		}

		var _generalloadmore = {
			button: '.general__loadmore--button',
			parent: '',
			content: '.general__loadmore--content',
			init: function() {
				_generalloadmore.parent = $(_generalloadmore.button).parents('.module');
				if(_generalloadmore.parent.length == 1) {
					_generalloadmore.parent = _generalloadmore.parent[0];
					_generalloadmore.click();
					$(_generalloadmore.content, _generalloadmore.parent).slideUp();
				}
			},
			click: function() {
				$(_generalloadmore.button, _generalloadmore.parent).click(function(e) {
					e.preventDefault();
					$(this).parent().remove();
					$(_generalloadmore.content, _generalloadmore.parent).slideToggle();
				})
			}
		}
		try {
			_generalloadmore.init();
		}
		catch(error) {
			console.error('loadmore generalloadmore error:', error.message);

		}
	},	
loans: function () {
  var loansInit = function() {
    $('.custom__calculator-loan').each(function() {
      var elem = $(this);
      elem.find('input[name="car_cost"]').on('blur', function(e) {
        var inputElem = $(this);
        if (!e.target.value) {
          inputElem.parents('.material-form-control').addClass('filled has-error');
        }
        else {
          inputElem.parents('.material-form-control').removeClass('filled has-error'); 
        }
      });
    });
  }
  var calculateTeaserListWidth = function() {
    $('.container .feature__list').each(function() {
      var teaserListElem = $(this);
      if (teaserListElem.hasClass('feature__list--right-thumbnail')) {
        if (window.innerWidth > 960) {
          var parentElem = teaserListElem.parents('.container');
          //unable to use window.innerWidth - to exclude scrollBar
          var spacing = ($(window).width() - parentElem.width())/2;
          if (spacing > 100) {
            spacing = 100;
          }
          teaserListElem.width(parentElem.width() + spacing);
        }
        else {
          teaserListElem.css('width', '');
        }
      }
    });
  }
  try {
    loansInit();
    calculateTeaserListWidth();
  }
  catch(error) {
    console.error('loans init error:',error.message);
  }
  $(window).resize(function() {
    try {
      calculateTeaserListWidth();
    }
    catch(error) {
      console.error('loans resize error:',error.message);
    }
  });
},
	filterGroup: function(opt) {
		var _filter = {
			parent: '',
			checkboxes: '',
			list: [],
			init: function() {
				_filter.parent = document.querySelector(opt.target);
				_filter.checkboxes = _filter.parent.querySelectorAll('input[type="checkbox"]');
				_filter.newlist;

				for (var i = 0; i < _filter.checkboxes.length; i++) {
					var _checkbox = _filter.checkboxes[i],
					_state = 0;
					if(_checkbox.checked) {
						_state = 1;
					}

					// record the original state of checkbox
					_filter.list.push(_state);

					//set each node index
					_checkbox.setAttribute("indexnumber",i);

					//clone old array for update
					_filter.newlist = VietinBank.from(_filter.list);

					// validate upon change
					_checkbox.addEventListener('change', function() {
						var _this = this,
						indexThis = _this.getAttribute("indexnumber");

						if( _filter.newlist[indexThis] == 0) {
							_filter.newlist[indexThis] = 1;
							_filter.validate(_filter.parent, _filter.newlist);

						} else if ( _filter.newlist[indexThis] == 1) {
							_filter.newlist[indexThis] = 0;
							_filter.validate(_filter.parent, _filter.newlist);
						}

					});
				}


				// push new array into last array after clicking filter
				$('.com__lu-btn', '#locator-atm').on('click', function(){
					_filter.list = VietinBank.from(_filter.newlist);

				});
				$('.com__lu-btn', '#locator-branches').on('click', function(){
					_filter.list = VietinBank.from(_filter.newlist);

				});

				// validate upon page load
				_filter.validate(_filter.parent);
			},
			validate: function() {
				var _changed = false,
				_checked = false,
				_button = _filter.parent.querySelector('.com__lu-btn');
				for (var i = 0; i < _filter.checkboxes.length; i++) {
					var _checkbox = _filter.checkboxes[i],
					_state = 0;

					if(_checkbox.checked) {
						_state = 1;
						_checked = true;
					}

					var comparator = _filter.arrayCompare(_filter.newlist[i], _filter.list[i])
					if(comparator > 0){
						_changed = true;
					}

				}

				if(_changed && _checked) {
					_button.classList.remove('button-inactive');

				} else {
					_button.classList.add('button-inactive');
				}
			},
			arrayCompare: function(newlistArr, listArr){
				var counter = 0;
				if(newlistArr !== listArr){
					counter++;
					return counter;
				} 
			}
		}
		try {
			_filter.init();
		}
		catch(error) {
			console.error('filterGroup error:',error.message);
		}
	},
	mapLocator: function(opt) {
		var _locator = {
			parent: '',
			boxPreviewState: false,
			boxPreview: '',
			boxPreviewContent: '',
			boxPreviewContentParent: '',
			boxList: '',
			boxMap: '',
			popupState: false,
			popupTemp: '',
			popupContent: '',
			popupContentParent: '',
			init: function(elem, bool) {
				bool = typeof bool != 'undefined' ? bool : true;
				_locator.defaults(elem);

				$('.com__ll-set').on('click', function() {
					var _this = $(this),
					_details = $('.com__ls-details', _this);
					_locator.showPreview({
						content: _details
					});
				});

				$('.com__ld-back').on('click', function(e) {
					e.preventDefault();
					_locator.hidePreview();
				});

				// for mobile filter
				$('.com__lu-fltr').off('click').on('click', function(e) {
					e.preventDefault();
					var _target = $(this).attr('href');
					_locator.popupShow({
						target: _target
					});
				});

				$('.com__tab .com__tab-nav a', _locator.parent).on('click', function() {
					if(_locator.boxPreviewState) {
						_locator.hidePreview();
					}
				});
				$('.com__lu-btn', _locator.parent).on('click', function(e) {
					e.preventDefault();
					if(window.innerWidth < 768) {
						_locator.popupClose();
					}
				});
				if(bool) {
					VietinBank.enquire({
						desktop: function() {
							// close the popup filter if active
							if(_locator.popupState) {
								_locator.popupClose({
									speed: 0
								});
							}

							// for desktop | move the map to main
							$('.com__lu-box.box-map', _locator.parent).append(_locator.boxMap);

							// for desktop | move the search container to tabs
							$('.com__lu-desktop', _locator.parent).append($('.com__lu-form.form-search', _locator.parent));
						},
						mobile: function() {
							// for mobile | move the map to preview area
							$('.com__lb-de-col.col-details', _locator.parent).prepend(_locator.boxMap);

							// for mobile | move the search container outside tabs
							$('.com__lu-mobile', _locator.parent).append($('.com__lu-form.form-search', _locator.parent));
						}
					});

					
					// when resize
					window.addEventListener('resize', function() {
						_locator.resize();
						clearTimeout(_locator.resizeTimer);
						_locator.resizeTimer = setTimeout(function() {
							_locator.resize();
						}, 500);
					});
				}
			},
			defaults: function(elem) {
				_locator.parent = $(elem);
				_locator.boxPreview = $('.com__lb-de-col.col-details', _locator.parent);
				_locator.boxList = $('.com__lb-de-col.col-list', _locator.parent);

				// target the map container
				_locator.boxMap = document.querySelector('#locator-map');
			},
			showPreview: function(prevOpt) {
				if(_locator.boxPreviewState) {
					$(_locator.boxPreviewContentParent).append(_locator.boxPreviewContent);
					_locator.boxPreviewContent = prevOpt.content;
					_locator.boxPreviewContentParent = $(_locator.boxPreviewContent).parent();
					_locator.boxPreview.append(_locator.boxPreviewContent);

					if(window.innerWidth < 768) {
						$('.com__lu-box.box-det', _locator.parent).removeAttr('style');
						var _height = $('.com__lb-de-col.col-details', _locator.parent).outerHeight();
						$('.com__lu-box.box-det', _locator.parent).css({maxHeight: _height});
					}
				} else {
					_locator.boxPreviewState = true;

					_locator.boxPreviewContent = prevOpt.content;
					_locator.boxPreviewContentParent = $(_locator.boxPreviewContent).parent();

					_locator.boxPreview.show();
					_locator.boxPreview.append(_locator.boxPreviewContent);
					var _parentWidth = _locator.boxPreview.parent().outerWidth();
					TweenMax.fromTo(_locator.boxPreview, 0.3, {opacity: 1, x: _parentWidth}, {opacity: 1, x: 0, onComplete: function() {
						if(window.innerWidth < 768) {
							var _height = $('.com__lb-de-col.col-details', _locator.parent).outerHeight();
							$('.com__lu-box.box-det', _locator.parent).css({maxHeight: _height});
						}
					}});

					var _opacity = 1;
					if(window.innerWidth < 768){
						_opacity = 0;
					}
					TweenMax.to(_locator.boxList, 0.3, {opacity: _opacity, x: -30});
				}
			},
			hidePreview: function() {
				_locator.boxPreviewState = false;

				var _parentWidth = _locator.boxPreview.parent().outerWidth();
				TweenMax.to(_locator.boxPreview, 0.3, {x: _parentWidth, onComplete: function() {
					$(_locator.boxPreviewContentParent).append(_locator.boxPreviewContent);
					_locator.boxPreview.hide();
					
					$('.com__lu-box.box-det', _locator.parent).removeAttr('style');
				}});
				TweenMax.to(_locator.boxList, 0.3, {opacity: 1, x: 0});
			},
			popupShow: function(popupOpt) {
				_locator.popupState =  true;

				// target the contents
				_locator.popupContent = document.querySelector(popupOpt.target);
				_locator.popupContentParent = _locator.popupContent.parentElement;

				// create popup
				_locator.popupTemp = document.createElement('div');
				_locator.popupTemp.classList.add('com__lu-popup');

				// create close button
				var _closeBtn = document.createElement('div');
				_closeBtn.classList.add('com__lp-close');
				_locator.popupTemp.appendChild(_closeBtn);
				TweenMax.set(_closeBtn, {opacity: 0});

				// append the popup
				document.body.appendChild(_locator.popupTemp);
				_locator.popupTemp.appendChild(_locator.popupContent);

				// show the popup
				VietinBank.bodystopscroll(true, '.com__lu-popup');
				TweenMax.fromTo(_locator.popupTemp, 0.3, {y: window.innerHeight}, {y: 0, onComplete: function() {
					TweenMax.fromTo(_closeBtn, 0.3, {opacity: 0, scale: 0.5}, {opacity: 1, scale: 1});
				}});

				// when clicking close button
				_closeBtn.addEventListener('click', function(e) {
					e.preventDefault();
					_locator.popupClose();
				});
			},
			popupClose: function(popupOpt) {
				if(_locator.popupState) {
					_locator.popupState = false;

					var _animSpeed = 0.3;
					if(popupOpt) {
						_animSpeed = popupOpt.speed;
					}

					// hide the popup
					TweenMax.to(_locator.popupTemp, _animSpeed, {y: window.innerHeight, onComplete: function() {
						VietinBank.bodystopscroll(false, '.com__lu-popup');
						// return back the appended content
						_locator.popupContentParent.appendChild(_locator.popupContent);
						_locator.popupTemp.remove();
					}});
				}
			},
			resizeTimer: 0,
			resize: function() {
				if(_locator.boxPreviewState) {
					if(window.innerWidth < 768) {
						$('.com__lu-box.box-det', _locator.parent).removeAttr('style');
						var _height = $('.com__lb-de-col.col-details', _locator.parent).outerHeight();
						$('.com__lu-box.box-det', _locator.parent).css({maxHeight: _height});
					}
				}
			}
		}
		try {
			if(typeof opt === 'object') {
				switch(opt.type) {
					case 'preview':
						_locator.defaults($('.com__lo-us-locator'));
						_locator.showPreview({
							content: opt.content
						});
						break;
					case 'reinit':
						$('.com__lo-us-locator').each(function() {
							_locator.init(this);
						})
						break;
					default:
						//
				}
			}
			else {
				$('.com__lo-us-locator').each(function() {
					_locator.init(this);
				})
			}
		}
		catch(error) {
			console.error('mapLocator error:',error.message);
		}
	},
	homeSearch: function(opt) {
		var _home = {
			type: '',
			search: '',
			form: '',
			button: '',
			init: function(elem) {
				if(elem.length > 0) {
					_home.button = elem;
					_home.form = _home.button.parents('form');
					_home.button.click(function(e) {
						e.preventDefault();
						_home.submit();
					});
				}
			},
			submit: function() {
				_home.search = $('input[name="search"]', _home.form);
				_home.type = $('.com__button-switcher ul.styled-nav li.selected').data('value');
				$('input#search-category').val(_home.type);
				_home.form.submit();
			}
		};
		try {
			_home.init($('#search-button'));
		}
		catch(error) {
			console.error('homeSearch error:',error.message);
		}
	},
    masthead: function() {
        var timeout = null;
        try {
            $('.parent__masthead').each(function() {
                var mastheadElem = $(this);
                var promotionElem = mastheadElem.find('.promotion__container');

                if (!promotionElem || !promotionElem.length) return;
                onscroll(mastheadElem,promotionElem);
                $(window).on('scroll', function() {
                    onscroll(mastheadElem,promotionElem)
                });
            });
        }
        catch(error) {
            console.error('masthead init error:',error.message);
        }
        function onscroll(mastheadElem,promotionElem) {
            var mastheadTop = mastheadElem.offset().top;
            var mastheadBottom = mastheadTop + mastheadElem.outerHeight();
            var toTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
            var screenBottom = toTop + window.innerHeight;

            // if (screenBottom > mastheadTop) {
            //   promotionElem.addClass('at-top');
            // }
            // if (toTop >  mastheadBottom) {
            //   promotionElem.addClass('at-bottom');
            // }

            if (screenBottom > mastheadTop && screenBottom <= mastheadBottom && screenBottom > mastheadTop + promotionElem.outerHeight()) {
                if(timeout != null) {
                    clearTimeout(timeout);
                }
                promotionElem.addClass('fixed').addClass('visible');
            } else {
                promotionElem.removeClass('visible')
                if(timeout == null) {
                    timeout = setTimeout(function() {
                        promotionElem.removeClass('fixed');
                    }, 500);
                }
            }
        }
    },
	navscroller: function(opt) {
		var _nav = {
			target: '',
			lastID: '',
			offsetTarget: 0,
			offsetTop: 0,
			gutter: 0,
			items: '',
			scrollitem: 0,
			curitem: '',
			curID: '',
			ids: [],
			init: function() {
				_nav.target = opt.target;

				if(opt.offset) {
					_nav.offsetTarget = opt.offset;
				}

				if(opt.gutter) {
					_nav.gutter = opt.gutter;
				}

				_nav.items = $(_nav.target).find('a:not([data-fancybox])');

				$('a', _nav.target).each(function() {
					if($(this).attr('href')) {
						_nav.ids.push($(this).attr('href'));
					}
				});

				$('[auto-scrolling]').each(function() {
					if($(this).attr('href')) {
						_nav.ids.push($(this).attr('href'));
					}
				});

				_nav.scrollitem = _nav.items.map(function() {
					try {
						var _item = $($(this).attr("href"));
				  		if (_item.length) {return _item;}
					}
					catch(error) {
						console.error('navscroller scrollitem error:',error.message);
					}
				});

				_nav.offsetTop = $(_nav.offsetTarget).outerHeight() + _nav.gutter;

				$(_nav.items).click(function(e) {
					e.preventDefault();
					_nav.scrollto($(this).attr('href'));
				});
				_nav.scroll($(window));
				window.addEventListener('scroll', function() {
					_nav.scroll(this);
				});

				$('[auto-scrolling]').click(function(e) {
					e.preventDefault();
					var _href = $(this).attr('href');
					if(_href) {
						_nav.scrollto(_href);
					}
				});

				if($.inArray(VietinBank.hash, _nav.ids) >= 0) {
					$(document).ready(function() {
						setTimeout(function() {
							_nav.scrollto(VietinBank.hash);
						}, 1200);
					});
				}
			},
			hide: function() {
				if(!$(_nav.offsetTarget).hasClass('navigation__product-anchor--hidden')) {
					$(_nav.offsetTarget).slideUp(300, function() {
						$(this).addClass('navigation__product-anchor--hidden');
					});
				}
			},
			show: function() {
				if($(_nav.offsetTarget).hasClass('navigation__product-anchor--hidden')) {
					$(_nav.offsetTarget).slideDown(300, function() {
						$(this).removeClass('navigation__product-anchor--hidden');
					});
				}
			},
			parent: VietinBank.debouncev2(function(id) {
				if(id && id.length > 0) {
					var parent = $('#'+id).parents('#main-wrapper');
					// get the offset of the last section
					var _lastOffset = 0;
					var _lastOff = 0;
					for (var i = 0; i < _nav.items.length; i++) {
						if($(_nav.items[i]).attr('href') !== '#' && typeof $(_nav.items[i]).attr('href') !== 'undefined' && $(_nav.items[i]).attr('href').length !== 0) {
							var _section = document.querySelector($(_nav.items[i]).attr('href'));
							if(_section) {
								_lastOff = _section.offsetTop + ($(_section).outerHeight()/0.33);
								if(_lastOff > _lastOffset) {
									_lastOffset = _lastOff;
								}
								// _lastOffset = _section.offsetTop + ($(_section).outerHeight() - (parseInt($(_section).css('padding-bottom')) * 3));
							}
						}
					}

					if(parent.length) {
						var st = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
						if(st > parent.offset().top && st < (parent.offset().top + parent.outerHeight())) {
							if(_lastOffset < st) {
								_nav.hide();
							} else {
								_nav.show();
							}
						} else {
							_nav.hide();
						}
					}
					else {
						_nav.hide();
					}
				}	
			}, 50, {
				leading: true,
				trailing: true,
			}),
			scroll: function(target) {
				_nav.offsetTop = $(_nav.offsetTarget).outerHeight() + _nav.gutter;
				_nav.curitem = _nav.scrollitem.map(function(){
					if (VietinBank.checkVisible($(this), 'visible', $('header').outerHeight() + _nav.gutter)) {
						return this;						
					}
				});
				_nav.curitem = _nav.curitem.length && _nav.curitem[0];
				_nav.curID = _nav.curitem && _nav.curitem.length ? _nav.curitem[0].id : '';
			   	if (_nav.lastID !== _nav.curID) {
		       		_nav.lastID = _nav.curID;
		       		$(_nav.items).parent().not('.action-button').removeClass('active');
		       		$(_nav.items).filter('[href="#'+_nav.curID+'"]').parent().not('.action-button').addClass('active');
			   	}
			 	_nav.parent(_nav.lastID);
			},
			scrollto: function(target) {
				if($(target).length == 1) {

					// default offset
					_nav.offsetTop = $(_nav.offsetTarget).outerHeight() + _nav.gutter;
          			var st = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
					// change the offset if going up
					if($(target).offset().top < st + 10) {
						_nav.offsetTop = $('header').outerHeight() + _nav.gutter;
					}
					$('body, html').animate({scrollTop: $(target).offset().top -(_nav.offsetTop - 1)}, 500);
				}
			}
		}
		try {
			_nav.init();
		}
		catch(error) {
			console.error('navscroller error:',error);
		}
	},
notification: function(option) {
	var _notification = {
		truncate: function(target, count) {
			if(target.hasClass('truncated')) {
				return;
			}
			var grabText = '',
      		missCount = count;
		  	target.contents().each(function() {
			    switch (this.nodeType) {
			      case Node.TEXT_NODE:
			        // Get node text, limited to missCount.
			        grabText += this.data.substr(0,missCount);
			        missCount -= Math.min(this.data.length, missCount);
			        break;
			      case Node.ELEMENT_NODE:
			        // Explore current child:
			        var childPart = _notification.truncate($(this), missCount);
			        if(childPart.text.indexOf('<br></br>') == -1) {
			        	grabText += childPart.text;
			        }
			        else {
			        	grabText += ' ';
			        }
			        missCount -= childPart.count;
			        break;
			    }
			    if (missCount === 0) {
			      // We got text enough, stop looping.
			      return false;
			    }
		  	});
		  	return ({
			    text:
			      // Wrap text using current elem tag.
			      target[0].outerHTML.match(/^<[^>]+>/m)[0]
			      + grabText
			      + '</' + target[0].localName + '>',
			    count: count - missCount
			});
		},
		header: function() {
    		var body = $('body');
			if(VietinBank.width < 768) {
				var header = $('header .header__logo');				
			}
			else {
				var header = $('header .header__main');				
			}
			var elements = $('header .com__notification');
			var notification_height = _notification.height(elements);
			var campaign = body.hasClass('page-campaign');
    		var oldfooter = body.hasClass('page-old-footer');
      		VietinBank.headerHeight = (campaign) ? 0 : (header.outerHeight() + (notification_height));
			$('#main-wrapper').css({ paddingTop: VietinBank.headerHeight });					
		},
		height: function(target) {
			var notification_height = 0;
			target.each(function() {
				notification_height += $(this).outerHeight();
			})
			return notification_height;
		},
		resize: function(target) {
			if(VietinBank.width < 768) {
				var $count = 190;
				if(VietinBank.width <= 400) {
					$count = 80;
				}
				else if(VietinBank.width <= 500) {
					$count = 120;
				}
				else if(VietinBank.width <= 600) {
					$count = 150;
				}
				else {
					$count = 190;
				}
				var result = _notification.truncate($('.com__notification-description a', target), $count);
				if(result) {
					var tag = 'notification__raw--'+ new Date().valueOf();
					$('body').append('<div id="'+tag+'" style="display: none;">'+$('.com__notification-description a', target).html()+'</div>');
					$('.com__notification-description a', target).addClass('truncated').attr('notification-raw', tag).html($(result.text).html()).parent().append('<span class="truncated-dots">...</span>');
				}
				// $('.com__notification-description', target).click(function() {
				// 	var _this = this;
				// 	console.log(_this);
				// 	if(!$(_this).hasClass('active')) {
				// 		TweenMax.to($(_this), 0.3, {
				// 			height: '100%',
				// 			onComplete: function() {
				// 				$(_this).addClass('active');
				// 			}
				// 		});
				// 	}
				// })
			}
			else {
				var tag = $('.com__notification-description a', target).attr('notification-raw');
				if(tag) {
					$('.com__notification-description a', target).html($('#'+tag).html());
					$('.com__notification-description a', target).removeAttr('notification-raw');
					$('.com__notification-description a', target).parent().find('.truncated-dots').remove();
				}
			}
			_notification.header();
		},
		once: function() {
			
		},
		init: function(target) {
			$('.com__notification-close', target).click(function() {
				$(target).slideUp(300, function() {
					$(this).remove();
					_notification.header();
				})
			})
			setTimeout(function() {
				$(target).slideDown(300, function() {
					_notification.header();
				});
			}, 300);
			_notification.resize(target);
			$(window).resize(VietinBank.debouncev2(function() {
				_notification.resize(target);
			}, 1000, {
				leading: false,
				trailing: true
			}));
		}
	}	
	try {
		if(typeof option == 'object') {
		    switch(option.action) {
		      case 'get-height':
		          return _notification.height($('header .com__notification'));
		          break;
		      default: 
		          $('.com__notification').each(function() {
								_notification.init(this);		
							})
		    }
		}
		else {
		  	$('.com__notification').each(function() {
					_notification.init(this);		
				})
		}
	}
	catch(error) {
		console.error('notification error:',error.message);
	}
},
	onlineBankingCarousel: function(opt) {
		var _carousel = {
			target: '',
			type: '',
			main: '',
			nav: '',
			navItem: '',
			init: function() {
				_carousel.target = opt.target;
				_carousel.type = opt.type;
				_carousel.main = $('.com__onlinebanking_whatsnewfeature-slider', _carousel.target);
				_carousel.nav = $('.com__onlinebanking_whatsnewfeature-carousel-nav', _carousel.target);
				_carousel.navItem = $('.com__onlinebanking_whatsnewfeature-nav', _carousel.target);

				$('.com__onlinebanking_whatsnewfeature-nav a', _carousel.target).click(function(e) {
					e.preventDefault();
				});

				// if carousel is normal version, it is only slider on mobile
				if(_carousel.type == 'normal') {
					VietinBank.enquire({
						between: 767,
						desktop: function() {
							// disable the main slider for desktop
							$(_carousel.main).owlCarousel('destroy');

							// disable the nav slider for desktop
							$('.owl-carousel', _carousel.nav).owlCarousel('destroy');

							// turn off the trigger
							_carousel.triggers('off');

							// show all the icons since slider is disabled on desktop
							$(_carousel.navItem).addClass('active');
						},
						mobile: function() {
							// enable the nav slider for mobile
							_carousel.navSlider();

							// enable the main slider for mobile
							_carousel.mainSlider();

							// turn on the triggers
							_carousel.triggers();
						}
					});
				}

				// if carousel is extended version, it should work in both desktop and mobile
				if(_carousel.type == 'extended') {
					VietinBank.enquire({
						between: 767,
						desktop: function() {
							// disable the nav slider for desktop
							$('.owl-carousel', _carousel.nav).owlCarousel('destroy');
						},
						mobile: function() {
							// enable the nav slider for mobile
							_carousel.navSlider();
						}
					});

					// initialize carousel
					_carousel.mainSlider();
					_carousel.triggers();
		        }
			},
			triggers: function(opt) {
				if(opt == 'off') {
					$('.owl-item', _carousel.main).removeAttr('data-position');
		            $('a', _carousel.navItem).removeAttr('data-position');
		            $('a', _carousel.navItem).off('click', _carousel.update);
		            $('.com__onlinebanking_whatsnewfeature-images', _carousel.main).off('click', _carousel.update);
				} else {
					// assign data-position for each item
		            for (var i = 0; i < $('.owl-item', _carousel.main).length; i++) {
		            	$('.owl-item', _carousel.main).eq(i).attr('data-position', i);
		            	$('a', _carousel.navItem).eq(i).attr('data-position', i);
		            }

		            // when clicking the nav
		            $('a', _carousel.navItem).on('click', _carousel.update);
		            // when clicking the main pictures
		            $('.com__onlinebanking_whatsnewfeature-images', _carousel.main).on('click', _carousel.update);
				}
			},
			update: function(e) {
				e.preventDefault();
				var _dataPosition = $(e.currentTarget).attr('data-position'),
				_curTarget = $(event.currentTarget).closest('.owl-item');;

				if (typeof _dataPosition !== typeof undefined && _dataPosition !== false) {
	              _curTarget = $(event.currentTarget);
	            }

	            // move the main slider
	            $('.owl-item', _carousel.main).trigger('to.owl.carousel', Math.max(0, _curTarget.attr('data-position')));

	            // move the nav slider
            	$('.owl-item', _carousel.navItem).trigger('to.owl.carousel', Math.max(0, _curTarget.attr('data-position') - 1));
			},
			mainSlider: function() {
				$(_carousel.main).owlCarousel({
	                items: 3,
	                dots: false,
	                nav: true,
	                margin: 0,
	                stagePadding: 0,
	                margin: 0,
	                slideBy: 1,
	                autoWidth: false,
	                center: true,
	                responsive: {
	                    768: {
	                        items: 3,
	                    },
	                    700: {
	                        items: 1,
	                        stagePadding: 180,
	                    },
	                    600: {
	                        items: 1,
	                        stagePadding: 180,
	                    },
	                    576: {
	                        items: 1,
	                        stagePadding: 120,
	                    },
	                    480: {
	                        stagePadding: 90,
	                        items: 1,
	                    },
	                    0: {
	                        items: 1,
	                        stagePadding: 40,
	                    }
	                },
	                onChanged: function(e) {
	                	$(_carousel.navItem).removeClass('active');
	                	$(_carousel.navItem).eq(e.item.index).addClass('active');
	                	$('.owl-item', _carousel.target).trigger('to.owl.carousel', Math.max(0, (e.item.index)));
	                }
	            });
			},
			navSlider: function() {
				var _index = parseInt($('.owl-item.active', _carousel.main).attr('data-position'));

				$('.owl-carousel', _carousel.nav).owlCarousel({
                    items: 3,
                    dots: false,
                    nav: false,
                    stagePadding: 30,
                    margin: 30,
                    slideBy: 1,
                    autoWidth: false,
                    startPosition: _index,
                    responsive: {
                        700: {
                            items: 5,
                            stagePadding: 60,
                        },
                        480: {
                            items: 5,
                            stagePadding: 35,
                        },
                        380: {
                            items: 3,
                            stagePadding: 40,
                        },
                        0: {
                            items: 3,
                            stagePadding: 40,
                        }
                    }
                });
			}
		}
		try {
			_carousel.init();
		}
		catch(error) {
			console.error('onlineBankingCarousel error:',error.message);
		}
	},
	onlineBankingListInternetBanking: function() {
		var sliderClassName = '.oblib-slider',
			sliderClass = $(sliderClassName);
		try {
			if(sliderClass.length){
				sliderClass.owlCarousel({
				    center: true,
				    loop:true,
				    items:1,
				    autoplay: true,
				    autoplayTimeout: 4000,
				    autoplaySpeed: 1000,
				    slideTransition:'linear',
				    responsive:{
				    	0: {
				    		margin:30,
				    	},
				        768:{
				            margin:60,
				        }
				    }
				});

				sliderClass.on('changed.owl.carousel', function(e){
					sliderClass.trigger('stop.owl.autoplay');
	        		sliderClass.trigger('play.owl.autoplay');
				});
			}
		}
		catch(error) {
			console.error('onlineBankingListInternetBanking error:',error.message);
		}
	},
	packages: function() {
		try {
			$('.table__comparison-1').each(function(index) {
				var parentClass = $(this),
				sliderWrapper = $('.table__comparison-1-wrapper',parentClass),
				fixTitle = $('.graph-title',parentClass),
				graphTitle = $('.table__comparison-content .title-list',parentClass),
				fixNav = $('.graph-carousel-nav',parentClass),
				titleOffset = graphTitle.offset().top - $('header').height();
				var slideId = 'table__comparison-'+index+'-wrapper';
				sliderWrapper.attr('id', slideId);
				VietinBank.enquire({
					desktop: function() {
						VietinBank.graphcarousel({
							target: '#'+slideId,
							destroy: true
						});
					},
					mobile: function() {
						VietinBank.graphcarousel({
							target: '#'+slideId,
							items: 1,
							navLeft:false,
							onInitialize: function(event) {
								if($('.sub-title').length){
									$('.sub-title .sub-title-item').removeClass('active');
									$('.sub-title .sub-title-item').eq(event.currentslide).addClass('active');
								}
							},
							onChange: function(event) {
								if($('.sub-title').length){
									$('.sub-title .sub-title-item').removeClass('active');
									$('.sub-title .sub-title-item').eq(event.currentslide).addClass('active');
								}
							}
						});
					}
				});

				$(window).scroll(function() {
					var titleOffset = graphTitle.offset().top - $('header').height();
					if(titleOffset <= $(this).scrollTop() && $(this).scrollTop() < (sliderWrapper.offset().top + sliderWrapper.height()) && sliderWrapper.hasClass('com_graph-carousel')) {
						graphTitle.css('opacity','0');
						fixTitle.addClass('fix-top');
						if($('body').hasClass('menu-shown')){
							fixTitle.css('top',$('header').height());
						}else{
							fixTitle.css('top',0);
						}
						
						$('.graph-carousel-nav',parentClass).addClass('g-fix-nav').css('top',$('header').height() + 162);
					}else{
						graphTitle.css('opacity','1');
						fixTitle.removeClass('fix-top');
						
						$('.graph-carousel-nav',parentClass).removeClass('g-fix-nav').css('top','50%');
					}

					//hide side nav if scroll is pass content
					// console.log(sliderWrapper.height());
					if($(this).scrollTop() > (sliderWrapper.offset().top + sliderWrapper.height() * 3/4 - $('header').height())){
						$('.graph-carousel-nav',parentClass).css('opacity',0);
					}else{
						$('.graph-carousel-nav',parentClass).css('opacity',1);
					}
				});

				$('.w-r-m-btn').on('click', function() {
					var currentWrapper = $(this).closest('.g-r-list-wrapper.w-r-more');
					if(!$(this).hasClass('active')){
						$(this).removeClass('active').addClass('active');
						currentWrapper.addClass('active');
						currentWrapper.css('height',$('.g-r-list',currentWrapper).attr('data-height'));
					}else{
						$(this).removeClass('active');
						currentWrapper.removeClass('active');
						currentWrapper.css('height',300);
					}
				});
				function addReadMore() {
					if(sliderWrapper.hasClass('com_graph-carousel')){
						clearAddmore();
						var wrapper = $('.g-r-list-wrapper'),
						wrapperHeight = wrapper.outerHeight(),
						grl_count = wrapper.length;
						
						for(var x = 0; x < grl_count; x++){
							if($('.g-r-list').eq(x).outerHeight() > 300){
								$('.g-r-list-wrapper').eq(x).addClass('w-r-more');
								$('.g-r-list').eq(x).attr('data-height',$('.g-r-list').eq(x).outerHeight() + 20);
							}else{
								$('.g-r-list-wrapper').eq(x).removeClass('w-r-more');
							}
						}
					}
				}
				function clearAddmore(){
					$('.g-r-list-wrapper').attr('style','');
					$('.g-r-list-wrapper').removeClass('active');
					$('.g-r-list-wrapper').removeClass('w-r-more');
					$('.w-r-m-btn').removeClass('active');
					$('.g-r-list').removeAttr('data-height');
				}
				setTimeout(function() {
					addReadMore();
				});
				$(window).resize(function() {
					setTimeout(function() {
						addReadMore();
					});
				});
			})
		}
		catch(error) {
			console.error('packages error:',error.message);
		}	
	},	

page404: function() {
	var parentClass = $('.not-found-page-banner');
	var itemWrapper = $('.n-f-p-b-item',parentClass);
	var itemTextWrapper = $('#nfpb-text-wrapper',parentClass);
	var itemTextButton = $('#nfpb-button',parentClass);
	var itemFootNote = $('#nfpb-foot-note',parentClass);
	var numberOfItem = itemWrapper.length;
	if(parentClass){
		var currentNumber = randomIntFromInterval(0,numberOfItem-1);
		// var storedNumber = sessionStorage.storedNumber;
		
		// if(storedNumber && storedNumber < 3){
		// 	currentNumber = parseInt(storedNumber) + 1;
		// }else if(storedNumber && storedNumber == 3){
		// 	currentNumber = 0;
		// }
		// sessionStorage.storedNumber = currentNumber;

		$(document).ready(function() {
			updatePage();
			$(window).resize(function() {
				updatePage();
			});
		});


		function updatePage() {
			try {
				var parentBg = itemWrapper.eq(currentNumber).attr('data-img');
				var itemColor = itemWrapper.eq(currentNumber).attr('data-color');
				if(VietinBank.width <= 1024){
					parentClass.css('height',parseInt(VietinBank.height - $('header').outerHeight()));
				}else{
					parentClass.css('height',parseInt(VietinBank.height - $('header').outerHeight()));
				}
				if(itemColor == 'co-white'){
					itemTextButton.removeClass('button--grey').addClass('button--white');
					itemFootNote.removeClass('co-grey2').addClass('co-white');
				}else{
					itemTextButton.removeClass('button--white').addClass('button--grey');
					itemFootNote.removeClass('co-white').addClass('co-grey2');
				}

				parentClass.css('background-image','url('+parentBg+')');
				itemTextWrapper.attr('class',itemColor);
			}
			catch(error) {
				console.error('page404 updatePage error:',error.message);
			}
		}

		function randomIntFromInterval(min,max){
		    return Math.floor(Math.random()*(max-min+1)+min);
		}
	}
},
	popup: function(opt) {
		var _popup = {
			init: function() {
				if($('[data-fancybox]').attr('data-fancybox') == 'none') {
					$('[data-fancybox]').attr('data-fancybox', '');
				}
				$('[data-fancybox]').fancybox({
		            btnTpl: {
		                smallBtn: '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">' +
		                    '<i class="fal fa-times"></i>' +
		                    "</button>"
		            },
		            touch: false,
					beforeShow : function( instance, current ) {
						$('header').css('width', "calc(100% - "+$('body').css('margin-right')+")");
					},
					afterClose: function( instance, current) {
						$('header').css('width','100%');
					}
		        });
        		_popup.card();

		        $(document).ready(function() {
		        	_popup.autopopup();
		        });
			},
			reinit: {
				card: function() {
					_popup.card();
					_popup.autopopup();
				}
			},
			autopopup: function() {
				var _auto = {
					ids: [],
					cards: [],
					init: function() {
						$('[data-fancybox]').each(function() {
							if($(this).attr('href')) {
								_auto.ids.push($(this).attr('href'));
							}
						});

						$('[card-popup]').each(function() {
							if($(this).attr('href')) {
								_auto.cards.push($(this).attr('href'));
							}
						});

						if($.inArray(VietinBank.hash, _auto.cards) >= 0) {
							$('a[href="'+VietinBank.hash+'"]').trigger('click');
						}

						if($.inArray(VietinBank.hash, _auto.ids) >= 0) {
							$('a[href="'+VietinBank.hash+'"]').trigger('click');
						}
					}
				}
				_auto.init();
			},
			card: function(option) {
				var _card = {
					state: false,
					target: '',
					parent: '',
					current: '',
					cover: '',
					prevholder: '',
					dist: 'body',
					init: function() {
						$('[card-popup]').off('click');
						$('[card-popup]').click(function(e) {
							e.preventDefault();
							_card.target = $(this).attr('href');
							_card.source = $(this).parents('.merchant-item');
							if(_card.source.length === 0) {
								_card.source = $(this).parents('.section');
							}
							if(_card.source.length === 0) {
								_card.source = $(this).parents('.module');
							}
							if(_card.source.length === 0) {
								_card.source = $(this).parent();
							}

							if($(_card.target).length == 1) {
								_card.open();
							}
						});

						$('[card-popup-close]').off('click');
						$('[card-popup-close]').on('click', function(e) {
							e.preventDefault();
							if(_card.state) {
								_card.close(e);
							}
						});
					},
					open: VietinBank.debouncev2(function() {
						_card.state = true;
						_card.dist = 'body';
						_card.current = document.createElement('div');
						$(_card.current).addClass('ca-li-popup main');


						_card.cover = document.createElement('div');
						$(_card.cover).addClass('ca-li-popup cover');

						_card.parent = $(_card.target).closest('[card-popup-parent]');
						_card.prevholder = $(_card.target).parent();
						_card.prevholder.attr('id',_card.target.replace('#','')+'-placeholder');
						$(_card.current).append(document.querySelector(_card.target));

						// if there is a parent container for the popup
						if($(_card.parent).length != 1) {
							if($('[card-popup-parent]').length == 1) {
								$('[card-popup-parent]').attr('card-popup-parent', 'active');
								_card.dist = $('[card-popup-parent]');
								// $('body').addClass("popup-opened");
							}
							else {
								_card.dist = 'body';
								$('body').addClass("popup-opened");
								// $('body').addClass("popup-opened");
								// $(_card.source).css('position', 'relative');
								// _card.dist = _card.source;
							}

						} else {
							$(_card.parent).attr('card-popup-parent', 'active');
							_card.dist = _card.parent;
						}
						$(_card.dist).append(_card.current);
						$(_card.dist).append(_card.cover);

						TweenMax.set(_card.current, {opacity: 0, x: 20});
						$('body, html').animate({scrollTop:$(_card.dist).offset().top -($('header').outerHeight())}, 300);
						TweenMax.fromTo(_card.cover, 0.3, {
							opacity: 0,
							onComplete: function() {
								$(window).on('resize', _card.resize);
								if($('body').hasClass("popup-opened")) {
									$('#header').removeClass('absolute');
									$('body, html').animate({scrollTop:0}, 300, 'swing', function() {
										TweenMax.to($('#header'), 0.3, {
				              y: -1*$('#header').height(),
				              onComplete: function() {
												VietinBank.bodystopscroll(true, '.ca-li-popup.main');
												$(window).on('resize', _card.close);
				              }
				            });
									});
								}
							}
						}, {
							opacity: 1, onComplete: function() {
							TweenMax.to(_card.current, 0.3, {opacity: 1, x: 0, delay: 0.2});
						}});

						VietinBank.updatehash(_card.target);
						if($(_card.target).find('input[name="merchant-id"]').length) {
							VietinBank.setUrlVars('merchant-id', $(_card.target).find('input[name="merchant-id"]').val());
						}
						VietinBank.resize();
						_card.height();
					}, 200, {
						trailing: false,
						leading: true
					}),
					height: function() {
						if(!$('body').hasClass('popup-opened')) {
							setTimeout(function() {
								var _dist = $(_card.dist);
								if($(_card.target,_card.current).outerHeight() > _dist.outerHeight(true)) {
									if(_dist[0].style.height !== '') {
										_dist.attr('card-height',_dist.outerHeight(true));
									}
									_dist.css('height',$(_card.target,_card.current).outerHeight(true) + 80);
								}
								else {
									_dist.attr('card-height', _dist.outerHeight(true)); 
									_dist.css('height', $(_card.target, _card.current).outerHeight(true) + 80); //culprit
								}
							}, 300);
						}
					},
					close: function(e) {
						_card.state = false;
						VietinBank.removehash(_card.target, e);
						VietinBank.removeUrlVars('merchant-id');
						TweenMax.to(_card.current, 0.3, {opacity: 0, x: -20, onComplete: function() {
							$('body, html').animate({scrollTop:$(_card.source).offset().top -($('header').outerHeight())}, 300);
							_card.source = null;
							$(_card.prevholder).append(document.querySelector(_card.target));
							VietinBank.bodystopscroll(false, '.ca-li-popup.main');
							$(_card.current).remove();
							TweenMax.to(_card.cover, 0.1, {opacity: 0, delay: 0.2, onComplete: function() {
								$(_card.cover).remove();
								$(window).off('resize', _card.resize);
								if(typeof $(_card.dist).attr('card-height') !== 'undefined') {
									$(_card.dist).css('height', '');
									// $(_card.dist).css('height', $(_card.dist).attr('card-height'));
									$(_card.dist).removeAttr('card-height');
								} else {
									$(_card.dist).css('height','');
								}
								if($('body').hasClass('popup-opened')) {
										TweenMax.to($('#header'), 0.3, { y: 0, onComplete: function() {
											$("body").removeClass('popup-opened');
											$(window).off('resize', _card.close);
						              	}
						            });
								}
							}});
						}});

						// after closing the popup
		              	if(typeof opt != 'undefined' && typeof opt.afterClose == 'function') {
		              		opt.afterClose();
		              	}
					},
					resize: function() {
						if(_card.state) {
							_card.height();
						}
					}
				}
				if(typeof option === 'object') {
					switch(option.action) {
						case 'close':
							var id = $('.ca-li-popup.main > div').attr('id');
							$('#'+id+'-placeholder').append($('#'+id));
							$('#'+id+'-placeholder').removeAttr('id');
							VietinBank.bodystopscroll(false, '.ca-li-popup.main');
							$('.ca-li-popup.main').remove();
							TweenMax.to($('.ca-li-popup.cover'), 0.3, {opacity: 0, delay: 0.2, onComplete: function() {
								$('.ca-li-popup.cover').remove();
								$(window).off('resize', _card.resize);
								if(typeof $(_card.dist).attr('card-height') !== 'undefined') {
									$(_card.dist).css('height', $(_card.dist).attr('card-height'));
									$(_card.dist).removeAttr('card-height');
								} else {
									$(_card.dist).css('height','');
								}
								if($('body').hasClass('popup-opened')) {
									TweenMax.to($('#header'), 0.3, {
			              y: 0,
			              onComplete: function() {
			              	$("body").removeClass('popup-opened');
											// VietinBank.removehash(_card.target, e);
											$(window).off('resize', _card.close);
			              }
			            });
								}
							}});
							break;
						default:
							_card.init();
					}
				}
				else {
					_card.init();
				}
			}
		}
		try {
			if(typeof opt === 'object') {
				switch(opt.type) {
					case 'card':
						switch(opt.action) {
							case 'reinit':
								_popup.reinit.card();
								break;
							case 'close':
								_popup.card({ action: 'close' });
							default:
								//
						}
						break;
					default:
						//
				}
			}
			else {
				_popup.init();
			}
		}
		catch(error) {
			console.error('popup error:',error.message);
		}
	},
    process: function() {
        try {
            var min_height = 0;
            var max_height = 0;
            $('.steps__process .com_slider, .com_career-blogs.com_slider').each(function() { 
                var content = $(this);
                if(!$(content).parents('.section').hasClass('overflow-hidden')) {
                    $(content).parents('.section').addClass('overflow-hidden');
                }
                var tmp = new processSlider($(this));
            });
            $('.steps__vertical-panels').each(function() {
                var elem = $(this);
                var verticalSlider = new VietinBank.verticalSlider(elem);
                verticalSlider.init(elem);
                elem.find('.expand-btn').on('click', function(e) {
                    verticalSlider.fetch();
                });
            });
            $('.steps__process .expand-btn').on('click', function(e) {
                e.preventDefault();
                var btnElem = $(this);
                var parentElem = btnElem.parents('.steps__process-container');
                parentElem.find('.step__collapsed-content').slideToggle();
                parentElem.toggleClass('expanded');
                if (!parentElem.hasClass('expanded')) {
                    $('.steps__vertical-panels').css('height',min_height);
                    btnElem.find('span').text('Read more');
                } else {
                    setTimeout(function() {
                        $('.steps__vertical-panels').animate({
                            'height': $('.slider__container').height() + 50
                        });
                        btnElem.find('span').text('Read less');
                    },1000)
                    
                }
            });

            $('.steps__process .com__tab .com__tab-content').each(function() {
                var tabElem = $(this);
                var parentElem = tabElem.parents('.com__tab');
                // tabElem.width(parentElem.width() + (window.innerWidth - parentElem.width())/2);
                $(window).resize(function() {
                    var parentElem = tabElem.parents('.com__tab');
                    // tabElem.width(parentElem.width() + (window.innerWidth - parentElem.width())/2);
                })
            })
            min_height = $(".steps__vertical-panels").height();
            function processSlider(sliderElem) {
                this.buttonWidth = 10;
                this.buttonsGap = 15;
                var self = this;
                this.checkButtons = function(e) {
                    var self = this;
                    self.sliderElem.find('.slider__dots span').removeClass();
                    for (var i=0; i<self.itemsCount; i++) {
                        if (i===0) {
                            self.sliderElem.find('.slider__dots span').eq(self.activeIndex+i).addClass('first');
                            
                            if(self.sliderElem.find('.slider__dots span').length > self.itemsCount) {
                                self.sliderElem.find('.slider__dots .indicator').css({
                                    left: (self.activeIndex+i)*(self.buttonWidth + self.buttonsGap)
                                });
                            }
                        }
                        if (i===self.itemsCount-1) {
                            self.sliderElem.find('.slider__dots span').eq(self.activeIndex+i).addClass('last');
                        }
                        self.sliderElem.find('.slider__dots span').eq(self.activeIndex+i).addClass('active');
                    }
                    self.sliderElem.find('.slider__dots .indicator').width((self.itemsCount-1)*(self.buttonWidth + self.buttonsGap) + self.buttonWidth + 10);
                };

                this.getItemsCount = function() {
                    var self = this;
                    var lastItemsCount = self.itemsCount;
                    var attrs = VietinBank.getAttributes(self.sliderElem);
                    if (window.innerWidth >= 768 && window.innerWidth < 992) {
                        if (Number(attrs['items']) > 2) {
                            self.itemsCount = 2;
                        }
                        else {
                            self.itemsCount = Number(attrs['items']);
                        }
                    }
                    else if (window.innerWidth < 768) {
                        self.itemsCount = 1;
                    }
                    else {
                        self.itemsCount = attrs['items'] ? Number(attrs['items']) : 1;
                    }
                };

                self.sliderElem = sliderElem;
                self.activeIndex = 0;
                sliderElem.on('initialized.owl.carousel', function(e) {
                    self.getItemsCount();
                    var attrs = VietinBank.getAttributes(self.sliderElem);
                    if(!(e.item.count > Number(attrs['items']))) {
                        sliderElem.addClass('com_slider-no-nav');
                    }
                    if (Number(attrs['items']) > 2) {
                        setTimeout(function() {
                            self.sliderElem.data('owl.carousel').options.responsive['991'] = {
                                items: Number(attrs['items'])
                            };
                            self.sliderElem.data('owl.carousel').options.responsive['768'] = {
                                items: 2
                            };
                            self.sliderElem.trigger('refresh.owl.carousel');
                        }, 100);
                    }
                    var dots = '<div class="slider__dots clearfix">';
                    for (var i=0; i<e.item.count; i++) {
                        dots += '<span></span>';
                    }
                    dots += '<div class="indicator"></div>';
                    dots += '</div>';
                    $(this).append(dots);
                    sliderElem.find('.slider__dots span').on('click', function() {
                        var buttonElem = $(this);
                        var slideIndex = buttonElem.index();
                        if (slideIndex >= e.item.count-self.itemsCount) {
                            slideIndex = e.item.count-self.itemsCount;
                        }
                        sliderElem.trigger('to.owl.carousel', slideIndex);
                    });

                    sliderElem.find('.owl-item').on('click', function(e) {
                        if($(this).hasClass('active')) return;
                        var itemIndex = $(this).index();
                        if (itemIndex < self.activeIndex) {
                            itemIndex = Math.max(itemIndex - (self.itemsCount - 1), 0);
                        }
                        sliderElem.trigger('to.owl.carousel', itemIndex);
                    });
                    self.checkButtons();
                })
                sliderElem.on('changed.owl.carousel', function(e) {
                    self.getItemsCount();
                    var maxIndex = e.item.count - self.itemsCount;
                    var itemsTotal = e.item.count;
                    if (!isNaN(maxIndex) && e.item.index > maxIndex) {
                        self.activeIndex = maxIndex;
                    }
                    else {
                        self.activeIndex = e.item.index;
                    }
                    $('.owl-item.first', e.currentTarget).removeClass('first');
                    $('.owl-item', e.currentTarget).eq(self.activeIndex).addClass('first');
                    self.checkButtons();
                    
                });
                sliderElem.on('resized.owl.carousel', function(e) {
                    self.getItemsCount();
                    self.checkButtons();
                });

                $(window).resize(function() {
                    
                })
            }
        }
        catch(error) {
            console.error('process error:',error.message);
        }
    },
promoStartEndDate: function() {
	var promoClass = $('.promo-start-end');
	if(promoClass.length) {
		var dateToday = new Date();
		dateToday.setHours(0,0,0,0);
		
		promoClass.each(function() {
			var activeElem = $(this);

			var endDate = activeElem.attr('data-end');
			var endDateFormated = new Date(endDate);
			endDateFormated.setHours(0,0,0,0);

			var startDate = activeElem.attr('data-start');
			var startDateFormated = new Date(startDate);
			startDateFormated.setHours(0,0,0,0);

			if(startDate && dateToday < startDateFormated || endDate && dateToday > endDateFormated){
				activeElem.addClass('d-none');
			}

			if(startDate && dateToday > startDateFormated && dateToday < endDateFormated){
				activeElem.removeClass('d-none');
			}
		});
	}
},
    promotions: function() {
        try {
            $('#masthead-blurb').each(function() {
                var _masthead = $(this);
                var _content = _masthead.html();
                $('.parent__masthead').each(function() {
                    $(this).append(_content);
                })
            })
            $('.promotion__container').each(function() {
                var promotionElem = $(this);
                $(this).find('.btn-close').on('click', function() {
                    promotionElem.removeClass('animated');
                    setTimeout(function() {
                        promotionElem.addClass('inactive');
                    }, 10);
                });

                promotionElem.find('u a').on('click', function(e) {
                    var linkElem = $(this);
                    var hash = linkElem.attr('href');
                    var destElem = $(hash);
                    if (destElem && destElem.length) {
                        e.preventDefault();
                        $('body, html').animate({
                            scrollTop: destElem.offset().top
                        }, 500);
                    }
                })
            });
        }
        catch(error) {
            console.error('promotions error:',error.message);
        }

        $(window).scroll(function() {
            $('.promotion__container').addClass('scrolling');
        });
        $(window).scroll(VietinBank.debounce(function() {
            $('.promotion__container').removeClass('scrolling');
        }, 100));
    },
	readingBar: function() {
		var _reading = {
			parent: '',
			parentOffset: '',
			parentHeight: 0,
			headerHeight: 0,
			lastScrollTop: 0,
			percent: 0,
			bar: '',
			barParent: '',
			nav: '',
			init: function() {
				_reading.defaults();
				_reading.headerHeight = $('header').outerHeight();

				window.addEventListener('scroll', function(){
					var st = window.pageYOffset || document.documentElement.scrollTop;

					if (st > _reading.lastScrollTop){
						// downscroll code
					} else {
						// upscroll code
					}
					_reading.lastScrollTop = st <= 0 ? 0 : st;
					_reading.parentOffset = $(_reading.parent).offset().top;
					_reading.parentHeight = $(_reading.parent).outerHeight();

					_reading.update();
				}, false);

				window.addEventListener('resize', function() {
					_reading.lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
					_reading.parentOffset = $(_reading.parent).offset().top;
					_reading.parentHeight = $(_reading.parent).outerHeight();

					_reading.update();					
				});

				_reading.update();
			},
			defaults: function() {
				_reading.parent = document.querySelector('#main-container');

				var _readingParent = document.querySelector('.com__reading-parent');
				if(_readingParent) {
					_reading.parent = _readingParent;
				}

				_reading.barParent = document.querySelector('.com__reading-bar');
				_reading.bar = document.createElement('div');
				_reading.bar.classList.add('bar');
				_reading.barParent.appendChild(_reading.bar);

				_reading.nav = document.querySelector('.com__reading-nav');
				if(!($('body').hasClass('page-current') || $('body').hasClass('page-campaign'))) {
					$('header').append(_reading.nav);
				}

				_reading.parentOffset = $(_reading.parent).offset().top;
				_reading.parentHeight = $(_reading.parent).outerHeight();
			},
			update: function() {
				// precentage of reading
				_reading.percent = Math.round((_reading.lastScrollTop - _reading.parentOffset) / (_reading.parentHeight - $(window).outerHeight()) * 100);
				if(_reading.percent < 0) {
					_reading.percent = 0
				}
				if(_reading.percent > 100) {
					_reading.percent = 100;
				}

				TweenMax.to(_reading.bar, 0.3, {width: _reading.percent + '%'});

				// show/hide the reading nav
				if(_reading.lastScrollTop < _reading.headerHeight || _reading.lastScrollTop == 0) {
				// if going back to top
					_reading.hide();
				} else {
				// if on/or going down
					if(_reading.lastScrollTop > (_reading.parentHeight - _reading.parentOffset)) {
					// if reaches the end
						_reading.hide();
					} else {
					// if within the reading area
						_reading.show();
					}
				}
			},
			show: function() {
				if(!($(_reading.nav).hasClass('reading-active'))) {
					if(!($('body').hasClass('page-current') || $('body').hasClass('page-campaign'))) {
						$('#main-wrapper').css('paddingTop', _reading.headerHeight);
						$('header').addClass('reading');
					}
					$(_reading.nav).removeClass('reading-inactive').addClass('reading-active').slideDown(200);
				}
			},
			hide: function() {
				if(!($(_reading.nav).hasClass('reading-inactive'))) {
					$(_reading.nav).removeClass('reading-active').addClass('reading-inactive').slideUp(200, function() {
						if($('body').hasClass('page-campaign')) {
							$('#main-wrapper').css('paddingTop', '');
							$('header').removeClass('reading');
						}
					});
				}
			}
		}
		try {
			if(document.querySelector('.com__reading-bar')) {
				_reading.init();
			}
		}
		catch(error) {
			console.error('readingBar error:',error.message);
		}
	},		

	rowGroupHeight: function(opt) {
		var _group = {
			parent: '',
			target: '.com__row-group-col',
			columns: 0,
			classes: 0,
			parentWidth: 0,
			colWidth: 0,
			resizeTimer: 0,
			targetResize: false,
			absoluteDiv: '',
			equalizeMargin: typeof opt.equalizeMargin == 'undefined' ? false : opt.equalizeMargin,
			init: function() {
				_group.defaults();

				_group.resize();
				$(window).on('resize listings_changed tab_changed', VietinBank.debouncev2(function() {
					_group.resize();
				}, 200, {
					leading: false,
					trailing: true
				}));

				$(window).on('load',function() {
					_group.resize();
				});
			},
			defaults: function() {
				_group.parent = opt.parent;
				_group.classes = opt.classes;
				if(typeof opt.targetResize != 'undefined') {
					_group.targetResize = opt.targetResize;
				}
				if(typeof opt.absoluteDiv != 'undefined') {
					_group.absoluteDiv = opt.absoluteDiv;
				}
				if(typeof opt != 'undefined' && opt.target) {
					_group.target = opt.target;
				}
			},
			resize: function() {
				// clear column grouping
				$(_group.target, _group.parent).removeAttr('col-group')
				// detect the containers and compute how many columns
				_group.parentWidth = $(_group.parent).outerWidth();
				_group.colWidth =  $(_group.target, _group.parent).outerWidth();
				_group.columns = Math.round(_group.parentWidth / _group.colWidth);

				if(_group.columns === 0) {
					return;
				}

				var _colCounter = 0, _rowCounter = 1;
				// group the rows depending on column count
				for (var i = 0; i < $(_group.target, _group.parent).length; i++) {
					if($(_group.target, _group.parent).eq(i).css('display') == 'none') {
						$(_group.target, _group.parent).eq(i).removeAttr('col-group');
						// return;
					}
					else {
						_colCounter++;
						$(_group.target, _group.parent).eq(i).attr('col-group', _rowCounter);
						$(_group.target, _group.parent).eq(i).removeClass('last-col');
						if(_colCounter == _group.columns) {
							$(_group.target, _group.parent).eq(i).addClass('last-col');
							if( (i !== ($(_group.target, _group.parent).length - 1))) {
								_colCounter = 0;
								_rowCounter++;
							}
						}
					}	
				}
				$(_group.parent).attr('row-count', _rowCounter);
				$(_group.parent).removeClass (function (index, className) {
			    return (className.match (/(^|\s)row-count-\S+/g) || []).join(' ');
				});
				$(_group.parent).addClass('row-count-' + (_rowCounter));
				// target the elements to equalize height depending on row
				for (var i = 0; i < _rowCounter; i++) {
					var _colGroup = $('[col-group="'+ (i + 1) +'"]', _group.parent);
					if(i === (_rowCounter - 1)) {
						_colGroup.addClass('last-group');
					}
					else {
						_colGroup.removeClass('last-group');
					}
					for (var j = 0; j < _group.classes.length; j++) {
						if($(_group.classes[j], _colGroup).length > 0) {
							VietinBank.equalize($(_group.classes[j], _colGroup), null, _group.equalizeMargin);
						}
					}
					if(_group.absoluteDiv) {
						if(VietinBank.width > 1148) {
							var height = $(_group.absoluteDiv, _colGroup).height();
							if(height > $(_group.absoluteDiv, _colGroup).parent().height()) {
								$(_group.absoluteDiv, _colGroup).parent().height(height);
							}
						}
						else {
							$(_group.absoluteDiv, _colGroup).parent().height('');
						}
					}
					if(_group.targetResize) {
						VietinBank.equalize($(_colGroup), null, true);
					}
				}
			}
		}
		try {
			_group.init();
		}
		catch(error) {
			console.error('rowGroupHeight error:',error.message);
		}
	},
searchForm: function() {
  var _search = {
    page: 1,
    numberOfFeatured: 2,
    perPage: 2,
    currentPage: 0,
    filter: {},
    listen: function() {
      $('.com_search-form').each(function() {
        var elem = $(this);
        $('.btn-open', elem).on('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          elem.addClass('opened');
        });

        $('.btn-close', elem).on('click', function(e) {
          e.preventDefault();
            e.stopPropagation();
            elem.removeClass('opened');
        })
      });
    },
    init: function() {
      _search.listen();
    }
  }
  try {
    _search.init();
  }
  catch(error) {
    console.error('searchForm error:',error.message);
  }
},
selectslider: function(opt) {
	var _slider = {
		target: '',
		list: '',
		length: 0,
		lastentry: '',
		curSlide: 0,
		height: 0,
		autoplay: false,
		autoplayInterval: 0,
		pause: false,
		pauseInterval: 0,
		pauseCount: 0,
		pauseLimit: 10,
		speed: 2,
		clickable: true,
		endSlide: '',
		afterResize: '',
		init: function() {
			_slider.defaults();
			_slider.cloning();

			_slider.resize();
			window.addEventListener('resize', function() {
				_slider.resize();
			});

			// ready the draggable slider
			Draggable.create(_slider.list, {
				type 			: 'y',
				bounds 			: _slider.target,
				cursor			: 'pointer',
				throwProps		: true,
				onDrag: function() {
					// TweenMax.set(_slider.list, {cursor: 'grabbing'});

					var _curOffset = Math.abs(parseInt(this.y)),
					_parentOffset = $('ul',_slider.target).offset().top,
					_topOffset = Math.round($('li[slide-number="0"]', _slider.target).eq(0).offset().top - _parentOffset),
					_bottomOffset = Math.round($('li.clone[slide-number="0"]', _slider.target).eq(0).offset().top - _parentOffset);

					// if dragging beyond the first entry
					if (_curOffset < Math.round($('li.clone[slide-number="'+ (_slider.length - 1) +'"]', _slider.target).eq(0).offset().top - _parentOffset)) {
						// console.log('less than');
						TweenMax.set(_slider.list, {y: -(Math.round($(_slider.lastentry).offset().top - _parentOffset))});
					}

					// if dragging reaches the end
					if(_curOffset > _bottomOffset) {
						// console.log('more than');
						TweenMax.set(_slider.list, {y: -(_topOffset)});
					}

					// turn off the autoplay
					if(_slider.autoplay) {
						_slider.autoplayStop();
					}
				},
				onDragStart: function() {
					TweenMax.set(_slider.list, {cursor: 'grabbing'});
				},
				onDragEnd: function() {
					TweenMax.set(_slider.list, {cursor: 'pointer'});

					// get the closes li to the top of the slider container
					var _curSlide = Math.floor((Math.abs(parseInt(this.y)) / _slider.height) + 0.5) + 1;
					_slider.update($('li:nth-child('+_curSlide+')', _slider.target));

					// turn off the autoplay
					if(_slider.autoplay) {
						_slider.autoplayStop();
					}
				}
			});

			$('li', _slider.target).click(function() {
				var _this = $(this);

				// turn off the autoplay
				if(_slider.autoplay) {
					_slider.autoplayStop();
				}

				// do something when click the center entry
				if(_this.hasClass('selected')) {
					_slider.endSlide(_slider);
				}

				// slide to selected
				if (_this.hasClass('clone')){
					// move the dragging offset to the clone version of the current selected entry
					var _selectedClone = $('li.clone[slide-number="'+ _slider.curSlide +'"]', _slider.target),
					_cloneOffset = Math.round($(_selectedClone).offset().top - $('ul',_slider.target).offset().top);
					TweenMax.set(_slider.list, {y: -(_cloneOffset)});

					// if the click entry is a clone, target the not clone version
					var _sameNumber = $('li[slide-number="'+ _this.attr('slide-number') +'"]', _slider.target);

					// slide to the not clone version
					for (var i = 0; i < _sameNumber.length; i++) {
						var _thisLi = _sameNumber.eq(i);
						if (!(_thisLi.hasClass('clone'))) {
							_slider.update(_thisLi);
						} 
					}
				} else {
					// slide away
					_slider.update(this);
				}
			});

			// set the first entry as selected
			_slider.update($('li[slide-number="0"]', _slider.target).eq(0));

			// for autoplay
			if (_slider.autoplay){
				_slider.autoplayStart();
			}
		},
		defaults: function() {
			_slider.target = opt.target;
			_slider.list = $('ul', _slider.target);

			// for autoplay
			if(opt.autoplay == true) {
				_slider.autoplay = true;
			}

			// for speed
			if(opt.speed) {
				_slider.speed = opt.speed;
			}

			// for pause count
			if(opt.pauseLimit) {
				_slider.pauseLimit = opt.pauseLimit;
			}

			// for endSlide function
			if(opt.endSlide) {
				_slider.endSlide  = opt.endSlide;
			}

			// assign slide-number attr to each li
			_slider.length = $('li', _slider.target).length;
			for (var i = 0; i < _slider.length; i++) {
				$('li', _slider.target).eq(i).attr('slide-number', i);

				if (i == _slider.length - 1) {
					_slider.lastentry = $('li', _slider.target).eq(i);
				}
			}
		},
		resize: function() {
			var _li = $('li', _slider.target);
			_slider.height = 0;
			_li.css({minHeight: 0});

			// get the common height of the li
			for (var i = 0; i < _li.length; i++ ){
				var element_height = $(_li[i]).outerHeight();
				if(element_height > _slider.height ) {
					_slider.height = element_height;
				}
			}
			_li.css({minHeight: _slider.height});
			$(_slider.target).css({height: _slider.height});

			// reposition the center slide
			var _curSlide = $('li[slide-number="'+ _slider.curSlide +'"]', _slider.target);

			// select the not clone
			for (var i = 0; i < _curSlide.length; i++) {
				var _thisLi = _curSlide.eq(i);
				if (!(_thisLi.hasClass('clone'))) {
					_curSlide = _thisLi;
				}
			}

			var _curOffset = Math.round(_curSlide.offset().top - $('ul',_slider.target).offset().top);
			TweenMax.set(_slider.list, {y: -(_curOffset)});

			if(opt.afterResize) {
				opt.afterResize(_slider);
			}
		},
		cloning: function() {
			var _clone = {
				init: function() {
					// prepend the last 4
					for ( var i = 0; i < 4; i++ ) {
						_clone.this({
							target: _slider.length - i,
							position: 'prepend'
						});
					}

					// append the first 3
					for ( var i = 0; i < 3; i++ ) {
						_clone.this({target: i});
					}
				},
				this: function(opt) {
					var _entry = $('li[slide-number="'+opt.target+'"]', _slider.target);

					if(_entry.length == 1) {
						if(opt.position == 'prepend') {
							$('ul', _slider.target).prepend(_entry.clone().addClass('clone'));
						} else {
							$('ul', _slider.target).append(_entry.clone().addClass('clone'));
						}
					}
				}
			}
			_clone.init();
		},
		update: function(target) {
			target.clickable = false;
			_slider.curSlide = parseInt($(target).attr('slide-number'));
			var _offsetTop = $(target).offset().top - $('ul',_slider.target).offset().top;

			$('li', _slider.target).removeClass('selected');
			$('li[slide-number="'+_slider.curSlide+'"]', _slider.target).addClass('selected');
			TweenMax.to(_slider.list, 0.5, {y: -_offsetTop, onComplete: function() {
				target.clickable = true;
			}});

			if(opt.afterSlide) {
				opt.afterSlide(_slider);
			}
		},
		movenext: function() {
			var _nextSlide = _slider.curSlide + 1;

			if (_nextSlide > _slider.length - 1) {
				// if going back to the first slide, immediately return the dragging to the last clone on top
				var _backToTop = Math.round($('li.clone.selected', _slider.target).offset().top - $('ul',_slider.target).offset().top);
				TweenMax.set(_slider.list, {y: -(_backToTop)});

				_nextSlide = 0;
			}

			var _nextTarget = $('li[slide-number="'+ _nextSlide +'"]', _slider.target);
			for (var i = 0; i < _nextTarget.length; i++) {
				if (!($(_nextTarget).eq(i).hasClass('clone'))) {
					_slider.update($(_nextTarget).eq(i));							
				}
			}
		},
		autoplayStart: function() {
			_slider.autoplayInterval = setInterval(function() {
				_slider.movenext();
			}, _slider.speed * 1000);
		},
		autoplayStop: function() {
			clearInterval(_slider.autoplayInterval);
			
			if(_slider.autoplay) {
				_slider.pauseCount = 0;
				clearInterval(_slider.pauseInterval);
				_slider.pauseInterval = setInterval(function() {
					_slider.pauseCount++;
					// console.log(_slider.pauseLimit, _slider.pauseCount);
					if(_slider.pauseCount == (_slider.pauseLimit - _slider.speed)) {
						clearInterval(_slider.pauseInterval);
						_slider.pauseCount = 0;

						if(_slider.autoplay) {
							_slider.autoplayStart();
						}
					}
				}, 1000);
			}
		}
	}
	try {
		_slider.init();
	}
	catch(error) {
		console.error('selectslider error:',error.message);
	}
},
selectbanner: function(opt) {
	var _banner = {
		target: '',
		length: 0,
		autoplay: false,
		speed: 2,
		animspeed: 0.5,
		slideInterval: '',
		curSlide: 0,
		init: function() {
			_banner.defaults();

			for (var i = 0; i < _banner.length; i++) {
				$('> *', _banner.target).eq(i).attr('banner-number', i);
			}

			$('> *', _banner.target).css({zIndex: 1}).hide();
			_banner.update({
				target: _banner.target,
				number: _banner.curSlide,
			});

			if(_banner.autoplay) {
				_banner.autoslide();
			}
		},
		defaults: function() {
			_banner.target = opt.target;
			_banner.length = $('> *', _banner.target).length;

			if(opt.autoplay == true) {
				_banner.autoplay = true;
			}

			if(opt.animspeed) {
				_banner.animspeed = opt.animspeed;
			}
		},
		update: function(elem) {
			var _target = $('> *', elem.target).eq(elem.number),
			_curActive = $('.selected', elem.target);

			if(!(_target.hasClass('selected'))) {
				_curActive.css({zIndex: 2}).removeClass('selected');

				_target.show().addClass('selected').css({zIndex: 3});
				TweenMax.fromTo(_target, _banner.animspeed, {opacity: 0}, {opacity: 1, onComplete: function() {
					var _slides = $('> *', elem.target);

					for (var i = 0; i < _slides.length; i++) {
						if(!(_slides.eq(i).hasClass('selected'))) {
							_slides.eq(i).css({zIndex: 1}).hide();
						}
					}
				}});
			}
		},
		autoslide: function() {
			_banner.slideInterval = setInterval(function() {
				_banner.curSlide++;
				if(_banner.curSlide == _banner.length) {
					_banner.curSlide = 0;
				}

				_banner.update({
					target: _banner.target,
					number: _banner.curSlide,
				});
			}, _banner.speed * 1000);
		}
	}

	try {
		if(opt.state == 'update') {
			_banner.update({
				target: opt.target,
				number: opt.number,
			});
		} else {
			_banner.init();
		}
	}
	catch(error) {
		console.error('selectbanner error:',error.message);
	}
},
    select2: function() {
        var _select2 = {
            launch: function() {
                // initialize select2 for desktop
                $(document).on('focus', '.select2, .select2-unique', function (e) {
                    if (e.originalEvent) {
                        $(this).siblings('select').select2('open');    
                    } 
                });
                $('select.select2, select.select2-unique').each(function() {
                    var _class = $(this).attr('class');
                    if(_class == 'select2') {
                        $(this).off('change');
                    }
                    _select2.init($(this));
                });
            },
            init: function(elem) {
                //abandon dropdown__theme--3
                var element = elem;
                var attrs = VietinBank.getAttributes(element);
                var timeout = null;
                var select2Options = {
                    placeholder: attrs['placeholder'] || null,
                    allowClear: attrs['allow-clear'] === 'true' ? true : false,
                    dropdownAutoWidth : true,
                    width: '100%',
                };
                _select2.filter(element, element.children('option:selected').val());
                element.select2(select2Options);
                element.data('select2').$dropdown.addClass("select2-default-dropdown");
                $(element).on('select2:open', function(event) {
                    event.preventDefault();
                    event.stopPropagation();
                    var nextHeight = $(element).next().height();

                    //reset
                    $('.select2-search', '.select2-dropdown').hide();
                    $('.select2-results__options, .select2-default-dropdown').css({
                        opacity: 0
                    });
                    $('.select2-dropdown--below, .select2-dropdown--above').css({
                        top: 0
                    });

                    //inherit the style
                    $('.select2-dropdown').css({ 
                        fontSize:  $(element).css('font-size'), 
                        fontWeight: $(element).css('font-weight'),
                        lineHeight: $(element).css('line-height')
                    });

                    //100ms bug fix before showing the dropdown
                    setTimeout(function(){
                        if($('.select2-dropdown').hasClass('select2-dropdown--above')) {
                            $('.select2-dropdown--above').css({
                                top: nextHeight,
                            })
                        }
                        else {
                            $('.select2-dropdown--below').css({
                                top: (nextHeight * -1),
                            })
                        }
                    }, 100)
                    $('.select2-results').css({
                        pointerEvents: 'none'
                    });
                    $('.select2-dropdown').delay(100).fadeIn(100, function() {
                        $(this).css('display','block');
                        $('.select2-results__options, .select2-default-dropdown').delay(0).animate({
                            opacity: 1
                        }, {
                            duration: 100,
                            complete: function() {
                                $('.select2-results').css({
                                    pointerEvents: ''
                                });
                            }
                        });
                    });

                    $(window).scroll(function() {
                        if($('.select2-dropdown').hasClass('select2-dropdown--above')) {
                            $('.select2-dropdown--above').css({ 
                                top: nextHeight, 
                            });
                        }
                        else {
                            $('.select2-dropdown--below').css({ 
                                top: (nextHeight * -1), 
                            });
                        }
                    })
                });
                $(element).on('select2:opening select2:closing', function(event) {
                    var $searchfield = $('.select2-search__field');
                    $searchfield.prop('disabled', true);
                });
                $(element).on('select2:select', function(event) {
                    _select2.filter(element,event.params.data.id);
                });
            },
            filter: function(elem,id) {
                if(id) {
                    $(window).trigger({
                        type: 'select_changed',
                        value: id,
                        name: elem[0].name
                    })
                    switch(id) {
                        case 're-travel':
                            $(window).trigger({type: 'select2update', name: 'loading'});
                            setTimeout(function() {
                                window.location.href = "/VietinBank/revamp/microsite/travel/hotels.html";
                                // window.location.href = "/personal-banking/wanderwise";
                            }, 500);
                            break;
                        default: 
                            $(elem).parent().addClass('select2-selected');
                            if($(elem).hasClass('select2-filter')) {
                                //find other select
                                var combo = $(elem).parents('.com__ins-dd');
                                if(combo.length) {
                                    if(!combo.hasClass('select2-selected-both')) {
                                        combo.addClass('select2-selected-both')
                                        var id2 = combo.find('select.select2').not(elem).val();
                                        _select2.adjust([id,id2]);
                                        setTimeout(function() {
                                            VietinBank.insuranceEndownment();
                                            combo.removeClass('select2-selected-both');
                                        }, 100);
                                    }
                                }
                                else {
                                    _select2.adjust([id]);
                                }
                            }
                            else if($(elem).hasClass('select2-tab')) {
                                VietinBank.tabs({
                                    select2: true,
                                    target: $(elem).parents('.com__tab').attr('tab-parent'),
                                    element: id
                                })
                            }
                            else {
                                $(window).trigger({
                                    type: 'select2update',
                                    value: id,
                                    name: elem[0].name
                                })
                            }
                    }
                }
                else {
                    $(elem).parent().removeClass('select2-selected');
                }
            },
            adjust: function(class_name) {
                var parent = $('.select2-filter-parent');
                var featured = $('.select2-filter-featured');
                var children = $('.filter-item', parent);
                var length = children.length;
                if(parent.hasClass('height-adjusted')) {
                    parent.css('min-height', parent.height() * (3/4));
                }
                var display = false;
                if(featured.length > 1) {
                    if(class_name.every(function(val, i, arr) { return val === arr[0]; })) {
                        featured.not($('.select2-filter-featured.filter-all')).each(function(index, item) {
                            $(item).fadeOut();
                        }).promise().done(function() {
                            $('.select2-filter-featured.filter-all').fadeIn();
                        });
                    }
                    else {
                        class_name.forEach(function(cls) {
                            if(cls.indexOf('filter-') >= 0) {
                                featured.not($('.select2-filter-featured.'+cls)).each(function(index, item) {
                                    $(item).fadeOut();
                                }).promise().done(function() {
                                    $('.select2-filter-featured.'+cls).fadeIn();
                                });
                            }
                        })
                    }
                }

                if(class_name.length > 1 && class_name.every(function(val, i, arr) { return val === arr[0]; })) {
                    if(children.hasClass('filter-item-single')) { 
                        children.addClass('hide').hide().promise().done(function() {
                            children.eq(1).removeClass('hide').show();
                        })
                    }
                    else {
                        children.removeClass('hide').show().promise().done(function() {
                            parent.find('.filter-empty').fadeOut();
                            setTimeout(function() {
                                $(window).trigger('listings_changed');
                                if(!parent.hasClass('height-adjusted')) {
                                    parent.addClass('height-adjusted');
                                }
                            }, 300);
                        })
                    }
                }
                else {
                    children.addClass('hide');
                    if(children.hasClass('filter-item-single')) {
                        children.hide().delay(50).promise().done(function() {
                            children.each(function(index,item) {
                                if($(item).hasClasses(class_name) && !display) {
                                    $(item).removeClass('hide');
                                    $(item).show();
                                    display = true;
                                }
                            })
                            if(!display) {
                                parent.find('.filter-empty').fadeIn();
                            }
                            else {
                                parent.find('.filter-empty').fadeOut();
                            }
                            setTimeout(function() {
                                $(window).trigger('listings_changed');
                                if(!parent.hasClass('height-adjusted')) {
                                    parent.addClass('height-adjusted');
                                }
                            }, 300);
                        })
                    }
                    else {
                        if($(parent).hasClass('select2-filter-alphabet') && class_name.indexOf('all') == -1) {
                            children.each(function(index, item) {
                                var title = $('.feature__column--title strong', item).text().trim().substring(0,1);
                                var num = title.charCodeAt(0) - 65;
                                $(item).attr('order', num);
                                $(item).addClass('order-'+num);
                            })
                        }
                        else {
                            children.each(function(index, item) {
                                var order = $(item).attr('order');
                                $(item).removeClass('order-'+order);
                                $(item).removeAttr('order');
                            })
                        }
                        children.hide().delay(50).promise().done(function() {
                            children.each(function(index,item) {
                                if($(item).hasClasses(class_name) || $(item).hasClass('all')) {
                                    $(item).removeClass('hide');
                                    $(item).show();
                                    display = true;
                                }
                            })
                            if(!display) {
                                parent.find('.filter-empty').fadeIn();
                            }
                            else {
                                parent.find('.filter-empty').fadeOut();
                            }
                            setTimeout(function() {
                                $(window).trigger('listings_changed');
                                if(!parent.hasClass('height-adjusted')) {
                                    parent.addClass('height-adjusted');
                                }
                            }, 300);
                        });
                    }
                }
            }
        };
        try {
            VietinBank.enquire({
                desktop: function() {
                    _select2.launch();
                },
                mobile: function() {
                    // destroy select2 on mobile except mainmenu
                    $('select.select2, select.select2-unique').each(function() {
                        var elem = $(this);
                        if (elem.data('select2')) {
                            elem.off('select2:opening');
                            elem.off('select2:open');
                            elem.off('select2:closing');
                            elem.off('select2:select');
                            elem.select2('destroy');
                        }
                        _select2.filter(elem, elem.children('option:selected').val());
                        $(this).change(function(event) {
                            _select2.filter(this,$(this).val());
                        })
                    });
                }
            });
        }
        catch(error) {
            console.error('select2 error:',error.message);
        }
    },
selectize: function() {
  var _selectize = {
    width: 991,
    launch: function() {
      // initialize select2 for desktop
      $(document).on('focus', '.select2', function (e) {
        if (e.originalEvent) {
          $(this).siblings('select').select2('open');
        }
      });
      $('select.selectize').not('.selectize--navigation').each(function() {
        _selectize.init($(this));
      });
    },
    resize: function() {

    },
    init: function(elem) {
      //abandon dropdown__theme--3
      var element = elem;
      var parent = element.parent();
      var mainmenu_dropdown = (parent.hasClass('dropdown__theme--3'))
      var attrs = VietinBank.getAttributes(element);
      var timeout = null;
      var select2Options = {
        hideSelected: true,
        placeholder: attrs['placeholder'] || null,
        closeAfterSelect: attrs['allow-clear'] === 'true' ? true : false,
        dropdownAutoWidth : true,
        width: '100%',
        dropdownParent: mainmenu_dropdown ? parent.parent().parent() : $('body'),
        openOnFocus: false,
        onInitialize: function () {
          var that = this;
          this.$control.on("click", function () {
            that.ignoreFocusOpen = true;
            setTimeout(function () {
              that.ignoreFocusOpen = false;
            }, 50);
          });
        },
        onFocus: function () {
          if (!this.ignoreFocusOpen) {
            this.open();
          }
        }
      };
      element.selectize(select2Options);
      var selectize = element[0].selectize;

      selectize.on('dropdown_open', function() {
        if(mainmenu_dropdown) {
          parent.parent().addClass('dropdown__open')
          $('.selectize-dropdown').not('.selectize--navigation').css({
            fontSize:  $(element).css('font-size'),
            fontWeight: $(element).css('font-weight'),
            left: window.innerWidth > _selectize.width ? -10 : 0,
            top: parent.parent().outerHeight() - 20,
            width: parent.parent()[0].getBoundingClientRect().width
          });
          $(".selectize-dropdown").not('.selectize--navigation').hide().slideDown(300, function() {
            if(VietinBank.width < 768) {
              $('.header__mobile').animate({
                scrollTop: $('.selectize-dropdown').offset().top
              }, 500)
            }
          });
        }
      })

      selectize.on('dropdown_close', function($dropdown) {
        $dropdown.show();
        $dropdown.slideUp(300, function() {
          parent.parent().removeClass('dropdown__open')
        });
      })

      selectize.on('item_add', function(value, item) {
        window.location.replace(value);
      })
      $(window).resize(function() {
        $('.selectize-dropdown').not('.selectize--navigation').css({
          left: window.innerWidth > _selectize.width ? -10 : 0,
          width: parent.parent()[0].getBoundingClientRect().width
        });
      })
      $(window).scroll(function() {
        $('.selectize-dropdown').not('.selectize--navigation').css({
          left: window.innerWidth > _selectize.width ? -10 : 0,
          width: parent.parent()[0].getBoundingClientRect().width
        });
      })
    }
  };
  try {
    VietinBank.enquire({
      desktop: function() {
        _selectize.launch();
      },
      mobile: function() {
        // destroy select2 on mobile except mainmenu
        _selectize.launch();
      }
    });
  }
  catch(error) {
    console.error('selectize error:',error.message);
  }
},
sideNavigation: function() {
	// if nav is click, page will scroll and open the dropdown copy
	// remain open the dropdown copy if user scroll down or up
	// on scroll, add active indicator in nav -- selected
	var sideNavWrapper = $('.com__side-nav'),
	navItem = $('.com__nav-dd-set.set-active .side-nav-item, .styled-nav .side-nav-item',sideNavWrapper),
	navAnchor = $('a',navItem),
	lastScrollTop  = 0,
	headerNav = $('#header'),
	navClickScrolled = false;


	var navSelectedIndicator = {
		addSelectedClass: function(elem) {
			elem.addClass('selected');
		},
		removeSelectedClass: function() {
			navItem.removeClass('selected');
		},
		clickNav: function() {
			navAnchor.on('click', VietinBank.debouncev2(function(e) {
				e.preventDefault();
				navSelectedIndicator.openItem(this);
			}, 500, {
				leading: true,
				trailing: false
			}));
		},
		openItem: function(target, expand) {
			navClickScrolled = true;
			expand = typeof expand !== 'undefined' ? expand : true;
			navSelectedIndicator.removeSelectedClass();
			$(target).closest('.side-nav-item').addClass('selected');
			if(expand) {
				if(!$($(target).attr('href')).hasClass('expanded')){
					$($(target).attr('href')).find('.accordion__item__title:not(.accordion__item__nocontent)').click();
			 	}
			 	else {
			 		$("html, body").animate({ scrollTop: $($(target).attr("href")).offset().top - navdeduction }, 500, VietinBank.debouncev2(function() {
			 			navClickScrolled = false;
			 		}));
			 	}
			}
		},
		selectNav: function() {
			$(window).scroll( VietinBank.debouncev2(function() {
				var st = $(this).scrollTop();
				if(!navClickScrolled) {
					navSelectedIndicator.highlightNav(st);
				}
				lastScrollTop = st;
			}, 50, { leading: true, trailing: true }));
			
		},
		highlightNav: function(st) {
			var st = typeof st !== 'undefined' ? st : $(window).scrollTop();
			for(var i = 0; i < navAnchor.length; i++ ){
				if($(navAnchor.eq(i).attr('href')).length) {
					var currentItemHeight = $(navAnchor.eq(i).attr('href')).outerHeight();
					var offsetTop = $(navAnchor.eq(i).attr('href')).offset().top;
					var toOffsetTop = offsetTop;
					if(st < lastScrollTop){
						if(headerNav.hasClass('opened')){
							toOffsetTop = (offsetTop - $('.header__main').outerHeight() + VietinBank.headertransform.get()) - currentItemHeight / 2;
						}else{
							toOffsetTop = (offsetTop - 80) - currentItemHeight / 2;
						}
					}else{
						toOffsetTop = offsetTop;
					}

					if(st >= toOffsetTop){
						if(!navAnchor.eq(i).hasClass('selected')) {
							navSelectedIndicator.removeSelectedClass();
							navAnchor.eq(i).closest('.side-nav-item').addClass('selected');
						}
					}
				}
			}
		},
		reverseClickNav: function() {
			$(window).on('accordion_done', function() {
			 	navClickScrolled = false;
			})
			$('.accordion__item').click(function() {
				if($(this).parents('#left-nav-content').length) {
					var stringId = $(this).attr('id');
					if(typeof stringId !== 'undefined') {
						var target = $('a[href$="#'+stringId+'"]', sideNavWrapper);
						if(target.length) {
							navSelectedIndicator.openItem(target, false);
						}
					}
				}
			})
		}
	}

	try {
		if(sideNavWrapper.hasClass('scrolling')){
			navSelectedIndicator.clickNav();
			navSelectedIndicator.reverseClickNav();
			if(sideNavWrapper.parents('.module').find('.accordion').length) {
				$(window).on('accordion_initialized', VietinBank.debouncev2(function() {
					navSelectedIndicator.highlightNav();
					navSelectedIndicator.selectNav();
				}, 300, { leading: true, trailing: false }));
			}
			else {
				navSelectedIndicator.highlightNav();
					navSelectedIndicator.selectNav();
			}
		}
	}
	catch(error) {
		console.error('sideNavigation error:',error.message);
	}
},
    comslider: function() {
        var deviceMapping = {
            desktop: {
                min: 768,
                max: 99999,
            },
            mobile: {
                min: 0,
                max: 768
            }
        }
        var comSlider = {
            init: function(element) {
                var attrs = VietinBank.getAttributes(element);
                var onlyOnDesktop = attrs['only-desktop'];
                if (onlyOnDesktop === 'true' && Math.max(document.documentElement.clientWidth, window.innerWidth || 0) < 768) return;
                var owlOptions = {
                    items: attrs.items && Number(attrs.items) || 1,
                    margin: attrs.margin && Number(attrs.margin) || 0,
                    stagePadding: attrs.padding && Number(attrs.padding) || 0,
                    smartSpeed: attrs['smart-speed'] ? Number(attrs['smart-speed']) : 1000,
                    touchDrag: attrs['touch-drag'] ? (attrs['touch-drag'] == 'true' ? true : false) : true,
                    mouseDrag: attrs['mouse-drag'] ? (attrs['mouse-drag'] == 'true' ? true : false) : true,
                    autoplayTimeout: 3000,
                    nav: attrs['nav'] ? (attrs['nav'] == 'true' ? true : false) : false,
                    navText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>'],
                    dots: !!attrs.dots || false,
                    center: !!attrs.center || false,
                    autoHeight: !!attrs['auto-height'] || false,
                    dotsEach: 1,
                    responsive: {
                        768: {
                            items: attrs.items || 1,
                        },
                        480: {
                            items: attrs['items-on-mobile'] || 1,
                            startPosition: 0
                        },
                        0: {
                            items: 1
                        }
                    }
                };
                if (attrs['start-position']) {
                    owlOptions.startPosition = Number(attrs['start-position']);
                }
                if (element.find('.slide').length > 1 && !attrs['no-loop']) {
                    owlOptions.loop = true;
                }
                if (attrs['no-drag']) {
                    owlOptions.mouseDrag = false;
                    owlOptions.touchDrag = false;
                }
                if (attrs['thumbnail-of']) {
                    setTimeout(function() {
                        element.find('.slide').on('click', function() {

                            var index = $(this).parents('.owl-item').index();
                            $('.brand-slider .slider.slider-' + attrs['thumbnail-of']).trigger('to.owl.carousel', index);
                            return false;
                        })
                    })
                }
                if (attrs['autoplay']) {
                    owlOptions.autoplay = true;
                }

                var applyFor = attrs['apply-for'];
                element.addClass('owl-carousel');
                element.owlCarousel(owlOptions);
            },
            resize: function(element) {
                var attrs = VietinBank.getAttributes(element);
                var applyFor = attrs['apply-for'];
                if (!applyFor) {
                    this.init(element);
                    return;
                }
                var windowWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                var breakpoints = applyFor.split(',');
                if (Array.isArray(breakpoints) && breakpoints.length > 1) {
                    if (windowWidth >= breakpoints[0] && windowWidth < breakpoints[1]) {
                        if (!element.hasClass('owl-loaded')) {
                            this.init(element);
                        }
                    } else {
                        element.owlCarousel('destroy');
                        element.removeClass('owl-carousel');
                    }
                    return;
                }
                var device = deviceMapping[applyFor];
                if (!device) return;
                if (windowWidth >= device.min && windowWidth < device.max) {
                    if (!element.hasClass('owl-loaded')) {
                        this.init(element);
                    }
                } else {
                    element.owlCarousel('destroy');
                    element.removeClass('owl-carousel');
                }
            }
        }
        try {
            $('.com_slider').each(function() {
                var element = $(this);
                comSlider.resize(element);
            });
        }
        catch(error) {
            console.error('comSlider init error',error.message);
        }

        $(window).resize(VietinBank.debounce(function() {
            try {
                $('.com_slider').each(function() {
                    comSlider.resize($(this));
                });
            }
            catch(error) {
                console.error('comSlider resize error',error.message);
            }
        }, 150));
    },

    verticalSlider: function(elem) {
        try {
            this.buttonHeight = 10;
            this.buttonsGap = 15;
            this.dragging = false;
            this.currentIndex = 0;
            this.startPoint = 0;
            this.currentTranslate = 0;
            this.elem = null;
            this.elem = elem;
            this.init = function(elem) {
                var self = this;
                self.elem.find('.slider__content').each(function() {
                    if (self.elem.data('draggable') !== false) {
                        var sliderContent = $(this);
                        sliderContent[0].addEventListener('mousedown', function() {
                            self.startDragging(event);
                        }, false);
                        sliderContent[0].addEventListener('mousemove', function() {
                            self.onDragging(event, sliderContent);
                        }, false);
                        sliderContent[0].addEventListener('mouseup', function() {
                            self.stopDragging();
                        }, false);
                        sliderContent[0].addEventListener('mouseleave', function() {
                            self.stopDragging();
                        }, false);

                        sliderContent[0].addEventListener('touchstart', function() {
                            self.startDragging(event);
                        }, false);
                        sliderContent[0].addEventListener('touchmove', function() {
                            self.onDragging(event, sliderContent);
                        }, false);
                        sliderContent[0].addEventListener('touchend', function() {
                            self.stopDragging();
                        }, false);
                    }
                });

                var maxHeight = 0;
                self.elem.find('.slider__content .step').each(function() {
                    var stepHeight = $(this).outerHeight();
                    if (stepHeight > maxHeight) maxHeight = stepHeight;
                });
                self.elem.height(maxHeight + 50);

                self.elem.find('.slider__dots > span').on('click', function() {
                    var buttonElem = $(this);
                    self.changeStep(buttonElem.index());
                });

                self.elem.find('.step:not(.active)').on('click', function() {
                    var buttonElem = $(this);
                    self.changeStep(buttonElem.index());
                });

                self.changeStep(0);

                $(window).resize(VietinBank.debounce(function() {
                    self.fetch();
            }, 50));
            };
            this.startDragging = function(e) {
                var self = this;
                self.startPoint = (e.clientY ? e.clientY : e.layerY) - self.currentTranslate;
                self.dragging = true;
            };
            this.onDragging = function(e, sliderContent) {
                var self = this;
                e.preventDefault();
                if (self.dragging) {
                    var currentPoint = e.clientY || e.layerY;
                    sliderContent.css({
                        transform: 'translateY(' + (currentPoint - self.startPoint) + 'px)',
                        transition: '0.1s all',
                        cursor: 'grabbing'
                    });
                    self.currentTranslate = currentPoint - self.startPoint;
                }
            };
            this.stopDragging = function() {
                var self = this;
                self.dragging = false;
                var activePosition = 0;
                var minSpace = 999999;
                self.elem.find('.step').each(function(stepIndex) {
                    var stepElem = $(this);
                    var positionTop = stepElem.position().top;
                    var distance = Math.abs(-self.currentTranslate - positionTop);
                    if (distance < minSpace) {
                        minSpace = distance;
                        activePosition = stepIndex;
                    }
                });
                self.changeStep(activePosition);
            },
            this.changeStep = function(itemIndex) {
                var self = this;
                self.currentIndex = itemIndex;
                self.elem.find('.step').removeClass('active');
                self.elem.find('.step').eq(self.currentIndex).addClass('active');

                self.elem.find('.slider__dots > span').removeClass('active');
                self.elem.find('.slider__dots > span').eq(self.currentIndex).addClass('active');

                self.elem.find('.slider__dots .indicator').css({
                    top: self.currentIndex*(self.buttonHeight+self.buttonsGap)
                });

                self.checkActiveStep();
            },
            this.checkActiveStep = function() {
                var self = this;
                var activatedStep = self.elem.find('.step.active');
                if (!activatedStep || !activatedStep.length) return;
                self.elem.find('.slider__content').css({
                    transform: 'translateY(-' + activatedStep.position().top + 'px)',
                    transition: '0.5s all',
                    cursor: 'auto'
                });
                self.currentTranslate = -activatedStep.position().top;
                self.elem.find('.slider__container').height(activatedStep.height() + 50);
            },
            this.fetch = function() {
                var self = this;
                setTimeout(function() {
                    self.changeStep(self.currentIndex);
                }, 500);
            }
        }
        catch(error) {
            console.error('verticalSlider error:',error.message);
        }
    },

    fakeHorizontalScrolling: function(elem) {
        try {
            this.elem = elem;
            this.parent = elem.parent();
            this.dragging = false;
            this.startPoint = 0;
            this.scrollLeft = 0;

            this.startDragging = function(e) {
                var self = this;
                var currentPoint = e.clientX || e.layerX;
                self.startPoint = currentPoint;
                self.dragging = true;
                self.scrollLeft = self.elem.scrollLeft();
            };

            this.onDragging = function(e) {
                var self = this;
                if (self.dragging) {
                    self.elem.find('*').css({
                        pointerEvents: 'none'
                    });
                    var currentPoint = e.clientX || e.layerX;
                    var diff = self.startPoint - currentPoint;
                    // self.elem.animate({
                    //     scrollLeft: self.scrollLeft + diff
                    // });
                    self.elem.scrollLeft(self.scrollLeft + diff);
                }
            }
            this.stopDragging = function(e) {
                var self = this;
                self.dragging = false;
                self.startPoint = 0;
                self.elem.find('*').css({
                    pointerEvents: ''
                });
            }

            this.init = function() {
                return;
                var self = this;
                self.elem.css({
                    overflow: 'hidden',
                    userSelect: 'none'
                });
                
                self.elem[0].addEventListener('mousedown', function() {
                    self.startDragging(event);
                }, false);
                self.elem[0].addEventListener('mousemove', function() {
                    self.onDragging(event, elem);
                }, false);
                self.elem[0].addEventListener('mouseup', function() {
                    self.stopDragging();
                }, false);
                self.elem[0].addEventListener('mouseleave', function() {
                    self.stopDragging();
                }, false);

                self.elem[0].addEventListener('touchstart', function() {
                    self.startDragging(event);
                }, false);
                self.elem[0].addEventListener('touchmove', function() {
                    self.onDragging(event, elem);
                }, false);
                self.elem[0].addEventListener('touchend', function() {
                    self.stopDragging();
                }, false);
            }
        }
        catch(error) {
            console.error('fakeHorizontalScrolling error',error.message);
        }
    },
    tabs: function(opt) {
        var _tabs = {
            target: '',
            nav: null,
            tabset: null,
            title: false,
            select: false,
            selectBox: '',
            swipe: false,
            totalTabs: 0,
            indicator: '',
            borderLine: '',
            length: 0,
            curActive: 0,
            select2_bool: false,
            init: function() {
                _tabs.target = opt.target;
                if(_tabs.target.indexOf('#') >= 0) {
                    var temp = _tabs.target.replace('#', '');
                    $(_tabs.target).addClass(temp);
                    _tabs.target = '.'+temp;
                }
                $(_tabs.target).attr('tab-parent',_tabs.target);
                _tabs.nav = $(_tabs.target).findClosetChildren('.com__tab-nav, .com__tab-nav-underline', _tabs.target).first();
                _tabs.indicator = null;
                _tabs.selectedTab = null;
                _tabs.borderLine = null;

                if (opt.title) {
                    _tabs.title = true;
                }

                if (opt.select) {
                    _tabs.select = true;
                }

                if (opt.swipe) {
                    _tabs.swipe = true;
                }

                if (_tabs.title) {
                    _tabs.buttontitle();
                }

                if (_tabs.select) {
                    _tabs.selector();
                }

                if(_tabs.nav.hasClass('dropdown__theme')) {
                    _tabs.select2_bool = true;
                }

                // triggers
                if(!_tabs.swipe) {
                    if(_tabs.select2_bool) {
                        _tabs.nav.find('select option').each(function() {
                            $($(this).val()).hide().attr('style', 'display: none !important');
                        })
                        // $(_tabs.target).find('.com__tab-set').hide();
                        _tabs.nav.find('select option').click(function(e) {
                            e.preventDefault();
                            if (!($(this).hasClass('selected'))) {
                                _tabs.open(this);
                            }
                        }); 
                    }
                    else {
                        _tabs.nav.find('a:not(.button)').each(function() {
                            if($(this).attr('href').indexOf('#') == 0) {
                                $($(this).attr('href')).hide();
                            }
                        })
                        // $(_tabs.target).find('.com__tab-set').hide();
                        _tabs.nav.find('a:not(.button)').click(function(e) {
                            if($(this).attr('href').indexOf('#') == 0) {
                                e.preventDefault();
                                if (!($(this).hasClass('selected'))) {
                                    _tabs.open(this);
                                }
                            }
                        }); 
                    }  
                }
                else {
                    _tabs.nav.find('a:not(.button)').click(function(e) {
                        e.preventDefault();
                        if (!($(this).hasClass('selected'))) {
                            _tabs.slide(this);
                        }
                    }); 
                }

                if(_tabs.select2_bool) {
                    _tabs.nav.find('select').val(_tabs.nav.find('select').find('option:first').val()).change();
                }
                else {
                    if(_tabs.nav.find('li.selected a:not(.button)').length > 0) {
                        _tabs.open(_tabs.nav.find('li.selected a:not(.button)'));
                    }
                    else {
                        if(location.hash && _tabs.nav.find('a[href*="'+location.hash+'"]:not(.button)').length) {
                            _tabs.open(_tabs.nav.find('a[href*="'+location.hash+'"]:not(.button)'));
                        }
                        else {
                            _tabs.open(_tabs.nav.find('a:not(.button)').eq(0));
                        }
                    }
                }

                _tabs.totalTabs = _tabs.nav.find('ul:not(.slick-slider) li').length;
                _tabs.indicator = $(_tabs.target).findClosetChildren('.styled-nav', _tabs.target).find('> .indicator');
                _tabs.borderLine = _tabs.nav.find('.border-line');

                if (_tabs.borderLine && _tabs.borderLine.length) {
                    var styledNav = _tabs.nav.find('.styled-nav');
                    styledNav.scroll(function() {
                        var scrollLeft = $(this).scrollLeft();
                        _tabs.borderLine.css({
                            'left': -scrollLeft + 10 + 'px'
                        })
                    });
                    _tabs.borderLine.css({
                        'left': -styledNav.scrollLeft() + 10 + 'px'
                    })
                }

                if(_tabs.totalTabs > 2) {
                    _tabs.nav.addClass('com__tab-extendednav').addClass('com__tab-number-'+_tabs.totalTabs);
                }

                if(_tabs.select2_bool) {
                    _tabs.nav.find('select option').each(function() {
                        $($(this).val()).addClass(_tabs.target.split('.').join(""));
                    })
                }
                else {
                    _tabs.nav.find('a:not(.button)').each(function() {
                        if($(this).attr('href').indexOf('#') == 0) {
                            $($(this).attr('href')).addClass(_tabs.target.split('.').join(""));
                        }
                    }) 
                }

                // var children = $(_tabs.target).children('.com__tab-set');
                // if(children.length == 0) {
                //     children = $(_tabs.target).find('.com__tab-set');
                // }
                // children.addClass(_tabs.target.split('.').join(""));

                // if first slide shud open first
                if(VietinBank.isVideo == false) {
                    _tabs.autoopen();
                }

                // when resize
                _tabs.resize(_tabs.curActive, 'resize' , function() {
                    if (_tabs.indicator && _tabs.indicator.length && _tabs.selectedTab) {
                        setTimeout(function() {
                            _tabs.indicator.css({
                                width: _tabs.selectedTab.outerWidth()
                            });
                        }, 100);
                    }
                });
                window.addEventListener('resize', VietinBank.debouncev2(function() {
                    _tabs.resize(_tabs.curActive, 'resize');
                }, 100, {
                    leading: false,
                    trailing: true
                }));
            },
            select2: function(options) {
                _tabs.select2_bool = true;
                _tabs.target = options.target;
                _tabs.open(options.element);
            },
            open: function(target) {
                try {
                    var same = true;
                    _tabs.curActive = parseInt($(target).parent().attr('tab-child'));

                    // manage the highlighting of nav
                    if(!_tabs.select2_bool) {
                        if(_tabs.nav.find('.selected')[0] != $(target).parent()[0]) {
                            same = false;
                        }
                        _tabs.nav.find('.selected').removeClass('selected');
                        $(target).parent().addClass('selected');
                        _tabs.siblings($(target).parent());
                    }

                    _tabs.selectedTab = $(target).parent();
                    if(_tabs.selectedTab.parents('.owl-item').length) _tabs.selectedTab = _tabs.selectedTab.parents('.owl-item');

                    // hide the prev opened tab
                    $(_tabs.target+'.tab-active').removeClass('tab-active').hide();

                    // show the active tab
                    if(!_tabs.select2_bool) {
                        var hash = $(target).attr('href');
                        if(hash) {
                            var _target = $(hash.substring(hash.indexOf('#')));
                        }
                    }
                    else {
                        if(target.indexOf('#') > -1) {
                            _target = document.getElementById(target.substring(1));
                        }
                        else {
                            _target = document.querySelector(target);                      
                        }
                    }
                    if (_target == null || _target.length == 0) {
                        _target = $($(target).attr('href'),$(_tabs.target).parent()[0]);
                    }
                    if (_target == null || _target.length == 0) {
                        _target = $(target);
                    }
                    if (_target == null || _target.length == 0) {
                        if($(target).attr('href').indexOf('#') >= 0) {
                            var url = $(target).attr('href');
                            _target = $(url.substring(url.indexOf('#')),$(_tabs.target).parent()[0]);
                        }
                        else {
                            try {
                                _target = document.querySelector(target);
                            }
                            catch(err) {
                                console.error('tabs not found=',target);
                            }
                        }
                    }
                    $(_target).show().addClass('tab-active');
                    if(!same) {
                        VietinBank.dispatchEvent(window, 'tab_changed');
                    }
                    _tabs.resize(_tabs.curActive);

                    // $(document.body).trigger("sticky_kit:recalc");
                    VietinBank.stickinparent({action: 'reload'});
                    // $('[sticky-content]').trigger('sticky_kit:recalc');
                }
                catch(error) {
                    console.error('target has no href:',target);
                }
            },
            slide: function(target) {
                var index = $(target).parents().index();
                // $(_tabs.target).find('.com__tab-nav .selected').eq(0).removeClass('selected');
                _tabs.nav.find('.selected').removeClass('selected');
                $(target).parent().addClass('selected');
                _tabs.siblings($(target).parent());
                var comSlider = $(target).parents($(_tabs.target)).find('.com_slider'); // Slider inside tabs
                if (!comSlider || !comSlider.length) {
                    comSlider = $(target).parents($(_tabs.target)).next('.com_slider');
                }
                comSlider.trigger('to.owl.carousel',[index,350]);
            },
            siblings: function(target) {
                _tabs.nav.find('.next').removeClass('next');
                _tabs.nav.find('.previous').removeClass('previous');
                if(target.prev().length && parseInt(target.prev().attr('tab-child')) >= 0) {
                    target.prev().removeClass('next').addClass('previous');
                }

                if(target.next().length) {
                    target.next().removeClass('previous').addClass('next');
                }
            },
            autoopen: function() {
                var _auto = {
                    ids: [],
                    init: function() {
                        _tabs.nav.find('a:not(.button)').each(function(index, element) {
                            $(this).parent().attr('tab-child', index);
                            if($(this).attr('href')) {
                                _auto.ids.push($(this).attr('href'));
                            }
                        });

                        if($.inArray(VietinBank.hash, _auto.ids) >= 0) {
                            $('a[href="'+VietinBank.hash+'"]').trigger('click');
                            $('html, body').animate({scrollTop: $(VietinBank.hash).offset().top}, 1000);
                            if(_tabs.select) {
                                _tabs.selectBox.selectedIndex = _tabs.curActive;
                            }
                        }
                    }
                }
                _auto.init();
            },
            destroy: function() {
                $('.com__tn-dd', opt.target).remove();
                $(_tabs.target).findClosetChildren('.com__tab-nav, .com__tab-nav-underline', _tabs.target).find('.selected').removeClass('selected');
                $('.com__tab-set', opt.target).css('display', '').removeClass('tab-active');
            },
            buttontitle: function() {
                var _title = {
                    button: '',
                    capt: '',
                    init: function() {
                        _title.create();

                        _title.update();
                    },
                    create: function() {
                        $('.com__tn-title', _tabs.target).remove();

                        _title.button = document.createElement('div');
                        $(_title.button).addClass('com__tn-title');

                        _tabs.nav.prepend(_title.button);

                        $(_title.button).click(function() {
                            if ($(this).hasClass('nav-active')) {
                                _title.close();
                            } else {
                                _title.open();
                            }
                        });

                        _tabs.nav.find('a').click(function(e) {
                            e.preventDefault();
                            _title.close();
                            _title.update();
                        });

                        window.addEventListener('click', function(e) {
                            if (!(document.querySelector('.com__tn-title').contains(e.target))) {
                                _title.close();
                            }
                        });
                    },
                    update: function() {
                        _title.capt = _tabs.nav.find('selected').eq(0).text();
                        $(_title.button).html(_title.capt);
                    },
                    close: function() {
                        $(_title.button).removeClass('nav-active');
                        _tabs.nav.find('ul').slideUp(150);
                    },
                    open: function() {
                        $(_title.button).addClass('nav-active');
                        _tabs.nav.find('ul').slideDown(150);
                    }
                }
                _title.init();
            },
            selector: function() {
                var _select = {
                    target: '',
                    select: '',
                    current: 0,
                    init: function() {
                        $('.com__tn-dd', _tabs.target).remove();

                        _select.target = document.createElement('div');
                        $(_select.target).addClass('com__tn-dd');

                        _select.select = document.createElement('select');

                        for (var i = 0; i < _tabs.nav.find('a').length; i++) {
                            var _option = document.createElement('option');
                            _option.value = _tabs.nav.find('a').eq(i).attr('href');
                            _option.text = _tabs.nav.find('a').eq(i).text();

                            $(_select.select).append(_option);
                        }

                        $(_select.target).append(_select.select);
                        _tabs.nav.prepend(_select.target);
                        $(_select.select).on('change', function() {
                            _tabs.open(this.value);
                        });

                        _tabs.selectBox = _select.select;
                    }
                }
                _select.init();
            },
            resizeTimer: 0,
            resize: function(number, resize, callback) {
                if(number == undefined) {
                    number = 0;
                }

                if (_tabs.indicator && _tabs.indicator.length && _tabs.selectedTab) {
                    var _left = Math.floor(_tabs.selectedTab.position().left);
                    _tabs.indicator.css({
                        left: _left,
                        width: _tabs.selectedTab.outerWidth(),
                    });

                    var styledNav = _tabs.nav.find('.styled-nav');
                    _ul = _tabs.nav.find('ul.styled-nav');
                    _gutter = (_ul.outerWidth() - $('.com__tab-nav li, .com__tab-nav-underline li', _tabs.target).eq(number).outerWidth()) / 2,
                    _childNum = parseInt(_tabs.nav.find('li').eq(number).parent().attr('tab-child'));

                    if(_childNum == 0 || _childNum == (_tabs.length - 1)) {
                        _gutter = 0;
                    }

                    if(resize == 'resize') {
                        styledNav.scrollLeft(_left - _gutter);
                    } else {
                        styledNav.animate({scrollLeft: _left - _gutter});
                    }
                }

                if (_tabs.borderLine && _tabs.borderLine.length) {
                    var last = _tabs.nav.find('ul.styled-nav li').last();
                    _tabs.borderLine.css({'width': last.position().left + last.width() + "px"})
                }

                if(typeof callback == 'function') {
                    callback();
                }
            }
        }
        try {
            if (opt.destroy == true) {
                _tabs.destroy();
            } else if (opt.select2 == true) {
                _tabs.select2(opt);
            } else {
                _tabs.init();
            }
        }
        catch(error) {
            console.error('tabs error :'+opt.target, error.message);
        }
    },
	toggleHeight: function(opt) {
		var _toggle = {
			parent: '',
			initHeight: 500,
			finalHeight: 0,
			main: '',
			init: function() {
				_toggle.parent = opt.target;
				_toggle.main = $('.com__th-main', _toggle.parent);
				_toggle.main.addClass('height-toggled');
				var _initItem = $(_toggle.parent).attr('init-item');
				var _initHeight = $(_toggle.parent).attr('init-height');
				if(_initItem) {
					_toggle.initHeight = 0;
					for(var i = 0; i < parseInt(_initItem); i++) {
						_toggle.initHeight += _toggle.main.find('.com__th-col:not(.col-top) .com__in-fu-list').eq(i).outerHeight();
					}
					_toggle.main.find('.com__in-fu-list.list-head').each(function(index, item) {
						if($(item).outerHeight !== 0) {
							_toggle.initHeight += $(item).outerHeight();
						}
					})
				}
				else if(_initHeight) {
					_toggle.initHeight = _initHeight;
				}


				$(_toggle.main).css({height: _toggle.initHeight});

				$('.com__th-btn', _toggle.parent).click(function() {
					_toggle.show();
					VietinBank.stickinparent({
						action: 'update'
					})
				});
				$(window).resize(function() {
					if(_toggle.main.hasClass('height-toggled')) {
						if(_initItem) {
							_toggle.initHeight = 0;
							for(var i = 0; i < parseInt(_initItem); i++) {
								_toggle.initHeight += _toggle.main.find('.com__th-col:not(.col-top) .com__in-fu-list').eq(i).outerHeight();
							}
							_toggle.main.find('.com__in-fu-list.list-head').each(function(index, item) {
								if($(item).outerHeight !== 0) {
									_toggle.initHeight += $(item).outerHeight();
								}
							})
						}
						else if(_initHeight) {
							_toggle.initHeight = _initHeight;
						}
						$(_toggle.main).css({height: _toggle.initHeight});
					}
				})
			},
			show: function() {
				_toggle.finalHeight =  $('> *', _toggle.main).outerHeight();
				TweenMax.to(_toggle.main, 1, {height: _toggle.finalHeight, onComplete: function() {
					TweenMax.set(_toggle.main, {clearProps: 'all'});
				}});
				$('.com__inv-more', _toggle.parent).hide();
				_toggle.main.removeClass('height-toggled');
			}
		}
		try {
			_toggle.init();
		}
		catch(error) {
			console.error('toggleHeight error:',error.message);
		}
	},
	toggle: function(opt) {
		var _toggle = {
			target: '',
			btn: '',
			main: '',
			more: '',
			init: function() {
				_toggle.defaults();

				_toggle.btn.click(function(e) {
					e.preventDefault();

					if($(_toggle.target).hasClass('com__toggle-active')) {
						_toggle.close();
					} else {
						_toggle.open();
					}
				});
			},
			defaults: function() {
				_toggle.target = opt.target;
				_toggle.btn = $('.com__toggle-btn', _toggle.target);
				_toggle.main = $('.com__toggle-main', _toggle.target);
				_toggle.more = $('.com__toggle-more', _toggle.target);
			},
			open: function() {
				$(_toggle.target).addClass('com__toggle-active');
				_toggle.main.slideUp();
				_toggle.more.slideDown();
			},
			close: function() {
				$(_toggle.target).removeClass('com__toggle-active');
				_toggle.main.slideDown();
				_toggle.more.slideUp();
			}
		}	
		try {
			_toggle.init();
		}
		catch(error) {
			console.error('toggle error:',error.message);
		}
	},
videos: function() {
  VietinBank.allVideos = {};
  var recalculateIframeSize = function() {
    try {
      var videoMasthead = $('.com_video-masthead .com_yt-video');
      var iframe = videoMasthead.find('iframe');
      var newHeight = iframe.width()*9/16;
      if ($(window).innerWidth() > 767 && newHeight >= 700) {
        iframe.height(newHeight);
      }
      else {
        var height = iframe.height();
        iframe.height('');
        iframe.width('');
        var newWidth = height*16/9;
        if (newWidth < $(window).innerWidth()) {
          var newHeight = $(window).innerWidth()*9/16;
          iframe.height(newHeight);
        } else {
          iframe.width(height*16/9);
        }
      }
    }
    catch(error) {
      console.error('video recalculateIframeSize error:',error.message);
    }
  }
  var recalculateSliderItems = function(slider) {
    try {
      var parentNav = slider.closest('.com__tab-nav');
      $(slider).height($(slider).parents('.com_videos').find('.tab__content').innerHeight());
      var itemHeight = 100 + 10;
      var sliderHeight = $(slider).innerHeight();
      var itemsCount = Math.ceil(sliderHeight/itemHeight);
      var slickItems = Math.max(itemsCount-1, 1);
      if (slickItems >= $(slider).find('li.slick-slide').length) {
        slider.addClass('disabled');
      } else {
        slider.removeClass('disabled');
        slider.find('.slick-list').css('min-height', '');
      }
      $(slider).slick('slickSetOption', 'slidesToShow', slickItems);
      slider.find('.slick-list').css('min-height', '100%');

      if ($(window).innerWidth() > 767) {
        var selectedTab = slider.find('.slick-list').find('li.selected');
        if (!selectedTab || !selectedTab.length) {
          slider.find('.slick-list').find('li:first > a').trigger('click');
        }
      } else {
        var selectedTab = parentNav.find('ul.styled-nav li.selected');
        if (!selectedTab || !selectedTab.length) {
          parentNav.find('ul.styled-nav li:first > a').trigger('click');
        }
      }
    }
    catch(error) {
      console.error('video recalculateSliderItems error:',error.message);
    }
  }
  /* -------------------------------------------------------
  | every videos
   ------------------------------------------------------- */
  try {
    $(window).on('player_ready', VietinBank.debouncev2(function() {
      VietinBank.autoScroll({
        target: VietinBank.hash
      });
    }, 500, {
      leading: true,
      trailing: true
    }))
    $('.com_yt-video').each(function(index) {
      VietinBank.isVideo = true;

      $(this).attr('id', 'comVideo' + index);
      var elem = $(this);
      var elemId = elem.attr('id');
      var videoId = elem.data('video-id');
      var playerElem = elem.find('.yt-player');
      var playBtn = elem.find('.play-video-btn i.fa-play');
      var videoStart = parseFloat(elem.data('video-start'));
      // anthony 2019103101
      // change the attr id of the player container so it is allowed to put same videos in diff containers
      $(playerElem).attr('id', 'video--' + index + '-' + videoId);
      playBtn.removeClass('fa fa-play').addClass('fas fa-spinner fa-spin');
      var playerElemId = playerElem.attr('id');
      var controls = elem.data('controls') ? Number(elem.data('controls')) : 0;
      if (isNaN(controls)) controls = 0;
      var player = new YT.Player(playerElemId, {
        height: '600',
        width: '900',
        videoId: videoId,
        host: window.location.protocol+'//www.youtube.com',
        playerVars: {
          rel: 0,
          autoplay: 0,
          controls: controls,
          modestbranding: 1,
          loop: 1,
          cc_load_policy: 0,
          iv_load_policy: 3,
          autohide: 0,
          fs: 0,
          frameborder: 0,
          ecver: 2,
          start: videoStart ? videoStart : 0,
          'ytp-pause-overlay': 0,
          origin: window.location.href
        },
        events: {
          onStateChange: function(event) {
            if(event.data == YT.PlayerState.CUED) {
              $(elem).addClass('yt-loading');
            }
            if(event.data == YT.PlayerState.PLAYING) {
              if($(elem).hasClass('yt-loading')) {
                if(videoStart) {
                  VietinBank.allVideos[videoId + '-' + (elemId ? elemId : '')].seekTo(videoStart);
                  $(elem).removeClass('yt-loading');
                }
              }
            }
          },
          onReady: function(e) {
            e.target.mute();
            elem.addClass('yt-ready');
            playBtn.removeClass('fas fa-spinner fa-spin').addClass('fa fa-play');
            VietinBank.dispatchEvent(window, 'player_ready');
            // scroll to element is getting void coz of youtube video, so need to scroll again
          }
        }
      });
      VietinBank.allVideos[videoId + '-' + (elemId ? elemId : '')] = player;
      if(elem[0].__proto__) {
        elem[0].__proto__.YTPlayer = player;
      }
    });

    $('.com_video .video__background').each(function(index) {
      $(this).parent().on('click touchstart', function() {
        var elem = $(this).find('.play-video-btn');
        var videoElem = $(this).find('.com_yt-video');
        var elemId = videoElem.attr('id');
        var videoId = elem.data('video-id');
        $(videoElem).addClass('active');
        if(videoElem.hasClass('yt-ready')) {
          if (!videoId) return;
          var player = VietinBank.allVideos[videoId+'-'+elemId];
          if (!player) return;
          if (typeof player.playVideo === 'function') {
            player.playVideo();
            //ky 2019-11-24
            //move seekTo function to youtube events on player playing.
          }
        }
        else {
          console.error(elemId, 'not ready');
        }
      });
    });

    $(window).on('tab_changed', function() {
      var keys = Object.keys(VietinBank.allVideos);
      for (var i=0; i<keys.length; i++) {
        var player = VietinBank.allVideos[keys[i]];
        if (player) {
          var ytplayer = typeof player.a !== 'undefined' ? player.a : player.f;
          $(ytplayer).parents('.com_yt-video').removeClass('active');
          if (typeof player.stopVideo === 'function') {
            player.stopVideo();
          }
        }
      }
    });
  }
  catch(error) {
    console.error('video - single video error:',error.message);
    console.error('trying to call youtube api again in 5 seconds');
    var _tempYoutubeAPI = setTimeout(function () {
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      VietinBank.videos();
      clearTimeout(_tempYoutubeAPI);
    }, 5000);
  }
  // End of single video -------------------------------------

  /* -------------------------------------------------------
  | For Masthead video // only for youtube
   ------------------------------------------------------- */
  // TODO: need to find a better solution. For now, can't use Promise because of IE.
  try {
    var waitingForLoadingMastheadVideo = setInterval(function() {
      var videoMasthead = $('.com_video-masthead .com_yt-video');
      var mastHeadId = videoMasthead.attr('id');
      var videoId = videoMasthead.data('video-id') + '-' + mastHeadId;
      var startAt = videoMasthead.data('start-at') == '' ? 5 : Number(videoMasthead.data('start-at'));
      var endAt = videoMasthead.data('end-at') == '' ? 10 : Number(videoMasthead.data('end-at'));
      recalculateIframeSize();
      if (!mastHeadId || !videoId) {
        clearInterval(waitingForLoadingMastheadVideo);
        return;
      }
      var player = VietinBank.allVideos[videoId];
      if (player && typeof VietinBank.allVideos[videoId].playVideo === 'function') {
        // VietinBank.allVideos[videoId].playVideo();
        player.mute();
        playLoopVideo(videoId, startAt, endAt);
        clearInterval(waitingForLoadingMastheadVideo);
      }
    }, 500);

    var playLoopVideo = function(videoId, startAt, endAt) {
      if ($(window).innerWidth() < 768) return;
      if (isNaN(startAt)) startAt = 0;
      var player = VietinBank.allVideos[videoId];
      player.seekTo(startAt, true);
      player.playVideo();
      var looping = setInterval(function() {
        if (isNaN(endAt) || endAt < startAt) {
          clearInterval(looping);
          return;
        }
        var currentTime = player.getCurrentTime();
        if (currentTime > endAt || currentTime < startAt) {
          player.seekTo(startAt, true); 
        }
      }, 1000)
    }
  }
  catch(error) {
    console.error('video - masthead video error:',error.message);
  }
  // End of Masthead video -------------------------------------
  // GET THUMBNAIL
  // $('.yt-video-thumbnail').each(function() {
  //   var elem = $(this);
  //   var size = elem.data('size');
  //   if (!size) size = 'hq';
  //   var imgUrl = 'https://img.youtube.com/vi/'+videoId+'/'+size+'+default.jpg';
  //   $.get(imgUrl).success(function(img) {
  //     console.log(img);
  //   });
  // });

  /* -------------------------------------------------------
  | For Videos list
   ------------------------------------------------------- */
  try {
    var slickSliders = $('.com_videos.videos .com__tab-content .com__tab-nav ul.slick-slider');
    slickSliders.each(function(slideIndex, slickElement) {
      var self = this;
      var slickSlider = $(self);

      slickSlider.on('init', function(e) {
        var slider = $(this);
        setTimeout(function() {
          slider.find('.slick-list').css('min-height', '100%');
          slickSlider.find('.slick-list').addClass('first');
        }, 300);
      });
      var itemsCount = slickSlider.find('> li').length;
      slickSlider.on('afterChange', function(event, slickData, slideIndex){
        if (slideIndex === 0) {
          slickSlider.find('.slick-list').addClass('first');
        } else {
          slickSlider.find('.slick-list').removeClass('first');
        }
        if (slideIndex + slickData.options.slidesToShow === itemsCount) {
          slickSlider.find('.slick-list').addClass('last');
        } else {
          slickSlider.find('.slick-list').removeClass('last');
        }
      });

      slickSlider.slick({
        vertical: true,
        infinite: false,
        draggable: false,
      });

      recalculateSliderItems(slickSlider);
    }) 
  }
  catch(error) {
    console.error('video - list video error:',error.message);
  }

  /*
   * Update length
   */
  //for videos cases
  var _this = $('.com_videos.videos .com__tab');
  var _li = $('ul.styled-nav', _this).find('li');
  var _indicator = $('ul.styled-nav .indicator', _this);
  var _indicator_width = 0;
  if(_li.length <= 2 && _li.length > 0) {
    _li.each(function() {
      $(this).removeClass('col-4');
      if(_li.length == 2) {
        $(this).addClass('col-6');
        _indicator_width = $(this).width();
      }
      else {
        $(this).addClass('col-12');
        _indicator_width = $(this).width();
      }
    })
    _indicator.css('width', _indicator_width);
  }

  $('.com_videos').each(function() {
    $(this).find('#component__loader').remove();
    $(this).animate({
      'opacity': 1
    });
  })

  $(window).on('resize tab_changed', function() {
    recalculateIframeSize();
    var slickSliders = $('.com_videos.videos .com__tab-content .com__tab-nav ul.slick-slider');
    slickSliders.each(function(slideIndex, slickElement) {
      recalculateSliderItems($(this));
    });
  });
},
	waystoapply: function() {
		try {
			var detailsWrapper = $('.cta__basic-details');
			detailsWrapper.each(function() {
				$('[data-fancybox]',detailsWrapper).fancybox({
					autoFocus: false,
					backFocus: false,
				});
				$('.cta__basic-toggle').on('click', function(e) {
			        e.preventDefault()
			        var curTarget = $(this).attr('href');
			        $(this).toggleClass('active');
			        $(curTarget).slideToggle();
			    });

			    $(window).resize(function() {
			        if (window.innerWidth > 767) {
			            $('.m-item').attr('style', '');
			        }
			    });
			    $('.ways-to-apply-tabs').each(function(index) {
			    	var _this = $(this),
		            _index = 'waystoapply-tabs_' + index;
		            _this.addClass(_index);
			    	VietinBank.enquire({
				        between: 767,
				        desktop: function() {
				            VietinBank.tabs({
				                target: '.'+_index,
				                destroy: true
				            });	
				        },
				        mobile: function() {
				            VietinBank.tabs({
				                target: '.'+_index
				            });
				        }
				    });
			    });
			});  
		}
		catch(error) {
			console.error('waystoapply error:',error.message);
		}
	},
agentGuide: function() {
	// alert();
	var cardCodeCC = { /* deprecated */
		"card-1": "PR2", // VietinBank 365 Card
		"card-2": "TN2", // Titanium Blue
		"card-2B": "TN2", // Titanium Blue
		"card-2P": "TN4", // Titanium Blue
		"card-3": "CF1", // Cashflo
		"card-4": "PX2", // FRANK
		"card-5": "FP2", // VietinBank Plus!
		"card-5A": "FP1", // VietinBank Plus! (with Plus! Savings Account)
		"card-6": "V47", // NTUC Plus!
		"card-6A": "V42", // NTUC Plus! (with Plus! Savings Account)
		"card-7": "V58", // Robinsons
		"card-8": "M29", // VietinBank Arts Credit Card
		"card-9": "PM1",  // VietinBank Platinum Credit Card
		"card-10": "PM6", // VietinBank BEST Denki Credit Card
		"card-11": "CF2",  // GE Cashflo
		"card-13": "W03" // 90degrees
		// "": "V42", // NTUC Plus! (with Plus! Savings Account)
		// "": "FP1", // VietinBank Plus! (with Plus! Savings Account)
	};
	var cardCodeDC = { /* deprecated */
		"dc-card-1": "GEN", // VietinBank YES! Debit Card
		"dc-card-2": "FRV", // FRANK Debit Card
		"dc-card-3": "FRP", // VietinBank Plus! Visa Debit Card
		"dc-card-4": "NPD"  // NTUC Plus! Visa Debit Card
	};
	var cardholderID = [];
	var cardColor = "";
	var scrollTopAndWindowHeight = $(window).scrollTop() + $(window).height();
	var cardWithType = { /* deprecated */
		'card-2':'',
		'card-5':'',
		'card-6':''
	};

	var agFunction = {
		//add class in header for mobile
		headerFix: function() {
   //    		var st = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);
   //    		var agbodyClass = $('body');
			// if(agbodyClass.hasClass('com_agent-guide-page') && $(window).width() <= 991 && st <= 0){
			// 	agbodyClass.addClass('page-agentguide-fixed-header');
			// }else{
			// 	agbodyClass.removeClass('page-agentguide-fixed-header');
			// }
		},

		//update popup button if card is selected or not
		updateButtonInPopup: function() {
			var selectedCards = $('.cards-selected-cards-container ul.cards-list li');
			var selectedCardsCount = selectedCards.length;
			$('.ctp-masthead .add-card').removeClass('selected');
			if(selectedCardsCount){
				for(var i = 0; selectedCardsCount > i; i++ ){
					var cardID = selectedCards.eq(i).attr('data-card-id');
					var parentPopupWrapper = $('#details-'+cardID);
					$('.add-card',parentPopupWrapper).addClass('selected');
				}
			}
		},

		// append selected cards in the form
		appendSelectedCards: function() {
			var selectedCards = $('.cards-selected-cards-container ul.cards-list li');
			var selectedCardsCount = selectedCards.length;
			$('a',selectedCards).unbind('click');
			if(selectedCardsCount){
				var facData = '';
				cardholderID.length = 0;
				/* deprecated */
				var cardColor = $('div[data-card-id="card-2"]').attr('data-card-newid');
				var cardplus5 = $('div[data-card-id="card-5"]').attr('data-card-newid');
				var cardplus6 = $('div[data-card-id="card-6"]').attr('data-card-newid');

				if(selectedCardsCount <= 1){
					$('.apply-for .card-text').html('card');
				}else{
					$('.apply-for .card-text').html('cards');
				}

				for(var i = 0; selectedCardsCount > i; i++ ){
					var cardID = selectedCards.eq(i).attr('data-card-id');
					var cardCode = selectedCards.eq(i).attr('data-card-code');
					cardholderID.push(cardID);
					var cardIDFilter = cardID;
					if(cardID == 'card-2'){
						cardIDFilter = cardColor;
						cardWithType[cardID] = cardColor;
					}
					if(cardID == 'card-5' && cardplus5 != ""){
						cardIDFilter = cardplus5;
						cardWithType[cardID] = cardplus5;
					}

					if(cardID == 'card-6' && cardplus6 != ""){
						cardIDFilter = cardplus6;
						cardWithType[cardID] = cardplus6;
					}
					
					if(i == 0){
						if(cardCode == 'undefined') {
							facData += cardCodeCC[cardIDFilter];
						}
						else {
							facData += cardCode;
						}
					}else if(i == 1 || i == 2){
						if(cardCode == 'undefined') {
							facData += '|' + cardCodeCC[cardIDFilter];
						}
						else {
							facData += '|' + cardCode;
						}
					}
					$('a',selectedCards.eq(i)).bind('click', function() {
						if(typeof $('div[data-card-id="'+cardID+'"].single-card').data('extra') != 'undefined' ||cardID == 'card-2' || cardID == 'card-5' || cardID == 'card-6'){
							//revert back
							$('.card-actions-option', $('div[data-card-id="'+cardID+'"].single-card')).removeClass('to-be-removed');
						}
						setTimeout(function() {
							agFunction.appendSelectedCards();
							if(selectedCardsCount <= 1){
								localStorage.removeItem("selectedCard");
							}else{
								agFunction.selectedCardStorage();
							}
						},500);
					});
				}
				agFunction.selectedCardStorage();
				agFunction.selectedCardType(cardWithType);
			}
			$('input#facData').val(facData);

			//update link in comparecards
			var selectedCards = "";
			if(cardholderID.length){
				for(i in cardholderID){
					if(i == 0){
						selectedCards += '&card1='+cardholderID[i];
					}else if(i == 1){
						selectedCards += '&card2='+cardholderID[i];
					}else if(i == 2) {
						selectedCards += '&card3='+cardholderID[i];
					}
				}
			}
			var AgentID = (agFunction.getUrlParameter('AgentID') ? agFunction.getUrlParameter('AgentID'):''),
				AgentIntroducerID = (agFunction.getUrlParameter('AgentIntroducerID') ? agFunction.getUrlParameter('AgentIntroducerID') : ''),
				AgentSourceCode = (agFunction.getUrlParameter('AgentSourceCode') ? agFunction.getUrlParameter('AgentSourceCode') : '');
			if($('a.cards-compare').hasClass('selected-cards-only')){
				if($('a.cards-compare').hasClass('cards-compare-pre-qualified')) {
					AgentSourceCode = $("#AgentSourceCode").val();
					$('a.cards-compare').attr('href',$('a.cards-compare').data('href')+'?cards='+selectedCards+'&AgentSourceCode='+AgentSourceCode);
				}else{
					$('a.cards-compare').attr('href',$('a.cards-compare').data('href')+'?cards='+selectedCards);
				}
			}else{
				$('a.cards-compare').attr('href',$('a.cards-compare').data('href')+'?AgentID='+AgentID+'&AgentIntroducerID='+AgentIntroducerID+'&AgentSourceCode='+AgentSourceCode+selectedCards);
			}
		},

		// update next and prev button in popup
		updateButtonPosition: function() {
			if($(window).width() >= 1260){
				var buttonPos = $(window).width() - 1180;
				$('.ctp-f-btn.f-btn-prev').css('left',buttonPos / 2);
				$('.ctp-f-btn.f-btn-next').css('right',buttonPos / 2);
			}else{
				$('.ctp-f-btn.f-btn-prev').css('left',0);
				$('.ctp-f-btn.f-btn-next').css('right',0);
			}
		},

		//update main navigation link
		updateParamInLinkFromURI: function() {
			var mainNav = $('.header__main--navi ul li a');
			var mainNavCount = mainNav.length;
			var AgentID = agFunction.getUrlParameter('AgentID'),
				AgentIntroducerID = (agFunction.getUrlParameter('AgentIntroducerID') ? agFunction.getUrlParameter('AgentIntroducerID') : ''),
				AgentSourceCode = (agFunction.getUrlParameter('AgentSourceCode') ? agFunction.getUrlParameter('AgentSourceCode') : '');
			for(var i = 0; i < mainNavCount; i++){
				var mnLink = mainNav.eq(i).attr('href');
				var mnLinkSplit = mnLink.split('.html');
				var newLink = mnLinkSplit[0]+'.html?AgentID='+AgentID+'&AgentIntroducerID='+AgentIntroducerID+'&AgentSourceCode='+AgentSourceCode;
				mainNav.eq(i).attr('href','');
				mainNav.eq(i).attr('href',newLink);
			}
			if($('.back-to-card-listing').length && !$('.back-to-card-listing').hasClass('instant-credit-btn')){
				var cardlistingUrl = $('.back-to-card-listing').attr('href').split('.html');
				var cluAdditionalParam = cardlistingUrl[0]+'.html?AgentID='+AgentID+'&AgentIntroducerID='+AgentIntroducerID+'&AgentSourceCode='+AgentSourceCode;
				$('.back-to-card-listing').attr('href',cluAdditionalParam);
				// if($('.back-to-card-listing').hasClass('instant-credit-btn')){
				// 	$('.back-to-card-listing').attr('href',cluAdditionalParam+cluAdditionalParam+'#instant-credit-card-list');
				// }else{
				// 	$('.back-to-card-listing').attr('href',cluAdditionalParam+cluAdditionalParam);
				// }
			}
		},

		// update all related links to agent guide when field change
		updateParamInLinkOnFieldChange: function() {
			var mainNav = $('.header__main--navi ul li a');
			var mainNavCount = mainNav.length;

			var AgentID = ($('#AgentID').val().length ? $('#AgentID').val() :''),
				AgentIntroducerID = ($('#AgentIntroducerID').length ? $('#AgentIntroducerID').val() :''),
				AgentSourceCode = ($('#AgentSourceCode').length ? $('#AgentSourceCode').val() :'');

			for(var i = 0; i < mainNavCount; i++){
				var mnLink = mainNav.eq(i).attr('href');
				var mnLinkSplit = mnLink.split('.html');
				var newLink = mnLinkSplit[0]+'.html?AgentID='+AgentID+'&AgentIntroducerID='+AgentIntroducerID+'&AgentSourceCode='+AgentSourceCode;
				mainNav.eq(i).attr('href','');
				mainNav.eq(i).attr('href',newLink);
			}
			if (!window.location.origin) {
			  window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');
			}
			var newURL = window.location.origin + window.location.pathname+'?AgentID='+AgentID+'&AgentIntroducerID='+AgentIntroducerID+'&AgentSourceCode='+AgentSourceCode;
			history.pushState({path:newURL},"",newURL);
			//update link in comparecards
			var selectedCards = "";
			if(cardholderID.length){
				for(i in cardholderID){
					if(i == 0){
						selectedCards += '&card1='+cardholderID[i];
					}else if(i == 1){
						selectedCards += '&card2='+cardholderID[i];
					}else if(i == 2) {
						selectedCards += '&card3='+cardholderID[i];
					}
				}
			}
			var AgentID = (agFunction.getUrlParameter('AgentID') ? agFunction.getUrlParameter('AgentID'):''),
				AgentIntroducerID = (agFunction.getUrlParameter('AgentIntroducerID') ? agFunction.getUrlParameter('AgentIntroducerID') : ''),
				AgentSourceCode = (agFunction.getUrlParameter('AgentSourceCode') ? agFunction.getUrlParameter('AgentSourceCode') : '');
			if($('a.cards-compare').hasClass('selected-cards-only')){
				$('a.cards-compare').attr('href',$('a.cards-compare').data('href')+'?cards='+selectedCards);
			}else{
				$('a.cards-compare').attr('href',$('a.cards-compare').data('href')+'?AgentID='+AgentID+'&AgentIntroducerID='+AgentIntroducerID+'&AgentSourceCode='+AgentSourceCode+selectedCards);
			}
		},

		// get parameter in url
		getUrlParameter: function(sParam) {
			var sPageURL = window.location.search.substring(1),
			    sURLVariables = sPageURL.split('&'),
			    sParameterName,
			    i;

			for (i = 0; i < sURLVariables.length; i++) {
			    sParameterName = sURLVariables[i].split('=');

			    if (sParameterName[0] === sParam) {
			        return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
			    }
			}
		},

		fieldValidation: function() {
			var x = 1;
			// if($('#AgentID').length && !$('#AgentID').val()) {
			// 	x = 0;
			// 	$('#AgentID').closest('.material-form-control').addClass('has-error');
			// }
			// if($('#AgentIntroducerID').length && !$('#AgentIntroducerID').val()) {
			// 	x = 0;
			// 	$('#AgentIntroducerID').closest('.material-form-control').addClass('has-error');
			// }
			// if($('#AgentSourceCode').length && !$('#AgentSourceCode').val()) {
			// 	x = 0;
			// 	$('#AgentSourceCode').closest('.material-form-control').addClass('has-error');
			// }

			if($('body').hasClass('com_agent-guide-page') && $('#facData').length && !$('#facData').val()) {
				x = 0;
				$.fancybox.open({
					src:'#modal-select-card',
					autoFocus: false,
					backFocus: false,
					afterClose: function() {
						$.fancybox.close(true);
					}
				});
			}
			return x;
		},

		checkboxSelected: function() {
			var facData = [];
			var cardID1 = $('.clc-checkbox').closest('.order-2').attr('data-content');
			var cardID2 = $('.clc-checkbox').closest('.order-3').attr('data-content');
			var cardID3 = $('.clc-checkbox').closest('.order-4').attr('data-content');
			var cardCode1 = $('.clc-checkbox').closest('.order-2').data('code');
			var cardCode2 = $('.clc-checkbox').closest('.order-3').data('code');
			var cardCode3 = $('.clc-checkbox').closest('.order-4').data('code');
			var checkbox1 = $('.clc-col.order-2 .clc-checkbox');
			var checkbox2 = $('.clc-col.order-3 .clc-checkbox');
			var checkbox3 = $('.clc-col.order-4 .clc-checkbox');
			var cardType = localStorage.getItem("cardType");
			var selectedCardType = JSON.parse(cardType);
			var data = '';
			var incre = 0;
			if(checkbox1.is(":checked") == true){
				if(cardCode1) {
					facData[incre] = cardCode1;
				}
				else if(cardType !== null && cardID1 in selectedCardType){
					var cardID1type = selectedCardType[cardID1];
					facData[incre] = cardCodeCC[cardID1type];
				}else{
					facData[incre] = cardCodeCC[cardID1];
				}
				incre++;
			}
			if(checkbox2.is(":checked") == true){
				if(cardCode2) {
					facData[incre] = cardCode2;
				}
				else if(cardType !== null && cardID2 in selectedCardType){
					var cardID2type = selectedCardType[cardID2];
					facData[incre] = cardCodeCC[cardID2type];
				}else{
					facData[incre] = cardCodeCC[cardID2];
				}
				incre++;
			}
			if(checkbox3.is(":checked") == true) {
				if(cardCode3) {
					facData[incre] = cardCode3;
				}
				else if(cardType !== null && cardID3 in selectedCardType){
					var cardID3type = selectedCardType[cardID3];
					facData[incre] = cardCodeCC[cardID3type];
				}else{
					facData[incre] = cardCodeCC[cardID3];
				}
				incre++;
			}
			data = facData.join('|');
			$('input#facData').val(data);
		},

		checkCardItemOptionInApply: function(cardID,cardCode, extraID, dataSourceCode) {
			// card color if titanium
			// if not titantium submit form
			if($('body').hasClass('ag-cc')){
				if(typeof extraID !== 'undefined') {
					var id = '#modal-'+extraID;
					$.fancybox.open({
						src:id,
						autoFocus: false,
						backFocus: false,
						beforeShow: function() {
							$(id).attr('data-card-parent',cardID).removeClass('to-be-added').addClass('to-apply');
						},
						afterClose: function() {
							$.fancybox.close();
						}
					});
					$(id).removeClass('to-be-added').addClass('to-apply');
					$('a', id+'.to-apply').off('click').on('click', function(e) {
						e.preventDefault();
						var cardCode = $(this).data('code');
						
						if(dataSourceCode !== undefined) {
							$('#AgentSourceCode').val(dataSourceCode);
						}
						$('input#facData').val(cardCode);
						$('input#cardType').val('CC');
						$('input#FacType').val('CC');
						$('#ag-d-form').submit();
					});
					return false;
				}
				else {
					if(cardID == 'card-2' || cardID == 'card-2B' || cardID == 'card-2P'){
						$.fancybox.open({
							src:'#modal-select-card-color',
							autoFocus: false,
							backFocus: false,
							autoFocus: false,
							backFocus: false,
							afterClose: function() {
								$.fancybox.close();
							}
						});
						$('#modal-select-card-color').removeClass('to-be-added').addClass('to-apply');
						$('.to-apply .select-card-color').on('click', function(e) {
							e.preventDefault();
							var cardID = $(this).attr('data-id');
							var cardCode = cardCodeCC[cardID];
							
							if(dataSourceCode !== undefined) {
								$('#AgentSourceCode').val(dataSourceCode);
							}
							$('input#facData').val(cardCode);
							$('input#cardType').val('CC');
							$('input#FacType').val('CC');
							// if(!agFunction.fieldValidation()){
							// 	$("html, body").animate({ scrollTop: $(document).height() }, 1000);
							// 	return false;
							// }
							$('#ag-d-form').submit();
						});
						return false;
					}else if(cardID == 'card-5'){
						$.fancybox.open({
							src: '#modal-plus-savings-account',
							autoFocus: false,
							backFocus: false,
							beforeShow: function() {
								$('#modal-plus-savings-account').attr('data-card-parent',cardID).removeClass('to-be-added').addClass('to-apply');
							},
							afterClose: function() {
								$.fancybox.close(true);
							}
						});
						$('.to-apply .include-ntuc').on('click', function(e) {
							e.preventDefault();
							var cardID = $('#modal-plus-savings-account').attr('data-card-parent')+'A';
							var cardCode = cardCodeCC[cardID];
							
							if(dataSourceCode !== undefined) {
								$('#AgentSourceCode').val(dataSourceCode);
							}
							$('input#facData').val(cardCode);
							$('input#cardType').val('CC');
							$('input#FacType').val('CC');
							// if(!agFunction.fieldValidation()){
							// 	$("html, body").animate({ scrollTop: $(document).height() }, 1000);
							// 	return false;
							// }
							$('#ag-d-form').submit();
						});
						$('.to-apply .no-ntuc').on('click', function(e) {
							e.preventDefault();
							var cardID = $('#modal-plus-savings-account').attr('data-card-parent');
							var cardCode = cardCodeCC[cardID];
							
							if(dataSourceCode !== undefined) {
								$('#AgentSourceCode').val(dataSourceCode);
							}
							$('input#facData').val(cardCode);
							$('input#cardType').val('CC');
							$('input#FacType').val('CC');
							// if(!agFunction.fieldValidation()){
							// 	$("html, body").animate({ scrollTop: $(document).height() }, 1000);
							// 	return false;
							// }
							$('#ag-d-form').submit();
						});
						return false;
					}else if(cardID == 'card-6'){
						$.fancybox.open({
							src: '#modal-ntuc-VietinBank-starter-account',
							autoFocus: false,
							backFocus: false,
							beforeShow: function() {
								$('#modal-ntuc-VietinBank-starter-account').attr('data-card-parent',cardID).removeClass('to-be-added').addClass('to-apply');
							},
							afterClose: function() {
								$.fancybox.close(true);
							}
						});
						$('.to-apply .include-ntuc').on('click', function(e) {
							e.preventDefault();
							var cardID = $('#modal-ntuc-VietinBank-starter-account').attr('data-card-parent')+'A';
							var cardCode = cardCodeCC[cardID];
							
							if(dataSourceCode !== undefined) {
								$('#AgentSourceCode').val(dataSourceCode);
							}
							$('input#facData').val(cardCode);
							$('input#cardType').val('CC');
							$('input#FacType').val('CC');
							// if(!agFunction.fieldValidation()){
							// 	$("html, body").animate({ scrollTop: $(document).height() }, 1000);
							// 	return false;
							// }
							$('#ag-d-form').submit();
						});
						$('.to-apply .no-ntuc').on('click', function(e) {
							e.preventDefault();
							var cardID = $('#modal-ntuc-VietinBank-starter-account').attr('data-card-parent');
							var cardCode = cardCodeCC[cardID];
							
							if(dataSourceCode !== undefined) {
								$('#AgentSourceCode').val(dataSourceCode);
							}
							$('input#facData').val(cardCode);
							$('input#cardType').val('CC');
							$('input#FacType').val('CC');
							// if(!agFunction.fieldValidation()){
							// 	$("html, body").animate({ scrollTop: $(document).height() }, 1000);
							// 	return false;
							// }
							$('#ag-d-form').submit();
						});
						return false;
					}else{
						$('input#facData').val(cardCode);
					}
				}
			}
			else {
				if(typeof extraID !== 'undefined') {
					var id = '#modal-'+extraID;
					$.fancybox.open({
						src:id,
						autoFocus: false,
						backFocus: false,
						beforeShow: function() {
							$(id).attr('data-card-parent',cardID).removeClass('to-be-added').addClass('to-apply');
						},
						afterClose: function() {
							$.fancybox.close();
						}
					});
					$(id).removeClass('to-be-added').addClass('to-apply');
					$('a', id+'.to-apply').off('click').on('click', function(e) {
						e.preventDefault();
						var cardCode = $(this).data('code');
						$('input#facData').val(cardCode);
						$('input#cardType').val('CC');
						$('input#FacType').val('CC');
						$('#ag-d-form').submit();
					});
					return false;
				}
				else {
					$('input#facData').val(cardCode);
					$('input#cardType').val('CC');
					$('input#FacType').val('CC');
				}
			}

			if(!agFunction.fieldValidation()){
				$("html, body").animate({ scrollTop: $(document).height() }, 1000);
				return false;
			}
			$('#ag-d-form').submit();
		},

		updateFieldDataAndStatus: function() {
			var AgentID = agFunction.getUrlParameter('AgentID'),
				AgentIntroducerID = agFunction.getUrlParameter('AgentIntroducerID'),
				AgentSourceCode = agFunction.getUrlParameter('AgentSourceCode');
			var href = $('a.cards-compare').attr('href');
			$('a.cards-compare').data('href', href);
			if(AgentID) {
				$('#AgentID').val(AgentID);
				$('#AgentID').val(AgentID);
			}

			if(AgentIntroducerID) {
				$('#AgentIntroducerID').val(AgentIntroducerID);
				$('#AgentIntroducerID').val(AgentIntroducerID);
			}

			if(AgentSourceCode) {
				$('#AgentSourceCode').val(AgentSourceCode).prop('readonly', true);
				$('#AgentSourceCode').val(AgentSourceCode).prop('readonly', true);
			}
			
			if(AgentID || AgentIntroducerID || AgentSourceCode) {
				agFunction.updateParamInLinkFromURI();
			}
		},
		selectedCardStorage: function() {
			// Store
			// localStorage.setItem("lastname", "Smith");
			if(cardholderID && cardholderID.length){
				var selectedCard = JSON.stringify(cardholderID); //.toString();
				localStorage.setItem("selectedCard", selectedCard);
			}
		},
		selectedCardType: function(data) {
			var cardWithTypeHolder = JSON.stringify(data); //.toString();
			localStorage.setItem("cardType", cardWithTypeHolder);
		},
		checkCardStorage: function() {
			var cardStored = localStorage.getItem("selectedCard");
			var selectedCard = JSON.parse(cardStored);
			
			if(cardStored && selectedCard.length){
				for(var i = 0; i < selectedCard.length; i++){
					var cardWrapper = $('div[data-card-id="'+selectedCard[i]+'"]');		
					if(typeof cardWrapper.data('extra') == 'undefined'){
						$('.card-actions',cardWrapper).click();
					}
				}
			}
		},
		selectListener: function(id) {
			$('a', id+'.to-be-added').off().on('click', function(e) {
				e.preventDefault();
				var cardIDSelectedColor = $(this).attr('data-id');
				var cardCode = $(this).data('code');
				var cardHolder = $('div[data-card-id="'+cardIDSelectedColor+'"]');
				if(cardHolder.length){
					cardHolder.attr('data-card-newid',cardCode);
					if(!$('.card-actions',cardHolder).hasClass('to-be-removed')){	
						$('.card-buttons .cc-apply-now', cardHolder).data('code', cardCode);
						$('.card-actions',cardHolder).click();
					}
				}
				$('.card-buttons .cc-apply-now', cardHolder).removeAttr('data-code');
				$('.card-actions-option',cardHolder).addClass('to-be-removed');
				// cardColor = cardIDSelectedColor;
				// agFunction.appendSelectedCards();
				$.fancybox.close(true);
			});
		},
		addCardColor: function() { /* deprecated */
			$('.to-be-added .select-card-color').off().on('click', function(e) {
				e.preventDefault();
				var cardIDSelectedColor = $(this).attr('data-id');
				var cardHolder = $('div[data-card-id="card-2"]');
				if($('div[data-card-id="card-2"]')){
					$('div[data-card-id="card-2"]').attr('data-card-newid',cardIDSelectedColor);
					if(!$('.card-actions',cardHolder).hasClass('to-be-removed')){	
						$('.card-actions',cardHolder).click();
					}
				}
				$('.card-actions-option',cardHolder).addClass('to-be-removed');
				cardColor = cardIDSelectedColor;
				// agFunction.appendSelectedCards();
				$.fancybox.close(true);
			});
		},
		VietinBankPlusNTUCoption: function() { /* deprecated */
			$('.to-be-added .include-ntuc').off().on('click', function(e) {
				e.preventDefault();
				var dataCardParent = $(this).closest('.popup-content').attr('data-card-parent');
				var cardHolder = $('div[data-card-id="'+dataCardParent+'"]');
				cardHolder.attr('data-card-newid',dataCardParent+'A');
				$('.card-actions',cardHolder).click();
				$('.card-actions-option',cardHolder).addClass('to-be-removed');
				$.fancybox.close(true);
			});

			$('.to-be-added .no-ntuc').off().on('click', function() {
				var dataCardParent = $(this).closest('.popup-content').attr('data-card-parent');
				var cardHolder = $('div[data-card-id="'+dataCardParent+'"]');
				cardHolder.attr('data-card-newid',dataCardParent);
				$('.card-actions',cardHolder).click();
				$('.card-actions-option',cardHolder).addClass('to-be-removed');
				$.fancybox.close(true);
			});
		},
		slidingCompareCards: function() {
			var ccSlide = {
				ccWrapper: $('.com_comparison-list-wrapper'),
				ccScroll: $('.c-c-l-w-details'),
				ccPrevBtn: $('.cclwdn-prev'),
				ccNextBtn: $('.cclwdn-next'),
				ccDistance: function() {
					return ($(window).width() - ccSlide.ccWrapper.outerWidth()) - ($(window).width() >= 768 ? 40:20);
				},
				prevRow: function() {
					if(!ccSlide.ccPrevBtn.hasClass('c-end')){
						ccSlide.ccPrevBtn.addClass('c-end');
						ccSlide.ccNextBtn.removeClass('c-end');
						$('.c-c-l-w-d-nav').removeClass('c-active');
						
						TweenMax.to(ccSlide.ccScroll, 0.5, {x: 0,ease: Cubic.easeOut});
						TweenMax.to(ccSlide.ccPrevBtn, 0.3, {opacity: 0, rotation: -90, x: -20, onComplete: function() {
							ccSlide.ccPrevBtn.hide();
							ccSlide.ccNextBtn.show();
						}});
						TweenMax.to(ccSlide.ccNextBtn, 0.3, {opacity: 1, rotation: -90, x: 0});
					}
				},
				nextRow: function() {
					if(!ccSlide.ccNextBtn.hasClass('c-end')){
						ccSlide.ccNextBtn.addClass('c-end');
						ccSlide.ccPrevBtn.removeClass('c-end');
						$('.c-c-l-w-d-nav').addClass('c-active');
						
					
						TweenMax.to(ccSlide.ccScroll, 0.5, {x: ccSlide.ccDistance, ease: Cubic.easeOut});
						TweenMax.to(ccSlide.ccNextBtn, 0.3, {opacity: 0, rotation: -90, x: 20, onComplete: function() {
							ccSlide.ccNextBtn.fadeOut();
							ccSlide.ccPrevBtn.show();
						}});
						TweenMax.to(ccSlide.ccPrevBtn, 0.3, {opacity: 1, rotation: -90, x: 0});
					}
				}
			}
			if($('body').hasClass('ag-compare') && VietinBank.viewport().width <= 920){
				ccSlide.ccNextBtn.on('click', function() {
					ccSlide.nextRow();
				});

				ccSlide.ccPrevBtn.on('click', function() {
					ccSlide.prevRow();
				});

				if(agFunction.getUrlParameter('card3') && $(window).scrollTop() <=0){
					$('.c-c-l-w-d-nav').fadeIn();
				}
				
				Draggable.create(ccSlide.ccScroll, {
					bounds:ccSlide.ccScroll,
					edgeResistance:0.65,
					type:"x",
					throwProps:true,
    				onDragEnd: function(e) {
    					if(this.getDirection('start') == 'right'){
    						ccSlide.prevRow();
    					}else if(this.getDirection('start') == 'left'){
							ccSlide.nextRow();
    					}
				    }
				});
			}else{
				TweenMax.to(ccSlide.ccScroll, 0.5, {x: 0,ease: Cubic.easeInOut});
				$('.c-c-l-w-d-nav').hide();
			}
		},
		slidingCompareCardsScrolling: function() {
			if($('body').hasClass('ag-compare') && VietinBank.viewport().width <= 920){
				var scrollTopAndWindowHeight = $(window).scrollTop() + $(window).height();
				var agformwrapper = $('.ag-d-form-wrapper');
				if(agformwrapper.length) {
					var elemToPass = agformwrapper.height() ? agformwrapper : $('.c-l-c-buttons');
					if(agFunction.isOnScreen(elemToPass)){
						$('.c-c-l-w-d-nav').fadeOut();
					}else{
						if(agFunction.getUrlParameter('card3')) {
							$('.c-c-l-w-d-nav').fadeIn();
						}
					}
				}
			}
		},
		isOnScreen: function(element) {
			var curPos = element.offset();
		    var curTop = curPos.top - $(window).scrollTop();
		    var screenHeight = $(window).height();
		    return (curTop > screenHeight) ? false : true;
		}
	}
	
	var agPages = {
		indexPage: function() {

		},
		allAgPage: function() {
			agFunction.updateFieldDataAndStatus();

			$('#ag-cc-form, #ag-dc-form').submit(function(e) {
				if(!agFunction.fieldValidation()){
					return false;
				}
			});

			$('[data-fancybox="cards-item"]').fancybox({
				baseClass: 'popup-agent-guide',
				touch:false,
				loop: true,
				autoFocus: false,
				backFocus:false,
				baseTpl:
				    '<div class="fancybox-container" role="dialog" tabindex="-1">' +
				    '<div class="fancybox-bg"></div>' +
				    '<div class="fancybox-inner">' +
				    '<div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +
				    '<div class="fancybox-toolbar">{{buttons}}</div>' +
				    '<div class="fancybox-stage">' +
				    '<div class="fancybox-navigation">{{arrows}}</div>' +
				    '</div>' +
				    '<div class="fancybox-caption"></div>' +
				    "</div>" +
				    "</div>" +
				    "</div>",
				btnTpl: {
					close:
				      '<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><i class="fal fa-times"></i></button>',
				    smallBtn: 
				    '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">' +
				      '<i class="fal fa-times"></i>' +
				    "</button>",
					// Arrows
				    arrowLeft:
				      '<div data-fancybox-prev class="ctp-f-btn f-btn-prev"><button tabindex="-1" class="btn btn-next btn-animation bordered"><span class="icon"><i class="fa fa-chevron-left"></i></span><span class="circle"><span><em></em></span><span><em></em></span></span></button></div>',

				    arrowRight:
				      '<div data-fancybox-next class="ctp-f-btn f-btn-next"><button tabindex="-1" class="btn btn-next btn-animation bordered"><span class="icon"><i class="fa fa-chevron-right"></i></span><span class="circle"><span><em></em></span><span><em></em></span></span></button></div>'
				},
				beforeShow: function() {
					$('button.fancybox-button--arrow_left,button.fancybox-button--arrow_right').hide();
					$('.fancybox-infobar').hide();
					agFunction.updateButtonPosition();
					agFunction.updateButtonInPopup();
				},
				afterShow: function() {
					$('button.fancybox-button--arrow_left,button.fancybox-button--arrow_right').hide();
					$('.fancybox-infobar').hide();
					agFunction.updateButtonPosition();
				},
				afterClose: function() {
					$.fancybox.close(true);
					if($('.fancybox-container').hasClass('fancybox-is-open')){
						$('.fancybox-container').removeClass('fancybox-is-open').hide();
					}
				}
			});

			$('#AgentID,#AgentIntroducerID,#AgentSourceCode').on('keyup input',function() {
				agFunction.updateParamInLinkOnFieldChange();
			});

			//buttons with class apply for
			$('.apply-for').on('click', function(e) {
				e.preventDefault();
				if($(this).hasClass('b-disabled')) {
					$.fancybox.open({
						src: '#modal-select-card',
						autoFocus: false,
						backFocus: false,
						afterClose: function() {
							$.fancybox.close();
						}
					});
					return false;
				}
				if(!agFunction.fieldValidation() && !$('body').hasClass('ag-compare')){
					$("html, body").animate({ scrollTop: $(document).height() }, 1000);
					return false;
				}
				$('input#cardType').val('CC');
				$('input#FacType').val('CC');
				$('#ag-d-form').submit();
			});

			//credit card page and compare card page
			$('.cc-apply-now').on('click', function(e) {
				e.preventDefault();
				var cardID = $(this).closest('.single-card').attr('data-card-id');
				var cardCode = $(this).data('code');
				var extraID = $(this).data('extra');
				var checkDataSourceCodeparent = $(this).closest('.single-card').attr('data-sourcecode');
				var dataSourceCode = checkDataSourceCodeparent ? checkDataSourceCodeparent : $(this).attr('data-sourcecode');

				
				if(dataSourceCode !== undefined) {
					$('#AgentSourceCode').val(dataSourceCode);
				}
				if($(this).hasClass('in-popup')){
					cardID = $(this).attr('data-id');
				}
				
				if(typeof cardCode == 'undefined') {
					var cardCode = cardCodeCC[cardID];
				}

				$('input#cardType').val('CC');
				$('input#FacType').val('CC');
				agFunction.checkCardItemOptionInApply(cardID,cardCode, extraID, dataSourceCode);

				// card color
				// var cardCode = cardCodeCC[cardID];
				// 	$('input#facData').val(cardCode);
				// 	if(!agFunction.fieldValidation()){
				// 		$("html, body").animate({ scrollTop: $(document).height() }, 1000);
				// 		return false;
				// 	}
				// 	$('#ag-d-form').submit();

			});
		},
		creditCardPage: function() {
			$('.ctp-masthead .add-card').on('click', function(e) {
				e.preventDefault();
				var cardID = $(this).attr('data-id');
				var cardHolder = $('div[data-card-id="'+cardID+'"]');
				var extraID = $(this).data('extra');
				
				if($('body').hasClass('ag-cc')){
					if(extraID) {
						var id = '#modal-'+extraID;
						$.fancybox.open({
							src:id,
							autoFocus: false,
							backFocus: false,
							beforeShow: function() {
								$(id).attr('data-card-parent',cardID).removeClass('to-apply').addClass('to-be-added');
							},
							afterShow: function() {
								agFunction.selectListener(id);
								// $('.to-be-added .include-ntuc').off().on('click', function(e) {
								// 	e.preventDefault();
								// 	var dataCardParent = $(this).closest('.popup-content').attr('data-card-parent');
								// 	var cardHolder = $('div[data-card-id="'+dataCardParent+'"]');
								// 	cardHolder.attr('data-card-newid',dataCardParent+'A');
								// 	$('.card-actions',cardHolder).click();
								// 	$('.card-actions-option',cardHolder).addClass('to-be-removed');
								// 	$.fancybox.close(true);
								// });
							},
							afterClose: function() {
								$.fancybox.close(true);
							}
						});
								
					}else if(cardID == 'card-2' && !$(this).hasClass('selected')){
						$.fancybox.open({
							src:'#modal-select-card-color',
							autoFocus: false,
							backFocus: false,
							afterClose: function() {
								$.fancybox.close();
							}
						});
						$('#modal-select-card-color').removeClass('to-apply').addClass('to-be-added');
						agFunction.addCardColor();
						return false;
					}else if(cardID == 'card-5' && !$(this).hasClass('selected')) {
						$.fancybox.open({
							src: '#modal-plus-savings-account',
							autoFocus: false,
							backFocus: false,
							beforeShow: function() {
								$('#modal-plus-savings-account').attr('data-card-parent',cardID).removeClass('to-apply').addClass('to-be-added');
							},
							afterShow: function() {
								agFunction.VietinBankPlusNTUCoption();
							},
							afterClose: function() {
								$.fancybox.close(true);
							}
						});
					}else if(cardID == 'card-6' && !$(this).hasClass('selected')) {
						$.fancybox.open({
							src: '#modal-ntuc-VietinBank-starter-account',
							autoFocus: false,
							backFocus: false,
							beforeShow: function() {
								$('#modal-ntuc-VietinBank-starter-account').attr('data-card-parent',cardID).removeClass('to-apply').addClass('to-be-added');
							},
							afterShow: function() {
								agFunction.VietinBankPlusNTUCoption();
							},
							afterClose: function() {
								$.fancybox.close(true);
							}
						});
					}else{
						$('.card-actions',cardHolder).click();
					}
				}

				if($(this).hasClass('selected')){
					$(this).removeClass('selected');
				}else{
					$(this).addClass('selected');
				}
			});

			setTimeout(function() {
				/* deprecated */
				var card2 = $('div[data-card-id="card-2"]');
				var card5 = $('div[data-card-id="card-5"]');
				var card6 = $('div[data-card-id="card-6"]');
				$('.card-actions',card2).before('<div class="card-actions-option" data-card-parent="card-2"></div>');
				$('.card-actions',card5).before('<div class="card-actions-option" data-card-parent="card-5"></div>');
				$('.card-actions',card6).before('<div class="card-actions-option" data-card-parent="card-6"></div>');
				/* end deprecated */
				$('.single-card', '.cards-listing').each(function(index, item) {
					if(typeof $('.card-buttons .cc-apply-now', item).data('extra') !== 'undefined') {
						$('.card-actions', item).before('<div class="card-actions-option" data-card-parent="'+($(item).data('card-id'))+'"></div>');
					}
				})
				$('.card-actions-option').on('click', function() {
					var dataCardParent = $(this).attr('data-card-parent');
					if(!$(this).hasClass('to-be-removed')){
						if($(this).attr('data-card-parent') == 'card-2'){ /* deprecated */
							$.fancybox.open({
								src: '#modal-select-card-color',
								autoFocus: false,
								backFocus: false,
								beforeShow: function() {
									$('#modal-select-card-color').removeClass('to-apply').addClass('to-be-added');
								},
								afterShow: function() {
									agFunction.addCardColor();
								},
								afterClose: function() {
									$.fancybox.close();
								}
							});
						}else if($(this).attr('data-card-parent') == 'card-5'){ /* deprecated */
							$.fancybox.open({
								src: '#modal-plus-savings-account',
								autoFocus: false,
								backFocus: false,
								beforeShow: function() {
									$('#modal-plus-savings-account').attr('data-card-parent',dataCardParent).removeClass('to-apply').addClass('to-be-added');
								},
								afterShow: function() {
									agFunction.VietinBankPlusNTUCoption();
								},
								afterClose: function() {
									$.fancybox.close(true);
								}
							});
						}else if($(this).attr('data-card-parent') == 'card-6'){ /* deprecated */
							$.fancybox.open({
								src: '#modal-ntuc-VietinBank-starter-account',
								autoFocus: false,
								backFocus: false,
								beforeShow: function() {
									$('#modal-ntuc-VietinBank-starter-account').attr('data-card-parent',dataCardParent).removeClass('to-apply').addClass('to-be-added');
								},
								afterShow: function() {
									agFunction.VietinBankPlusNTUCoption();
								},
								afterClose: function() {
									$.fancybox.close(true);
								}
							});
						}
						else {
							var id = '#modal-'+$(this).siblings('.card-buttons').find('.cc-apply-now').data('extra');
							$.fancybox.open({
								src: id,
								autoFocus: false,
								backFocus: false,
								beforeShow: function() {
									$(id).removeClass('to-apply').addClass('to-be-added');
								},
								afterShow: function() {
									agFunction.selectListener(id);
								},
								afterClose: function() {
									$.fancybox.close();
								}
							});
						}
					}else if($(this).hasClass('to-be-removed')){
						$(this).removeClass('to-be-removed');
						$(this).siblings('.card-actions').click();
						/* deprecated */
						$('div[data-card-id="card-2B"]').attr('data-card-id','card-2');
						$('div[data-card-id="card-2P"]').attr('data-card-id','card-2');
						/* end deprecated */
					}
				});
			},1000);

			$('.card-actions').on('click', function() {
				var currentBtn = $(this);
				var cardID = currentBtn.closest('.single-card').attr('data-card-id');
				var selectedCards = $('.cards-selected-cards-container ul.cards-list li');
				var selectedCardsCount = selectedCards.length;
				if(selectedCardsCount <= 1 && currentBtn.hasClass('active')){
					localStorage.removeItem("selectedCard");
				}
				var checkDataSourceCodeparent = $(this).closest('.single-card').attr('data-sourcecode');
				var dataSourceCode = checkDataSourceCodeparent ? checkDataSourceCodeparent : $(this).attr('data-sourcecode');
			
				
				if(dataSourceCode !== undefined) {
					$('#AgentSourceCode').val(dataSourceCode);
				}
				setTimeout(function() {
					agFunction.appendSelectedCards();
				},500);
			});

			$('.clear-all').on('click', function() {
				localStorage.removeItem("selectedCard");
				$('.card-actions-option').removeClass('to-be-removed');
			});
		},
		comparePage: function() {
			// ag-compare
			if($('body').hasClass('ag-compare')){
				var checkbox = $('.clc-checkbox');
				var option1 = $('.com_comparison-list-option').eq(0);
				var option2 = $('.com_comparison-list-option').eq(1);
				option1.find('option[value='+agFunction.getUrlParameter('card1')+']').prop('selected', 'selected');
				option2.find('option[value='+agFunction.getUrlParameter('card2')+']').prop('selected', 'selected');
				
				$('.clc-col').removeClass('order-4');
				if(!agFunction.getUrlParameter('card3')){
					$('.com_comparison-list-wrapper').addClass('cl-two-item');
					$('.clc-col').removeClass('col-4').addClass('col-6');
				}

				$('[data-content="'+agFunction.getUrlParameter('card1')+'"]').addClass('order-2');
				$('[data-content="'+agFunction.getUrlParameter('card2')+'"]').addClass('order-3');
				
				$('[data-content="'+agFunction.getUrlParameter('card1')+'"]').find(checkbox).prop("checked",true);
				$('[data-content="'+agFunction.getUrlParameter('card2')+'"]').find(checkbox).prop("checked",true);
				
				// update selected card base on checkbox
				setTimeout(function() {
					agFunction.checkboxSelected();
				},1000);
				$('.com_comparison-list-option').on('select2:select',function(e) {
					agFunction.checkboxSelected();
				});
				checkbox.change(function() {
					agFunction.checkboxSelected();
				});

				if(agFunction.getUrlParameter('card3')) {
					
					var option3 = $('.com_comparison-list-option').eq(2);
					option3.find('option[value='+agFunction.getUrlParameter('card3')+']').prop('selected', 'selected');
					$('[data-content="'+agFunction.getUrlParameter('card3')+'"]').addClass('order-4');
					$('.com_card-list-nav .clc-col').eq(2).addClass('order-4');
					$('[data-content="'+agFunction.getUrlParameter('card3')+'"]').find(checkbox).prop("checked",true);
				}
			}
		},
		debitCardPage: function() {
			if($('body').hasClass('ag-dc')){
				// apply now button in page
				$('.single-card .dc-apply-now').on('click', function(e) {
					e.preventDefault();
					var cardID = $(this).closest('.single-card').attr('data-card-id');
					var cardCode = $(this).data('code');
					if(typeof cardCode == 'undefined') {
						cardCode = cardCodeDC[cardID];
					}
					var checkDataSourceCodeparent = $(this).closest('.single-card').attr('data-sourcecode');
					var dataSourceCode = checkDataSourceCodeparent ? checkDataSourceCodeparent : $(this).attr('data-sourcecode');
				
					if(dataSourceCode !== undefined) {
						$('#AgentSourceCode').val(dataSourceCode);
					}
					$('#facData').val(cardCode);
					$('#cardType').val('DC');
					$('#FacType').val('DC');
					if(!agFunction.fieldValidation()){
						$("html, body").animate({ scrollTop: $(document).height() }, 1000);
						return false;
					}
					$('#ag-d-form').submit();
				});
				// apply now button in popup
				$('.ctp-masthead .dc-apply-now').on('click', function(e) {
					e.preventDefault();
					var cardID = $(this).attr('data-card-id');
					var cardCode = $(this).data('code');
					if(typeof cardCode == 'undefined') {
						cardCode = cardCodeDC[cardID];
					}
					var checkDataSourceCodeparent = $(this).closest('.single-card').attr('data-sourcecode');
					var dataSourceCode = checkDataSourceCodeparent ? checkDataSourceCodeparent : $(this).attr('data-sourcecode');
				
					if(dataSourceCode !== undefined) {
						$('#AgentSourceCode').val(dataSourceCode);
					}
					$('#facData').val(cardCode);
					$('#cardType').val('DC');
					$('#FacType').val('DC');
					if(!agFunction.fieldValidation()){
						$.fancybox.close();
						$("html, body").animate({ scrollTop: $(document).height() }, 1000);
						return false;
					}
					$('#ag-d-form').submit();
				});
			}
		},
		indexLoansPage: function() {

		},
		loanTypePage: function() {
			if($('body').hasClass('loan-type')){
				$('[data-fancybox="loan-item"]').fancybox({
					baseClass: 'loan-popup',
					touch:false,
					loop: true,
					autoFocus: false,
					backFocus: false,
					btnTpl: {
						close:
				    	'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><i class="fal fa-times"></i></button>',
					    smallBtn: 
					    '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}">' +
					      '<i class="fal fa-times"></i>' +
					    "</button>",
						// Arrows
					    arrowLeft:
					      '<div data-fancybox-prev class="ctp-f-btn f-btn-prev"><button tabindex="-1" class="btn btn-next btn-animation bordered"><span class="icon"><i class="fa fa-chevron-left"></i></span><span class="circle"><span><em></em></span><span><em></em></span></span></button></div>',

					    arrowRight:
					      '<div data-fancybox-next class="ctp-f-btn f-btn-next"><button tabindex="-1" class="btn btn-next btn-animation bordered"><span class="icon"><i class="fa fa-chevron-right"></i></span><span class="circle"><span><em></em></span><span><em></em></span></span></button></div>'
					},
					beforeShow: function() {
						$('button.fancybox-button--arrow_left,button.fancybox-button--arrow_right').hide();
						$('.fancybox-infobar').hide();
						agFunction.updateButtonPosition();
					},
					afterShow: function() {
						$('button.fancybox-button--arrow_left,button.fancybox-button--arrow_right').hide();
						$('.fancybox-infobar').hide();
						agFunction.updateButtonPosition();
						if(!$('body').hasClass('compensate-for-scrollbar')){
							$('body').addClass('compensate-for-scrollbar');
						}
					},
					afterClose: function() {
						$.fancybox.close();
						if($('.fancybox-container').hasClass('fancybox-is-open')){
							$('.fancybox-container').removeClass('fancybox-is-open').hide();
						}
					}
				});

				$('.loan-apply-btn').on('click', function(e) {
					e.preventDefault();
					var cardCode = $(this).attr('data-code');
					var datafacttype = $(this).attr('data-facttype');
					var dataSourceCode = $(this).attr('data-sourcecode');
					
					if(!dataSourceCode) {
						var dataSourceCode = $('#AgentSourceCode').val();
					}
					$('#facData').val(cardCode);
					$('#FacType').val(datafacttype);
					$('#AgentSourceCode').val(dataSourceCode);
					if(!agFunction.fieldValidation()){
						$.fancybox.close(true);
						$("html, body").animate({ scrollTop: $(document).height() }, 1000);
						return false;
					}
					$('#ag-d-form').submit();
				});

				$('.refresh-user').on('click', function(e) {
					e.preventDefault(e);
					location.reload();
				});
			}
		}
	}

	if($('.com_cards-campaign').length){
		$(window).on('load',function() {
			setTimeout(function() {
				agFunction.checkCardStorage();	
			},1000);
		});
		$(document).ready(function() {
			agPages.creditCardPage();
			agPages.indexPage();
			agPages.allAgPage();
			agPages.comparePage();
			agPages.debitCardPage();
			agPages.indexLoansPage();
			agPages.loanTypePage();
			agFunction.headerFix();
			// agFunction.slidingCompareCards();
		});

		$(window).resize(function() {
			agFunction.updateButtonPosition();
			agFunction.headerFix();
			// agFunction.slidingCompareCards();
		});

		$(window).scroll(function() {
			agFunction.headerFix();
			agFunction.slidingCompareCardsScrolling();
		});
	}
},
card90degrees: function() {
	if($('.page-90degrees').length){
		var paramInLink = VietinBank.getUrlVars();
		if('AgentSourceCode' in paramInLink) {
			if(paramInLink.AgentSourceCode) {
				$('#AgentSourceCode').val(paramInLink.AgentSourceCode);
			}
		}
	}
},
digitalBankingServices: function() {
	$('.dbs-pop-btn').on('click', function() {
		VietinBank.groupHeightInitial();
	});
},
digitalBankingVideos: function() {
	if($('.com_videos').length){
		var videoSection = VietinBank.getUrlVars();
		if("video" in videoSection){
			if($('[data-video-id="'+videoSection.video+'"]').length){
				setTimeout(function() {
					$('[data-video-id="'+videoSection.video+'"]').click();
				},1000)
			}
		}
	}
},
lifegoals_calculator: function() {
	var _calculator = {
		listen: function() {
			$('.option__choice').click(function() {
				_calculator.choice(this);
			})
		},
		choice: function(target) {
			var parent = $(target).parent();
			$('.option__choice', parent).removeClass('active');
			$(target).addClass('active');
			var left = Math.floor($('.option__choice.active',parent).position().left);
			$('.indicator',parent).css('left', left);
		},
		age: function() {

		},
		chart: function(ctx, param) {
			return new Chart(ctx, {
				type: "line",
				data: {
					// labels: ["1", "2", "3"],
					labels: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
					datasets: [
						{
							// label: '# of Votes',
							data: [
								param.graph[0], //01 start | 0.6 | 13.68
								param.graph[1], //02 start | 0.6 | 13.68
								param.graph[2], //03 start | 0.6 | 13.68
								param.graph[3], //04 start | 0.6 | 13.68
								param.graph[4], //05 0.01 | 0.67 | 15.28
								param.graph[5], //06 0.01 | 0.67 | 15.28
								param.graph[6], //07 0.01 | 0.67 | 15.28
								param.graph[7], //08 0.05 | 0.87 | 19.84
								param.graph[8], //09 0.05 | 0.87 | 19.84
								param.graph[9]  //10 0.20 | 1.63 | 37.18
							],
							backgroundColor: param.gradientFill,
							borderColor: ["#b2bec4"],
							borderWidth: 0,
							radius: 0,
							cubicInterpolationMode: "monotone"
						}
					]
				},
				options: {
					animation: {
						duration: 1000,
						easing: 'easeOutQuart',
					},
					bezierCurve: false,
					responsive: false,
					scales: {
						yAxes: [
							{
								stacked: false,
								display: false,
								gridLines: {
									drawBorder: false
								},
								ticks: {
									// suggestedMin: 2,
									stepSize: 2,
									max: param.chart_height,
									beginAtZero: true
								}
							}
						],
						xAxes: [
							{
								display: false,
								gridLines: {
									drawBorder: false,
									display: false
								}
							}
						]
					},
					legend: {
						display: false
					}
				}
			});
		},
		retirement: {
			gender: 'm',
			age: 34,
			earning: 30,
			goal: 872535,
			projected: 108135, 
			shortfall: 764400, 
			// graph: [13.68,15.28,19.84,37.18],
			graph: [
				8.68,	//1
				10.28,	//2
				11.68,	//3
				12.68,	//4
				14.28,	//5
				15.78,	//6
				17.94,	//7
				21.54,	//8
				27.84,	//9
				36.18	//10
			],
			chart_height: null,
			ctx: null,
			gradientFill: null,
			chart: null,
			age_max: null,
			age_min: null,
			listen: function() {
				$('.option__choice', '.option__tab').click( VietinBank.debounce(function(event) {
					_calculator.retirement.gender = $(this).data('choice');
					_calculator.retirement.calculate();
				}, 100));
				$('#slider-age').on('input change', VietinBank.debounce(function(event) {
					_calculator.retirement.age = parseInt($(this).val());
					$('.lifegoals__option-age .value', '.lifegoals__calculator').text(_calculator.retirement.age);
					if(_calculator.retirement.age >= _calculator.retirement.age_max) {
						$('#retirementChart').next('.lifegoals__graphs-xaxis').find('.lifegoals__graphs-xaxis--labelfirst .value').text(_calculator.retirement.age+' and above');
					}
					else if(_calculator.retirement.age <= _calculator.retirement.age_min) {
						$('#retirementChart').next('.lifegoals__graphs-xaxis').find('.lifegoals__graphs-xaxis--labelfirst .value').text(_calculator.retirement.age+' and below');
					}
					else {
						$('#retirementChart').next('.lifegoals__graphs-xaxis').find('.lifegoals__graphs-xaxis--labelfirst .value').text(_calculator.retirement.age);
					}
					_calculator.retirement.calculate();
				}, 100));
				$('#slider-earning').on('input change', VietinBank.debounce(function(event) {
					_calculator.retirement.earning = parseInt($(this).val());
					$('.lifegoals__option-earning .value', '.lifegoals__calculator').text(_calculator.retirement.earning);
					_calculator.retirement.calculate();
				}, 100));
			},
			calculate: function() {
				switch(_calculator.retirement.gender) {
					case 'f':
						if(_calculator.retirement.age >= 55) {
							_calculator.retirement.silverage();
						}
						else if(_calculator.retirement.age >= 45) {
							if(_calculator.retirement.earning >= 150) {
								_calculator.retirement.display(429469,1316686,887217);
							}
							else if(_calculator.retirement.earning >= 100) {
								_calculator.retirement.display(327442,1277429,949987);
							}
							else if(_calculator.retirement.earning >= 75) {
								_calculator.retirement.display(280764,1052898,772133);
							}
							else if(_calculator.retirement.earning >= 50) {
								_calculator.retirement.display(213178,775926,562749);
							}
							else if(_calculator.retirement.earning >= 31) {
								_calculator.retirement.display(176083,655453,479370);
							}
							else if(_calculator.retirement.earning == 30) {
								_calculator.retirement.display(118605,529842,411237);
							}
							else {
								_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
							}
						}
						else if(_calculator.retirement.age >= 35) {
							if(_calculator.retirement.earning >= 150) {
								_calculator.retirement.display(376355,1647521,1271166);
							}
							else if(_calculator.retirement.earning >= 100) {
								_calculator.retirement.display(250111,1359841,1109730);
							} 
							else if(_calculator.retirement.earning >= 75) {
								_calculator.retirement.display(373255,1225092,851837);
							}
							else if(_calculator.retirement.earning >= 50) {
								_calculator.retirement.display(206323,1025296,818974);
							}
							else if(_calculator.retirement.earning >= 31) {
								_calculator.retirement.display(196072,945819,749748);
							}
							else if(_calculator.retirement.earning == 30) {
								_calculator.retirement.display(120141,747667,627526);
							}
							else {
								_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
							}
						}
						else if(_calculator.retirement.age == 34) {
							if(_calculator.retirement.earning >= 150) {
								_calculator.retirement.display(570151,2717728,2147578);
							}
							else if(_calculator.retirement.earning >= 100) {
								_calculator.retirement.display(512168,1796297,1284129);
							}
							else if(_calculator.retirement.earning >= 75) {
								_calculator.retirement.display(129489,1265188,1135699);
							}
							else if(_calculator.retirement.earning >= 50) {
								_calculator.retirement.display(200417,1110158,909741);
							}
							else if(_calculator.retirement.earning >= 31) {
								_calculator.retirement.display(163651,1196799,1033148);
							}
							else if(_calculator.retirement.earning == 30) {
								_calculator.retirement.display(108135,872535,764400);
							}
							else {
								_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
							}
						}
						else {
							_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
						}
						break;
					case 'm':
						if(_calculator.retirement.age >= 55) {
							_calculator.retirement.silverage();
						}
						else if(_calculator.retirement.age >= 45) {
							if(_calculator.retirement.earning >= 150) {
								_calculator.retirement.display(350061,1374546,1024485);
							}
							else if(_calculator.retirement.earning >= 100) {
								_calculator.retirement.display(325634,1173222,847587);
							}
							else if(_calculator.retirement.earning >= 75) {
								_calculator.retirement.display(379419,867659,488240);
							}
							else if(_calculator.retirement.earning >= 50) {
								_calculator.retirement.display(159066,722923,563857);
							}
							else if(_calculator.retirement.earning >= 31) {
								_calculator.retirement.display(177532,621447,443915);
							}
							if(_calculator.retirement.earning == 30) {
								_calculator.retirement.display(127577,561992,434415);
							}
							else {
								_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
							}
						}
						else if(_calculator.retirement.age >= 35) {
							if(_calculator.retirement.earning >= 150) {
								_calculator.retirement.display(514922,1649351,1134430);
							}
							else if(_calculator.retirement.earning >= 100) {
								_calculator.retirement.display(334477,1377508,1043030);
							}
							else if(_calculator.retirement.earning >= 75) {
								_calculator.retirement.display(216299,1064245,847946);
							}
							else if(_calculator.retirement.earning >= 50) {
								_calculator.retirement.display(178824,986375,807551);
							}
							else if(_calculator.retirement.earning >= 31) {
								_calculator.retirement.display(169011,718053,549042);
							}
							else if(_calculator.retirement.earning == 30) {
								_calculator.retirement.display(89507,638417,548910);
							}
							else {
								_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
							}
						}
						else if(_calculator.retirement.age == 34) {
							if(_calculator.retirement.earning >= 150) {
								_calculator.retirement.display(171316,1156073,984757);
							}
							else if(_calculator.retirement.earning >= 100) {
								_calculator.retirement.display(381425,1448710,1067285);
							}
							else if(_calculator.retirement.earning >= 75) {
								_calculator.retirement.display(210878,1541011,1330133);
							}
							else if(_calculator.retirement.earning >= 50) {
								_calculator.retirement.display(200417,1110158,909741);
							}
							else if(_calculator.retirement.earning >= 31) {
								_calculator.retirement.display(137020,1203067,1066048);
							}
							else if(_calculator.retirement.earning == 30) {
								_calculator.retirement.display(103895,947726,843831);
							}
							else {
								_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
							}
						}
						else {
							_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
						}
						break;
					default:
						_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);
				}
			},
			silverage: function() {
				console.log('silverage');
			},
			display: function(new_projected, new_goal, new_shortfall) {
				// console.log('display _ '+new_projected+' _ '+new_goal+' _ '+new_shortfall);
				var graph_height = $('#retirementChart').height();
				var projected_height = graph_height*(new_projected/new_goal);
				// var shortfall = new_goal - new_projected;
				var shortfall = new_shortfall;
				var shortfall_height = graph_height*(shortfall/new_goal);
				//calculate height of each category
				$('.retirement-projected').css('height',projected_height-1);
				$('.retirement-shortfall').css('height',shortfall_height);
				//insert height and value to each category
				$('.retirement-projected .value').text('S$'+new_projected.toLocaleString());
				$('.retirement-shortfall .value').text('S$'+shortfall.toLocaleString());
				$('.retirement-goal .value').text('S$'+new_goal.toLocaleString());
				$('.mobile-retirement-projected .value').text('S$'+new_projected.toLocaleString());
				$('.mobile-retirement-shortfall .value').text('S$'+shortfall.toLocaleString());
				$('.mobile-retirement-goal .value').text('S$'+new_goal.toLocaleString());
				//lastly, adjust the chart last number
				var data_length = _calculator.retirement.chart.data.datasets[0].data.length;
				for(var i = 0; i < data_length; i++) {
					_calculator.retirement.chart.data.datasets[0].data[i] = _calculator.retirement.graph[i] * (
						(graph_height*(new_projected/new_goal)) /
							(graph_height*(_calculator.retirement.projected/_calculator.retirement.goal))
					);
				}
				_calculator.retirement.chart.update();

				//center 
				var retirement_shortfall_height = $('.retirement-shortfall .lifegoals__graphs-bar--description .value').height()+$('.retirement-shortfall .lifegoals__graphs-bar--description .title').height();
				var retirement_projected_height = $('.retirement-projected .lifegoals__graphs-bar--description .value').height()+$('.retirement-projected .lifegoals__graphs-bar--description .title').height();

				if(shortfall_height > retirement_shortfall_height*2) {
					$('.retirement-shortfall .lifegoals__graphs-bar--description').addClass('centermore');
					$('.retirement-shortfall .lifegoals__graphs-bar--description').removeClass('center');
				}
				else if(shortfall_height > retirement_shortfall_height) {
					$('.retirement-shortfall .lifegoals__graphs-bar--description').addClass('center');
					$('.retirement-shortfall .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				else {
					$('.retirement-shortfall .lifegoals__graphs-bar--description').removeClass('center');
					$('.retirement-shortfall .lifegoals__graphs-bar--description').removeClass('centermore');
				}

				if(projected_height > retirement_projected_height*2) {
					$('.retirement-projected .lifegoals__graphs-bar--description').addClass('centermore');
					$('.retirement-projected .lifegoals__graphs-bar--description').removeClass('center');
				}
				else if(projected_height > retirement_projected_height) {
					$('.retirement-projected .lifegoals__graphs-bar--description').addClass('center');
					$('.retirement-projected .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				else {
					$('.retirement-projected .lifegoals__graphs-bar--description').removeClass('center');
					$('.retirement-projected .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				//end center

				//prevent overlap
				if(shortfall_height < retirement_shortfall_height && projected_height < retirement_projected_height) {
					$('.retirement-shortfall .lifegoals__graphs-bar--description').css('bottom',retirement_projected_height);
					$('.retirement-shortfall .lifegoals__graphs-bar--description').addClass('hidebefore');
				}
				else if(shortfall_height < retirement_shortfall_height) {
					$('.retirement-shortfall .lifegoals__graphs-bar--description').css('bottom',top);
					$('.retirement-shortfall .lifegoals__graphs-bar--description').addClass('hidebefore');
				}
				else {
					$('.retirement-shortfall .lifegoals__graphs-bar--description').removeClass('hidebefore');
					$('.retirement-shortfall .lifegoals__graphs-bar--description').css('bottom','');
				}

				if(projected_height < retirement_projected_height) {
					$('.retirement-projected .lifegoals__graphs-bar--description').addClass('hidebefore');	
				}
				else {
					$('.retirement-projected .lifegoals__graphs-bar--description').removeClass('hidebefore');
				}
				//end prevent overlap
			},
			init: function() {
				if($('#retirementChart').length) {
					_calculator.retirement.age_max = parseInt($('#slider-age').attr('max'));
					_calculator.retirement.age_min = parseInt($('#slider-age').attr('min'));
					_calculator.choice($('.option__choice.active','.lifegoals__option-gender'));
					_calculator.retirement.chart_height = $('#retirementChart').height(),
					_calculator.retirement.ctx = document.getElementById("retirementChart").getContext("2d"),
					_calculator.retirement.gradientFill =  _calculator.retirement.ctx.createLinearGradient(
						0, 
						(_calculator.retirement.chart_height - _calculator.retirement.graph[9]) * 2, 
						0, 
						_calculator.retirement.chart_height * 2
					);
					_calculator.retirement.gradientFill.addColorStop(0, "#ebeff1");
					_calculator.retirement.gradientFill.addColorStop(1, "rgba(209,216,219, 0.0)");
					_calculator.retirement.chart = _calculator.chart(_calculator.retirement.ctx, {
						graph: _calculator.retirement.graph,
						gradientFill: _calculator.retirement.gradientFill,
						chart_height: _calculator.retirement.chart_height
					})
					_calculator.retirement.listen();
					_calculator.retirement.display(_calculator.retirement.projected,_calculator.retirement.goal,_calculator.retirement.shortfall);

				}
			}
		},
		education: {
			gender: 'f',
			age: 1,
			degree: 'general',
			goal: 74628,
			purchased: 15819,
			projected: 26503, //108135
			shortfall: 48125, 
			// graph: [13.68,15.28,19.84,37.18],
			graph: [
				25.20,	//1
				29.20,	//2
				34.20,	//3
				39.20,	//4
				44.59,	//5
				49.79,	//6
				56.79,	//7
				67.85,	//8
				83.85,	//9
				105.54	//10
			],
			chart_height: null,
			ctx: null,
			gradientFill: null,
			chart: null,
			age_max: null,
			age_min: null,
			listen: function() {
				$('.option__choice', '.lifegoals__option-gender').click( VietinBank.debounce(function(event) {
					_calculator.education.gender = $(this).data('choice');
					_calculator.education.calculate();
				}, 100));
				$('#slider-age').on('input change', VietinBank.debounce(function(event) {
					_calculator.education.age = parseInt($(this).val());
					$('.lifegoals__option-age .value', '.lifegoals__calculator').text(_calculator.education.age+(_calculator.education.age <= 1? ' year' : ' years') );
					if(_calculator.education.age >= _calculator.education.age_max) {
						$('#educationChart').next('.lifegoals__graphs-xaxis').find('.lifegoals__graphs-xaxis--labelfirst .value').text(_calculator.education.age+' and above');
					}
					else if(_calculator.education.age <= _calculator.education.age_min) {
						$('#educationChart').next('.lifegoals__graphs-xaxis').find('.lifegoals__graphs-xaxis--labelfirst .value').text(_calculator.education.age+' and below');
					}
					else {
						$('#educationChart').next('.lifegoals__graphs-xaxis').find('.lifegoals__graphs-xaxis--labelfirst .value').text(_calculator.education.age);
					}
					_calculator.education.calculate();
				}, 100));
				$('.option__choice', '.lifegoals__option-study').click( VietinBank.debounce(function(event) {
					_calculator.education.degree = $(this).data('choice');
					_calculator.education.calculate();
				}, 100));
			},
			slider: function() {

			},
			calculate: function() {
				switch(_calculator.education.gender) {
					case 'f':
						if(_calculator.education.age >= 8) {
							switch(_calculator.education.degree) {
								case 'general':
									_calculator.education.display(8652,12662,50550,41898);
									break;
								case 'medical':
									_calculator.education.display(22882,51274,182654,159773);
									break;
								default:
									_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
							}
						}
						else if(_calculator.education.age >= 2) {
							switch(_calculator.education.degree) {
								case 'general':
									_calculator.education.display(14763,1685,67064,52301);
									break;
								case 'medical':
									_calculator.education.display(17042,0,237802,220760);
									break;
								default:
									_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
							}
						}
						else if(_calculator.education.age >= 1) {
							switch(_calculator.education.degree) {
								case 'general':
									_calculator.education.display(26503,15819,74628,48125);
									break;
								case 'medical':
									_calculator.education.display(0,166309,278925,278925);
									break;
								default:
									_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
							}
						}
						else {
							_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
						}
						break;
					case 'm':
						if(_calculator.education.age >= 8) {
							switch(_calculator.education.degree) {
								case 'general':
									_calculator.education.display(0,12670,57654,57654);
									break;
								case 'medical':
									_calculator.education.display(52557,66392,202829,150272);
									break;
								default:
									_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
							}
						}
						else if(_calculator.education.age >= 2) {
							switch(_calculator.education.degree) {
								case 'general':
									_calculator.education.display(10353,10033,69934,59581);
									break;
								case 'medical':
									_calculator.education.display(107564,74737,253531,145968);
									break;
								default:
									_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
							}
						}
						else if(_calculator.education.age >= 1) {
							switch(_calculator.education.degree) {
								case 'general':
									_calculator.education.display(465,37230,78433,77968);
									break;
								case 'medical':
									_calculator.education.display(0,157797,302387,302387);
									break;
								default:
									_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
							}
						}
						else {
							_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
						}
						break;
					default:
						_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);
				}
			},
			silverage: function() {
				console.log('silverage');
			},
			display: function(new_projected,new_purchased,new_goal,new_shortfall) {
				// console.log('display _ '+new_projected+' _ '+new_purchased+' _ '+new_goal+' _ '+new_shortfall);
				//height of div
				new_purchased = 0;
				var graph_height = $('#educationChart').height();
				var purchased_height = graph_height*(new_purchased/new_goal);
				var projected_height = graph_height*(new_projected/new_goal);
				// var shortfall = new_goal - new_projected - new_purchased;
				var shortfall = new_shortfall;
				var shortfall_height = graph_height*(shortfall/new_goal);
				//calculate height of each category
				$('.education-projected').css('height',projected_height-1);
				$('.education-purchased').css('height',purchased_height);
				$('.education-shortfall').css('height',shortfall_height);
				//calculate height of each category
				$('.education-projected .value').text('S$'+new_projected.toLocaleString());
				$('.education-purchased .value').text('S$'+new_purchased.toLocaleString());
				$('.education-shortfall .value').text('S$'+shortfall.toLocaleString());
				$('.education-goal .value').text('S$'+new_goal.toLocaleString());
				$('.mobile-education-projected .value').text('S$'+new_projected.toLocaleString());
				$('.mobile-education-purchased .value').text('S$'+new_purchased.toLocaleString());
				$('.mobile-education-shortfall .value').text('S$'+shortfall.toLocaleString());
				$('.mobile-education-goal .value').text('S$'+new_goal.toLocaleString());
				//lastly, adjust the chart last number
				var data_length = _calculator.education.chart.data.datasets[0].data.length;
				for(var i = 0; i < data_length; i++) {
					_calculator.education.chart.data.datasets[0].data[i] = _calculator.education.graph[i] * (
						(graph_height*(new_projected/new_goal)) /
							(graph_height*(_calculator.education.projected/_calculator.education.goal))
					);
				}
				_calculator.education.chart.update();

				//center 
				var education_shortfall_height = $('.education-shortfall .lifegoals__graphs-bar--description .value').height()+$('.education-shortfall .lifegoals__graphs-bar--description .title').height();
				var education_purchased_height = $('.education-purchased .lifegoals__graphs-bar--description .value').height()+$('.education-purchased .lifegoals__graphs-bar--description .title').height();
				var education_projected_height = $('.education-projected .lifegoals__graphs-bar--description .value').height()+$('.education-projected .lifegoals__graphs-bar--description .title').height();
				if(shortfall_height > education_shortfall_height*2) {
					$('.education-shortfall .lifegoals__graphs-bar--description').addClass('centermore');
					$('.education-shortfall .lifegoals__graphs-bar--description').removeClass('center');
				}
				else if(shortfall_height > education_shortfall_height) {
					$('.education-shortfall .lifegoals__graphs-bar--description').addClass('center');
					$('.education-shortfall .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				else {
					$('.education-shortfall .lifegoals__graphs-bar--description').removeClass('center');
					$('.education-shortfall .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				if(purchased_height > education_purchased_height*2) {
					$('.education-purchased .lifegoals__graphs-bar--description').addClass('centermore');
					$('.education-purchased .lifegoals__graphs-bar--description').removeClass('center');
				}
				else if(purchased_height > education_purchased_height) {
					$('.education-purchased .lifegoals__graphs-bar--description').addClass('center');
					$('.education-purchased .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				else {
					$('.education-purchased .lifegoals__graphs-bar--description').removeClass('center');
					$('.education-purchased .lifegoals__graphs-bar--description').removeClass('centermore');
				}

				if(projected_height > education_projected_height*2) {
					$('.education-projected .lifegoals__graphs-bar--description').addClass('centermore');
					$('.education-projected .lifegoals__graphs-bar--description').removeClass('center');
				}
				else if(projected_height > education_projected_height) {
					$('.education-projected .lifegoals__graphs-bar--description').addClass('center');
					$('.education-projected .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				else {
					$('.education-projected .lifegoals__graphs-bar--description').removeClass('center');
					$('.education-projected .lifegoals__graphs-bar--description').removeClass('centermore');
				}
				//end center

				//prevent overlap
				if(purchased_height < education_purchased_height && projected_height < education_projected_height) {
					$('.education-purchased .lifegoals__graphs-bar--description').css('bottom',education_projected_height);
					$('.education-purchased .lifegoals__graphs-bar--description').addClass('hidebefore');
				}
				else if(purchased_height < education_purchased_height) {
					$('.education-purchased .lifegoals__graphs-bar--description').css('bottom',10);
					$('.education-purchased .lifegoals__graphs-bar--description').addClass('hidebefore');
				}
				else {
					$('.education-purchased .lifegoals__graphs-bar--description').removeClass('hidebefore');
					$('.education-purchased .lifegoals__graphs-bar--description').css('bottom','');
				}

				if(shortfall_height < education_shortfall_height && purchased_height < education_purchased_height) {
					$('.education-shortfall .lifegoals__graphs-bar--description').css('bottom',education_purchased_height);
					$('.education-shortfall .lifegoals__graphs-bar--description').addClass('hidebefore');
				}
				else if(shortfall_height < education_shortfall_height) {
					$('.education-shortfall .lifegoals__graphs-bar--description').css('bottom',top);
					$('.education-shortfall .lifegoals__graphs-bar--description').addClass('hidebefore');
				}
				else {
					$('.education-shortfall .lifegoals__graphs-bar--description').removeClass('hidebefore');
					$('.education-shortfall .lifegoals__graphs-bar--description').css('bottom','');
				}

				if(projected_height < education_projected_height) {
					$('.education-projected .lifegoals__graphs-bar--description').addClass('hidebefore');	
				}
				else {
					$('.education-projected .lifegoals__graphs-bar--description').removeClass('hidebefore');
				}
				//end prevent overlap
			},
			init: function() {
				if($('#educationChart').length) {
					_calculator.education.age_max = parseInt($('#slider-age').attr('max'));
					_calculator.education.age_min = parseInt($('#slider-age').attr('min'));
					_calculator.choice($('.option__choice.active','.lifegoals__option-gender'));
					_calculator.choice($('.option__choice.active','.lifegoals__option-study'));
					_calculator.education.chart_height = $('#educationChart').height(),
					_calculator.education.ctx = document.getElementById("educationChart").getContext("2d"),
					_calculator.education.gradientFill =  _calculator.education.ctx.createLinearGradient(
						0, 
						(_calculator.education.chart_height - _calculator.education.graph[9]) * 2, 
						0, 
						_calculator.education.chart_height * 2
					);
					_calculator.education.gradientFill.addColorStop(0, "#ebeff1");
					_calculator.education.gradientFill.addColorStop(1, "rgba(209,216,219, 0.0)");
					_calculator.education.chart = _calculator.chart(_calculator.education.ctx, {
						graph: _calculator.education.graph,
						gradientFill: _calculator.education.gradientFill,
						chart_height: _calculator.education.chart_height
					})
					_calculator.education.listen();
					_calculator.education.display(_calculator.education.projected,_calculator.education.purchased,_calculator.education.goal,_calculator.education.shortfall);

				}
			}
		},
		init: function() {
			_calculator.listen();
			_calculator.retirement.init();
			_calculator.education.init();
		}
	}
	_calculator.init();
},
microLoanComputation: function() {
	if($('body').hasClass('page-micro-loan')){
		var parentClass = $('.page-micro-loan');
		var loanCost = $('input[name="loan_cost"]',parentClass);
		var loanYear = $('#loan-year',parentClass);
		var loanInterestRate = 8.75;
		// var loanInterestRate = $('input[name="loan_interest_rate"]',parentClass);

		loanCost.on('change', function() {
			updateLoan();
		});

		loanYear.on('change', function() {
			updateLoan();
		});

		// loanInterestRate.on('change', function() {
		// 	updateLoan();
		// });

		function loanValidation(loanPrincipal,loanInterestRate) {
			var x = 1;
			$('.loan-blank-error',parentClass).removeClass('message--error');
			// $('.interest_rate_val_message',parentClass).removeClass('message--error');
			// $('.interest_rate_val_message',parentClass).closest('.material-form-control').removeClass('has-error');
			loanCost.closest('.material-form-control').removeClass('has-error');
			
			if(loanPrincipal < 10000 || loanPrincipal > 100000){
				$('.loan-blank-error',parentClass).addClass('message--error');
				loanCost.closest('.material-form-control').addClass('has-error');
				x = 0;
			} 
			// if(loanInterestRate < 5 || loanInterestRate > 10){
			// 	$('.interest_rate_val_message',parentClass).addClass('message--error');
			// 	$('.interest_rate_val_message',parentClass).closest('.material-form-control').addClass('has-error');
			// 	x = 0;
			// }
			return x;
		}

		function computeLoan(loanPrincipal,numberOfYears,loanInterestRate) {
			var principal = loanPrincipal;
			// var interestRate = (loanInterestRate / 100) / 12;
			var interestRate = (8.75 / 100) / 12;
			var topEq = interestRate * principal;
			var botEq = 1 - Math.pow(1 + interestRate,-(12 * numberOfYears));
			var totalEq = topEq/botEq;
			var grandTotal = totalEq.toFixed(2);
			return grandTotal;
		}

		function updateLoan() {
			$('.loan-monthly-payment',parentClass).html('--');
			// $('.loan-total-repayment',parentClass).html('--');
			// $('.loan-total-interest',parentClass).html('--');
			if( loanValidation(loanCost.val(), loanInterestRate) ){
				var totalLoan = computeLoan( loanCost.val(), loanYear.val(), loanInterestRate );
				var totalRepayment = totalLoan * (12 * loanYear.val());
				var totalInterest = (totalLoan * (12 * loanYear.val())) - loanCost.val();

				$('.loan-monthly-payment',parentClass).html( 'S$'+VietinBank.toComma(Number(totalLoan)) );
				// $('.loan-total-repayment',parentClass).html( 'S$'+VietinBank.toComma(Number(totalRepayment.toFixed(2))) );
				// $('.loan-total-interest',parentClass).html( 'S$'+VietinBank.toComma(Number(totalInterest.toFixed(2))) );
				// $('.interest_rate_val_message',parentClass).removeClass('message--error').fadeIn();
			}
		}
	}
},
referral: function() {
	_referral = {
		variable: [],
		agentId: '',
		error: false,
		checked: false,
		init: function() {
			$('body.page-referralrewards').each(function() {
				_referral.variable = VietinBank.getUrlVars();
				var _this = this;
				if(_referral.variable.hasOwnProperty('AgentIntroducerID')) {
					_referral.agentId = _referral.variable['AgentIntroducerID'];
					$('input[name="AgentIntroducerID"]', this).val(_referral.agentId);
				}
				if(_referral.variable.hasOwnProperty('AgentSourceCode')) {
					$('input[name="AgentSourceCode"]', this).val(referral.variable['AgentSourceCode']);
				}
				_referral.agentId = $('input[name="AgentIntroducerID"]', this).val().trim();
				if(_referral.agentId.length > 0) {
					if(/^[0-9]{2}[A-Za-z]{3}[0-9]{5}$/.test(_referral.agentId)) {
						$('span.message--error').fadeOut().text('');
						$('input[name="AgentIntroducerID"]', this).val(_referral.agentId);
						_referral.error = false;
					}
					else {
						_referral.error = true;
						$('span.message--error').text('Please key only alphanumeric, e.g. 15FEB12345').fadeIn();
					}
				}
				else {
					_referral.error = false;
					$('span.message--error').fadeOut().text('');
					$('input[name="AgentIntroducerID"]', this).val('');
				}
				$('input[name="AgentIntroducerID"]', this).on('keyup', function(e) {
					_referral.agentId = $(this).val().trim();
					$(this).val(_referral.agentId.toUpperCase());
					if(_referral.agentId.length > 0) {
						if(/^[0-9]{2}[A-Za-z]{3}[0-9]{5}$/.test(_referral.agentId)) {
							$('span.message--error').fadeOut().text('');
							$('input[name="AgentIntroducerID"]', this).val(_referral.agentId);
							_referral.error = false;
						}
						else {
							_referral.error = true;
							$('span.message--error').text('Please key only alphanumeric, e.g. 15FEB12345').fadeIn();
						}
					}
					else {
						_referral.error = false;
						$('span.message--error').fadeOut().text('');
						$('input[name="AgentIntroducerID"]', this).val('');
					}
				});
				$('.label-checkbox input[type="checkbox"]', _this).on('click', function(e) {
					$(this).prop('checked', $(this).prop('checked') ? 'checked': '');
					_referral.checked = $(this).prop('checked') ? true : false;
				});

				$('a#prod_apply_easicredit, a#prod_apply_extracashloan, a#prod_apply_popup_easicredit, a#prod_apply_popup_extracashloan').on('click', function(e) {
					e.preventDefault();
					if(_referral.error) {
						alert('Please enter a valid referral code.');
					}
					else if(_referral.agentId.length > 0 && !_referral.checked) {
						alert('Please agree to the conditions before proceeding.');
					}
					else {
						$.each($(this).data(), function(key, item) {
							var _key = 'input#'+key;
							$(_key, _this).val(item);
						})
						$('form#referralrewards-form').submit();
					}
				})
			})
		}

	}
	_referral.init();
},
	simplyspoton: function() {
		var _simply = {
			bad1: $('#bad-1'),
			bad2: $('#bad-2'),
			bad3: $('#bad-3'),
			good1: $('#good-1'),
			good2: $('#good-2'),
			good3: $('#good-3'),
			surprising1: $('#surprising-1'),
			surprising2: $('#surprising-2'),
			surprising3: $('#surprising-3'),
			chartBad1: null,
			chartBad2: null,
			chartBad3: null,
			chartGood1: null,
			chartGood2: null,
			chartGood3: null,
			chartSur1: null,
			chartSur2: null,
			chartSur3: null,
			age: 25,
			gender: 'm',
			target1: $('.col-simplyspoton-people .value1'),
			target2: $('.col-simplyspoton-people .value2'),
			target3: $('.col-simplyspoton-people .value3'),
			exercise1: $('.col-simplyspoton-exercise .value1'),
			exercise2: $('.col-simplyspoton-exercise .value2'),
			healthy1: $('.col-simplyspoton-healthy .value1'),
			healthy2: $('.col-simplyspoton-healthy .value2'),
			badText1: $('#the-bad .col-simplyspoton .description1 p'),
			badText2: $('#the-bad .col-simplyspoton .description2 p'),
			badText3: $('#the-bad .col-simplyspoton .description3 p'),
			goodText1: $('#the-good .col-simplyspoton .description1 p'),
			goodText2: $('#the-good .col-simplyspoton .description2 p'),
			goodText3: $('#the-good .col-simplyspoton .description3 p'),
			surprisingText1: $('#the-surprising .col-simplyspoton .description1 p'),
			surprisingText2: $('#the-surprising .col-simplyspoton .description2 p'),
			surprisingText3: $('#the-surprising .col-simplyspoton .description3 p'),
			init: function(elem) {
				if(typeof Chart !== 'undefined') {
					Chart.pluginService.register({
				    afterUpdate: function (chart) {
				        if (chart.config.options.elements.arc.roundedCornersFor !== undefined) {
				            var a=chart.config.data.datasets.length -1;
				            for (var i in chart.config.data.datasets) {
				                var arc = chart.getDatasetMeta(i).data[chart.config.options.elements.arc.roundedCornersFor];
				                
				                arc.round = {
				                    x: (chart.chartArea.left + chart.chartArea.right) / 2,
				                    y: (chart.chartArea.top + chart.chartArea.bottom) / 2,
				                    radius: chart.innerRadius + chart.radiusLength / 2 + (a * chart.radiusLength),
				                    thickness: chart.radiusLength <= 0 ? 0 : chart.radiusLength / 2 - 2.5,
				                    backgroundColor: arc._model.backgroundColor
				                }
				                a--;
				            }
				        }
				        if (chart.options.centertext) {
                	var canvas = $(chart.canvas);
                  if(canvas.hasClass('donut-number-inserted')) {
                  	var div = $('.donut-number', $(chart.canvas).parent());
                  	div.prop( 'Counter', div.text() ).animate({ Counter: chart.options.centertext+'%' }, { duration: 1000, step: function(now) { div.text(Math.ceil(now)+'%') }})
                	}
                }
				    },
			    	beforeDraw: function (chart) {
                if (chart.options.centertext) {
                	var canvas = $(chart.canvas);
                	if(!canvas.hasClass('donut-number-inserted')) {
                		var div = document.createElement('div');
	                	div.classList.add('donut-number');
	                	canvas.after(div);
	                	canvas.addClass('donut-number-inserted');
	                	$(div).prop( 'Counter', 0 ).animate({ Counter: chart.options.centertext+'%' }, { duration: 1000, step: function(now) { $(div).text(Math.ceil(now)+'%') }})
                	}
                }
            },
				    afterDraw: function (chart) {
				        if (chart.config.options.elements.arc.roundedCornersFor !== undefined) {
				            var ctx = chart.chart.ctx;
				            for (var i in chart.config.data.datasets) {
				                var arc = chart.getDatasetMeta(i).data[chart.config.options.elements.arc.roundedCornersFor];
				                var startAngle = Math.PI / 2 - arc._view.startAngle;
				                var endAngle = Math.PI / 2 - arc._view.endAngle;

				                ctx.save();
				                ctx.translate(arc.round.x, arc.round.y);
				                ctx.fillStyle = arc.round.backgroundColor;
				                ctx.beginPath();
				                ctx.arc(arc.round.radius * Math.sin(startAngle), arc.round.radius * Math.cos(startAngle), arc.round.thickness, 0, 2 * Math.PI);
				                ctx.arc(arc.round.radius * Math.sin(endAngle), arc.round.radius * Math.cos(endAngle), arc.round.thickness, 0, 2 * Math.PI);
				                ctx.closePath();
				                ctx.fill();
				                ctx.restore();
				            }
				        }
				    },
					});
				}
				_simply.chartBad1 = _simply.chart(_simply.bad1);
				_simply.chartBad2 = _simply.chart(_simply.bad2);
				_simply.chartBad3 = _simply.chart(_simply.bad3);
				_simply.chartGood1 = _simply.chart(_simply.good1);
				_simply.chartGood2 = _simply.chart(_simply.good2);
				_simply.chartGood3 = _simply.chart(_simply.good3);
				_simply.chartSur1 = _simply.chart(_simply.surprising1);
				_simply.chartSur2 = _simply.chart(_simply.surprising2);
				_simply.chartSur3 = _simply.chart(_simply.surprising3);
				_simply.listen(elem);
				_simply.random(elem);
			},
			listen: function(elem) {
				// setTimeout(function() {
				// 	_simply.chartBad1.chart.data.datasets[0].data[0] = 90;
				// 	_simply.chartBad1.chart.data.datasets[0].data[1] = 10;
				// 	_simply.chartBad1.chart.options.centertext = '90%';
				// 	_simply.chartBad1.chart.update();
				// }, 2000);
				elem.find('#slider-age').on('input change', VietinBank.debounce(function(event) {
					_simply.age = parseInt($(this).val());
					elem.find('.lifegoals__option-age .value').text(_simply.age);
					_simply.calculate();
				}, 100));
				elem.find('.option__choice').click( VietinBank.debounce(function(event) {
					_simply.gender = $(this).data('choice');
					_simply.calculate();
				}, 100));
				$('body.page-simplyspoton .com__tab li a').click(function() {
					switch($(this).attr('href')) {
						case '#the-good':
							_simply.chartGood1.destroy();
							_simply.chartGood2.destroy();
							_simply.chartGood3.destroy();
							_simply.chartGood1 = _simply.chart(_simply.good1);
							_simply.chartGood2 = _simply.chart(_simply.good2);
							_simply.chartGood3 = _simply.chart(_simply.good3);
							break;
						case '#the-bad':
							_simply.chartBad1.destroy();
							_simply.chartBad2.destroy();
							_simply.chartBad3.destroy();
							_simply.chartBad1 = _simply.chart(_simply.bad1);
							_simply.chartBad2 = _simply.chart(_simply.bad2);
							_simply.chartBad3 = _simply.chart(_simply.bad3);
							break;
						case '#the-surprising':
							_simply.chartSur1.destroy();
							_simply.chartSur2.destroy();
							_simply.chartSur3.destroy();
							_simply.chartSur1 = _simply.chart(_simply.surprising1);
							_simply.chartSur2 = _simply.chart(_simply.surprising2);
							_simply.chartSur3 = _simply.chart(_simply.surprising3);
							break;
						default: 
							//
					}
				})
			},
			calculate: function() {
				if(_simply.age <= 29) {
					if(_simply.gender === 'm') {
						_simply.target1.html(61);
						_simply.goodText1.html('Save 10% or more of their monthly income.');
						_simply.goodText2.html('Stick closely to their budget');
						_simply.goodText3.html('Review their financial plans yearly with a financial planner ');
						_simply.update(92, 'chartGood1');
						_simply.update(79, 'chartGood2');
						_simply.update(57, 'chartGood3');

						_simply.badText1.html('Are on track with their retirement plans');
						_simply.badText2.html('Spend beyond their means to keep up with their peers');
						_simply.badText3.html('Often pay the minimum sum on their credit card bills');
						_simply.update(18, 'chartBad1');
						_simply.update(16, 'chartBad2');
						_simply.update(44, 'chartBad3');

						_simply.surprisingText1.html('Have worried about money recently');
						_simply.surprisingText2.html('Trust artificial intelligence to make investment decisions');
						_simply.surprisingText3.html('Often borrow from family and friends');
						_simply.update(50, 'chartSur1');
						_simply.update(39, 'chartSur2');
						_simply.update(11, 'chartSur3');

						_simply.healthy1.html('71%');
						_simply.healthy2.html('count calories');
						_simply.exercise1.html('97%');
						_simply.exercise2.html('do some form of exercise every week');
					}
					else {
						_simply.target1.html(60);
						_simply.goodText1.html('Save 10% or more of their monthly income');
						_simply.goodText2.html('Do not have unsecured debt ');
						_simply.goodText3.html('Have medical insurance');
						_simply.update(88, 'chartGood1');
						_simply.update(80, 'chartGood2');
						_simply.update(81, 'chartGood3');

						_simply.badText1.html('Dont have passive income');
						_simply.badText2.html('Do research on investments beyond consulting qualified financial representatives');
						_simply.badText3.html('Are not on track to have enough funds for a crisis');
						_simply.update(63, 'chartBad1');
						_simply.update(26, 'chartBad2');
						_simply.update(65, 'chartBad3');

						_simply.surprisingText1.html('Dont know the best way to grow their wealth');
						_simply.surprisingText2.html('Have worried about money recently');
						_simply.surprisingText3.html('Avoid making transactions online ');
						_simply.update(55, 'chartSur1');
						_simply.update(56, 'chartSur2');
						_simply.update(13, 'chartSur3');

						_simply.healthy1.html('87%');
						_simply.healthy2.html('make an effort to eat healthily');
						_simply.exercise1.html('64%');
						_simply.exercise2.html('count calories');
					}
				}
				else if(_simply.age >= 30 && _simply.age <= 39) {
					if(_simply.gender === 'm') {
						_simply.target1.html(63);
						_simply.goodText1.html('Save at least 10% of their income');
						_simply.goodText2.html('Have medical insurance');
						_simply.goodText3.html('Keep to their budget');
						_simply.update(80, 'chartGood1');
						_simply.update(80, 'chartGood2');
						_simply.update(71, 'chartGood3');

						_simply.badText1.html('Have no source of regular passive income');
						_simply.badText2.html('Are not on track with their retirement plans');
						_simply.badText3.html('Speculate excessively');
						_simply.update(38, 'chartBad1');
						_simply.update(75, 'chartBad2');
						_simply.update(25, 'chartBad3');

						_simply.surprisingText1.html('Cannot meet the needs of both their parents and their children');
						_simply.surprisingText2.html('Are well aware of tax relief schemes');
						_simply.surprisingText3.html('Avoid making financial transactions online.');
						_simply.update(53, 'chartSur1');
						_simply.update(71, 'chartSur2');
						_simply.update(24, 'chartSur3');

						_simply.exercise1.html('89%');
						_simply.exercise2.html('do some form of exercise every week');
						_simply.healthy1.html('83%');
						_simply.healthy2.html('make an effort to eat healthily');
					}
					else {
						_simply.target1.html(60);
						_simply.goodText1.html('Save at least 10% of income');
						_simply.goodText2.html('Have medical insurance');
						_simply.goodText3.html('Are on track with paying off their home loans');
						_simply.update(79, 'chartGood1');
						_simply.update(85, 'chartGood2');
						_simply.update(75, 'chartGood3');

						_simply.badText1.html('Dont have passive income');
						_simply.badText2.html('Are on track with their retirement plans ');
						_simply.badText3.html('The percentage of investors that are performing below their target');
						_simply.update(51, 'chartBad1');
						_simply.update(22, 'chartBad2');
						_simply.update(35, 'chartBad3');

						_simply.surprisingText1.html('Often borrow from friends or family');
						_simply.surprisingText2.html('Think investing is gambling');
						_simply.surprisingText3.html('Think artificial intelligence can make better investment decisions');
						_simply.update(13, 'chartSur1');
						_simply.update(30, 'chartSur2');
						_simply.update(27, 'chartSur3');

						_simply.healthy1.html('90%');
						_simply.healthy2.html('make an effort to eat healthily');
						_simply.exercise1.html('84%');
						_simply.exercise2.html('do some form of exercise every week');
					}
				}
				else if(_simply.age >= 40 && _simply.age <= 54) {
					if(_simply.gender === 'm') {
						_simply.target1.html(63);
						_simply.goodText1.html('Keep to their budget');
						_simply.goodText2.html('Have arranged for their finances to be taken care of after their death');
						_simply.goodText3.html('Are on track with having enough to spend comfortably');
						_simply.update(74, 'chartGood1');
						_simply.update(72, 'chartGood2');
						_simply.update(48, 'chartGood3');

						_simply.badText1.html('Have unsecured debt');
						_simply.badText2.html('Often pay only the minimum sum on their credit card bills');
						_simply.badText3.html('Are not on track to maintain their lifestyle after retirement');
						_simply.update(33, 'chartBad1');
						_simply.update(26, 'chartBad2');
						_simply.update(65, 'chartBad3');

						_simply.surprisingText1.html('Have problems teaching their children about the value of money');
						_simply.surprisingText2.html('Are behind with paying off their unsecured debt');
						_simply.surprisingText3.html('Have worried about money recently');
						_simply.update(28, 'chartSur1');
						_simply.update(22, 'chartSur2');
						_simply.update(38, 'chartSur3');

						_simply.healthy1.html('87%');
						_simply.healthy2.html('eat healthily');
						_simply.exercise1.html('85%');
						_simply.exercise2.html('do some form of exercise every week');
					}
					else {
						_simply.target1.html(64);
						_simply.goodText1.html('Have no unsecured debt');
						_simply.goodText2.html('Have arranged for their finances to be taken care of after their death');
						_simply.goodText3.html('Can stretch their savings to last 6 months');
						_simply.update(79, 'chartGood1');
						_simply.update(78, 'chartGood2');
						_simply.update(53, 'chartGood3');

						_simply.badText1.html('Have no source of regular passive income');
						_simply.badText2.html('Are not on track to have enough funds for a crisis');
						_simply.badText3.html('Are not on track to maintain their lifestyle after retirement');
						_simply.update(50, 'chartBad1');
						_simply.update(54, 'chartBad2');
						_simply.update(62, 'chartBad3');

						_simply.surprisingText1.html('Do not review their financial plans yearly');
						_simply.surprisingText2.html('Are not confident the economy will be better in the next 12 months');
						_simply.surprisingText3.html('Avoid making financial transactions online');
						_simply.update(54, 'chartSur1');
						_simply.update(77, 'chartSur2');
						_simply.update(25, 'chartSur3');

						_simply.healthy1.html('89%');
						_simply.healthy2.html('make an effort to eat healthily');
						_simply.exercise1.html('79%');
						_simply.exercise2.html('do some form of exercise every week');
					}
				}
				else {
					if(_simply.gender === 'm') {
						_simply.target1.html(66);
						_simply.goodText1.html('Are on track in meeting their family\'s financial needs');
						_simply.goodText2.html('Can stretch their savings for 6 months');
						_simply.goodText3.html('Have done something to ensure that their finances are taken care of after they pass on');
						_simply.update(63, 'chartGood1');
						_simply.update(62, 'chartGood2');
						_simply.update(78, 'chartGood3');

						_simply.badText1.html('Review their financial plans yearly with a financial planner');
						_simply.badText2.html('Believe that they have a plan to cover most unforeseen medical bills');
						_simply.badText3.html('Are not on track to have enough funds for a crisis');
						_simply.update(43, 'chartBad1');
						_simply.update(51, 'chartBad2');
						_simply.update(47, 'chartBad3');

						_simply.surprisingText1.html('Can spend comfortably on the things they want');
						_simply.surprisingText2.html('Spend beyond their means to keep up with their peers');
						_simply.surprisingText3.html('Avoid making financial transactions online');
						_simply.update(56, 'chartSur1');
						_simply.update(10, 'chartSur2');
						_simply.update(28, 'chartSur3');

						_simply.healthy1.html('79%');
						_simply.healthy2.html('go for a health check at least once every two years');
						_simply.exercise1.html('91%');
						_simply.exercise2.html('make an effort to eat healthily');
					}
					else {
						_simply.target1.html(64);
						_simply.goodText1.html('Have no unsecured debt');
						_simply.goodText2.html('Are on track to meet their familys financial needs');
						_simply.goodText3.html('Do not borrow from friends and family often');
						_simply.update(83, 'chartGood1');
						_simply.update(53, 'chartGood2');
						_simply.update(98, 'chartGood3');

						_simply.badText1.html('Have investments that are performing below their target');
						_simply.badText2.html('Do research on investments beyond consulting qualified financial representatives');
						_simply.badText3.html('Review financial plans yearly with a financial planner');
						_simply.update(42, 'chartBad1');
						_simply.update(49, 'chartBad2');
						_simply.update(34, 'chartBad3');

						_simply.surprisingText1.html('Are confident that they know the best way to grow their money');
						_simply.surprisingText2.html('Think investing is gambling');
						_simply.surprisingText3.html('Are comfortable making financial transactions online');
						_simply.update(32, 'chartSur1');
						_simply.update(27, 'chartSur2');
						_simply.update(44, 'chartSur3');

						_simply.healthy1.html('75%');
						_simply.healthy2.html('go for a health check at least once every two years ');
						_simply.exercise1.html('96%');
						_simply.exercise2.html('make an effort to eat healthily');
					}
				}
			},
			update: function(number, chart) {
				_simply[chart].chart.data.datasets[0].data[0] = number;
				_simply[chart].chart.data.datasets[0].data[1] = 100 - number;
				_simply[chart].chart.options.centertext = number;
				$(_simply[chart].chart.canvas).data('percentage', number);
				_simply[chart].chart.update();
			},
			random: function(elem) {
				var rand = [
					'Balanced is beautiful when it comes to your spending and saving.',
					'Cant stick to your budget? Apportionment is the answer.',
					'Debt is like exercise  Dont overdo it.',
					'Wondering about what ifs is not a bad thing when it comes to insurance.',
					'Why wait? Enjoy the magic of compounding today.',
					'Variety is the spice of life  and your investment portfolio.',
					'Cast your net wider with your investments.',
					'We all understand quality over quantity. Apply that to your investments too.',
					'Dont be passive about earning passive income.',
					'Think you can make a quick buck by speculating? Think again.'
				];
				elem.find('.random-text h3').html(rand[Math.floor(Math.random() * 10)]);
			},
			chart: function(ctx, param) {
				if(ctx.length) {
					var data = [];
					var color = [];
					data[0] = ctx.data('percentage');
					data[1] = 100 - data[0];
					color[0] = ctx.data('color');
					color[1] = '#ebeff1';
					ctx = ctx[0].getContext('2d');
					return new Chart(ctx, {
						type: "doughnut",
						data: {
							labels: ["1", "2"],
							datasets: [
								{
									// label: '# of Votes',
									data: data,
									backgroundColor: color
								}
							]
						},
						options: {
							centertext: data[0],
							animation: {
								duration: 1000,
								easing: 'easeOutQuart',
							},
							cutoutPercentage: 80,
							tooltips: {
								enabled: false
							},
							hover: {
								mode: null
							},
							elements: {
	                arc: {
	                    borderWidth: 5,
	                    borderColor: '#ffffff',
	                    roundedCornersFor: 0
	                },
	                center: {
	                    // the longest text that could appear in the center
	                    maxText: '100%',
	                    text: '67%',
	                    fontColor: '#FF6684',
	                    fontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
	                    fontStyle: 'normal',
	                    // fontSize: 12,
	                    // if a fontSize is NOT specified, we will scale (within the below limits) maxText to take up the maximum space in the center
	                    // if these are not specified either, we default to 1 and 256
	                    minFontSize: 1,
	                    maxFontSize: 256,
	                }
	                
	            },
							responsive: true,
							scales: {
								yAxes: [
									{
										stacked: false,
										display: false,
										gridLines: {
											drawBorder: false
										},
										ticks: {
											// suggestedMin: 2,
											stepSize: 2,
											beginAtZero: true
										}
									}
								],
								xAxes: [
									{
										display: false,
										gridLines: {
											drawBorder: false,
											display: false
										}
									}
								]
							},
							legend: {
								display: false
							}
						}
					});
				}
			},
		};
		$('.page-simplyspoton').each(function() {
			_simply.init($(this));
		})
	},
voiceBanking: function() {
	
},
    init: function() {
        $('body').addClass('js_init');
        VietinBank.version();
        VietinBank.width = $(window).outerWidth();
        VietinBank.height = $(window).outerHeight();
        
        // for preloading
        if (VietinBank.preload) { VietinBank.loader('init'); }
        VietinBank.bodystopscroll(false);

        // for general resize function
        VietinBank.resize();
        
        // detect if mobile
        VietinBank.mobiledetect();

        // detect browser
        VietinBank.browserdetect();

        // get hash
        VietinBank.gethash();

        // for content inview, used in entrance animation
        VietinBank.inview();
        VietinBank.headersubnav();

        // for header sticky
        if(!$('body').hasClass('page-current')) {
            VietinBank.sticky();
            VietinBank.headersticky();
            VietinBank.headerhamburger();
            VietinBank.headernavi();
        }

        // for one time toggle
        $('.com_toggle').each(function(index) {
            var _this = $(this),
            _class = 'com__toggle' + index;
            _this.addClass(_class);

            VietinBank.toggle({
                target: '.' + _class
            });
        });


        $('.com__nav-dd').each(function(index) {
            var _this = $(this),
            _class = 'com__nav-dd' + index;
            _this.addClass(_class);

            VietinBank.leftNavDD({
                target: '.' + _class
            });
        });

        // for start and end date of promo
        VietinBank.promoStartEndDate();
        
        // for calculator steps
        VietinBank.calculatorSteps();

        // for calculator 
        VietinBank.calculator();

        // for promotions
        VietinBank.promotions();

        // for mastheads
        VietinBank.masthead();

        // for popups
        VietinBank.popup();

        // for ways to apply
        VietinBank.waystoapply();

        // for ways to cards listing comparison
        VietinBank.cardslistingcomparison();

        // for ways to cards features and services
        VietinBank.cardsfeatureandservices();

        // for checkboxes
        VietinBank.checkbox();

        // for search form
        VietinBank.searchForm();

        VietinBank.cardPromotion();

        // global dropdown
        VietinBank.globalDropDown();

        // for reading bar
        VietinBank.readingBar();

        //404 page
        VietinBank.page404();

        VietinBank.lifegoals_calculator();

        //microsite agent guide
        VietinBank.agentGuide();

        //microsite 90degrees
        VietinBank.card90degrees();

        //field js
        VietinBank.comField();

        //digital banking services
        VietinBank.digitalBankingServices();

        //digital banking videos
        VietinBank.digitalBankingVideos();

        //voice banking
        VietinBank.voiceBanking();

        //microloan computation
        VietinBank.microLoanComputation();

        //home loan application
        VietinBank.homeLoanApplication();
        $('.com__radio-toggle').each(function(index) {
            var _this = $(this),
            _class = 'radioToggle' + index;
            _this.addClass(_class);

            VietinBank.radioToggle({
                target: '.' + _class
            });
        });

        // Career Professionals
        VietinBank.careerProfessionals();

        // for row group height
        $('.com__row-group-height').each(function(index) {
            var _this = $(this),
            _class = 'rowGroupHeight-crgh-' + index;
            _this.addClass(_class);

            // need to add this class in every columns
            // .com__row-group-col

            VietinBank.rowGroupHeight({
                parent: '.' + _class,
                classes: ['.rgh1', '.rgh2', '.rgh3', '.rgh4']
            });
        });
        $('.feature__two-col-image-beside-text').each(function(index) {
            var _this = $(this),
            _class = 'rowGroupHeight-ftibt-' + index;
            _this.addClass(_class);

            VietinBank.rowGroupHeight({
                parent: '.' + _class,
                target: '.col-md-6.mob-mb2',
                classes: ['.rgh1', '.rgh2', '.rgh3', '.rgh4', '.mh1-f', '.mh2-f'],
                targetResize: true,
                equalizeMargin: true,
                absoluteDiv: '.feature__column--text'
            });
        });
        VietinBank.notification();

        VietinBank.selectednav();
        VietinBank.referral();

        VietinBank.linkFilter();
    },
    ready: function() {
        // merge left nav component to col-md-9
        VietinBank.leftNavComponent();
        // conditions of access 
        // // scrolling and expand all 
        VietinBank.sideNavigation();

        // for accordion
        $('.accordion__loan').attr('auto-scroll', 'true');
        VietinBank.accordion();

        // for compare
        VietinBank.compare();
        // VietinBank.resize();
        VietinBank.homeSearch();
        // hide the preloader
        if (VietinBank.preload) {
            VietinBank.loader('close');
        }

        // for button switcher
        $('[button-switcher]').each(function(index) {
            var _this = $(this),
            _type = _this.attr('button-switcher'),
            _class = 'button-switcher' + index;
            _this.addClass(_class);

            if(_type == 'type1') {
                VietinBank.buttonswitcher({
                    target: '.' + _class,
                    afterUpdate: function(event) {
                        // if need details from the current function
                    }
                });
            }

            if(_type == 'type2') {
                VietinBank.buttonswitcher({
                    target: '.' + _class,
                    padding: 5
                });
            }
        });

        // for general tabs
        // detect if theres a video present in the page coz it is conflict to youtube videos
        if($('.com_video').length > 0) {
            VietinBank.isVideo = true;
        }

        $('.com__tab').each(function(index) {
            var _this = $(this),
            _index = 'com__tab' + index;
            _this.addClass(_index);
            _type = _this.attr('tab-type');
            if(_type == '2') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.tabs({
                            target: '.' + _index,
                            destroy: true
                        });
                        VietinBank.tabs({
                            target: '.' + _index
                        });
                    },
                    mobile: function() {
                        VietinBank.tabs({
                            target: '.' + _index,
                            destroy: true
                        });
                        VietinBank.tabs({
                            target: '.' + _index,
                            select: true
                        });
                    }
                });
            } else {
                VietinBank.tabs({
                    target: '.' + _index
                });
            }
        });
        
        // for tabs with special case
        $('#cda-child-order').each(function() {
            VietinBank.enquire({
                desktop: function() {
                    VietinBank.tabs({
                        target: '#cda-child-order',
                        destroy: true
                    });
                },
                mobile: function() {
                    VietinBank.tabs({
                        target: '#cda-child-order',
                        select: true
                    });
                }
            });
        });

        $('.parent__masthead--multi-columns').each(function(index) {
            var _index = 'parent__masthead--multi-columns_' + index;
            $(this).addClass(_index),
            VietinBank.tabs({
                target: '.'+_index,
                swipe: true
            });
        })

        VietinBank.reserveTable();
        // for ready sets of graph carousel
        // if your graph are not like on any one of these types, then just add new type
        $('[graph-carousel]').each(function(index) {
            var _this = $(this),
            _type = _this.attr('graph-carousel'),
            _id = 'graph' + _type + index;
            _this.attr('id', _id);

            // for cda graph
            if(_type == 'type1') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: 2,
                            bullets: false,
                            onInitialize: function(event) {
                                // event.items = item counts per slide
                                // event.columns =  total number of columns
                                // event.currentslide = number of currentslide
                            },
                            onChange: function(event) {
                                // event.items = item counts per slide
                                // event.columns =  total number of columns
                                // event.currentslide = number of currentslide
                            }
                        });
                    }
                });
            }

            // for interest graph
            if(_type == 'type2') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: 2,
                            navLeft: false,
                            headfix: true,
                            type: _type
                        });
                    }
                });
            }

            // for loan graph
            if(_type == 'type3') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: 2,
                            navLeft: false,
                            headfix: true,
                            headerGap: 2
                        });
                    }
                });
            }

            // for packages graph
            if(_type == 'type4') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: 1,
                            navLeft: false,
                        });
                    }
                });
            }

            // for interest graph
            if(_type == 'type5') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: 2,
                            navLeft: false,
                            headfix: true,
                            stickyNav: true
                        });
                    }
                });
            }

            // for insurance graph
            if(_type == 'type6') {
                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: 2,
                            navLeft: false,
                            stickyNav: true
                        });
                    }
                });
            }

            if(_type == 'custom') {
                var _items = 2,
                _navRight = true,
                _navLeft = false,
                _headfix = true,
                _stickyNav = true,
                _firstRows = 0,
                _mobileFirstRows = 0,
                _slideBy = 1;

                if(_this.attr('graph-items')) {
                    _items = parseInt(_this.attr('graph-items'));
                }

                if(_this.attr('graph-headfix') == 'false') {
                    _headfix = false;
                }

                if(_this.attr('graph-stickyNav') == 'false') {
                    _stickyNav = false;
                }

                if(_this.attr('graph-firstRows')) {
                    _firstRows = parseInt(_this.attr('graph-firstRows'));
                }
                _mobileFirstRows = _firstRows;

                if(_this.attr('graph-mobile-firstRows')) {
                    _mobileFirstRows = parseInt(_this.attr('graph-mobile-firstRows'));
                }

                if(_this.attr('graph-slideBy')) {
                    _slideBy = parseInt(_this.attr('graph-slideBy'));
                }

                VietinBank.enquire({
                    desktop: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            destroy: true,
                        });

                        VietinBank.firstRows({
                            target: '#' + _id,
                            rows: _firstRows
                        });
                    },
                    mobile: function() {
                        VietinBank.graphcarousel({
                            target: '#' + _id,
                            items: _items,
                            slideBy: _slideBy,
                            navLeft: _navLeft,
                            navRight: _navRight,
                            stickyNav: _stickyNav,
                            headfix: _headfix
                        });

                        VietinBank.firstRows({
                            target: '#' + _id,
                            rows: _mobileFirstRows
                        });
                    }
                });
            }
        });

        // for interest table
        VietinBank.graphinterest();

        // for owl carousel
        $('.list__two-col-with-side-icons-sl_slider').owlCarousel({
            margin: 0,
            nav: false,
            items: 1
        });

        // for recommended products
        $('.common__recommended-products .owl-carousel').each(function() {
            if($(this).attr('item') == 2) {
                $(this).owlCarousel({
                    nav: false,
                    dots: true,
                    items: 2,
                    margin: 0,
                    smartSpeed: 700,
                    responsive: {
                        0: {
                            items: 1,
                        },
                        769: {
                            items: 2,
                            mouseDrag: true,
                            touchDrag: true
                        },
                        1201: {
                            items: 2,
                            mouseDrag: false,
                            touchDrag: false
                        }
                    }
                });
            }
            else {
                $(this).owlCarousel({
                    nav: false,
                    dots: true,
                    items: 3,
                    margin: 0,
                    smartSpeed: 700,
                    responsive: {
                        0: {
                            items: 1,
                        },
                        769: {
                            items: 2,
                            mouseDrag: true,
                            touchDrag: true
                        },
                        1201: {
                            items: 3,
                            mouseDrag: false,
                            touchDrag: false
                        }
                    }
                });
            }
        })

        $('.common__recommended-products-pr-set').mouseenter(function() {
            if (VietinBank.width > 769) {
                $('.common__recommended-products-pr-main', this).addClass('active');
                $('.common__recommended-products-pr-more', this).stop(true, true).slideDown(150);
            }
        }).mouseleave(function() {
            if (VietinBank.width > 769) {
                $('.common__recommended-products-pr-main', this).removeClass('active');
                $('.common__recommended-products-pr-more', this).slideUp(150);
            }
        });

        // for privileges
        $('.list__three-col-with-icons .owl-carousel').each(function() {
            var item = $(this).find('.item').length ? $(this).find('.item').length : 3
            $(this).owlCarousel({
                nav: false,
                dots: true,
                items: item,
                margin: 0,
                smartSpeed: 700,
                autoHeight: true,
                responsiveClass: true,
                responsive: {
                    0: {
                        items: 1,
                    },
                    768: {
                        items: item,
                        mouseDrag: false,
                        touchDrag: false
                    }
                },
                onInitialized: function() {
                    VietinBank.equalize($('.list__three-col-with-icons-item-content--text', this));
                    VietinBank.equalize($('.list__three-col-with-icons-item-content--link', this));
                },
                onResized: function() {
                    VietinBank.equalize($('.list__three-col-with-icons-item-content--text', this));
                    VietinBank.equalize($('.list__three-col-with-icons-item-content--link', this));
                }
            });
        })

        var fakeHorizontalScrolling = new VietinBank.fakeHorizontalScrolling($('.com__tab-nav'));
        fakeHorizontalScrolling.init();

        // for loans
        $('.mobile-carousel-nav .owl-carousel').each(function() {
            var _self = this;
            function toCarousel(event) {
                $(_owl).trigger('to.owl.carousel', Math.max(0, $(event.currentTarget).attr('data-position')));
            }
            VietinBank.enquire({
                between: 768,
                desktop: function() {
                    var _owl = $(_self).find('.owl-item');
                    $(_owl).off('click', toCarousel);
                    $(_self).owlCarousel('destroy');
                },
                mobile: function() {
                    var itemGap = 10;
                    $(_self).owlCarousel({
                        items: 3,
                        dots: false,
                        nav: true,
                        stagePadding: 0,
                        margin: 10,
                        slideBy: 3,
                        autoWidth:true,
                        merge: true,
                        responsive: {
                            0: {
                                slideBy: 2,
                            },
                            361: {
                                slideBy: 3
                            }
                        },
                        onTranslated: function(e) {
                            // var owlWrapper = $(e.currentTarget).find('.owl-stage');
                            // var itemsLength = owlWrapper.find('.owl-item').length;
                            // var maxWidth = owlWrapper.width();
                            // var maxTransform = maxWidth - owlWrapper.parent().width();
                            // setTimeout(function() {
                            //     if(owlWrapper[0]) {
                            //         var transformStyle = owlWrapper[0].style.transform;
                            //         curLeft = 0;
                            //         if (transformStyle && transformStyle !== 'none') {
                            //             // curLeft = Number(transformStyle.split(',')[4].replace(')', ''));
                            //             curLeft = transformStyle.split(',')[0].replace('translate3d(', '').replace('px', '')
                            //             if (Math.abs(curLeft) > maxTransform) {
                            //                 owlWrapper[0].style.transform = owlWrapper[0].style.transform.replace(curLeft, parseInt(curLeft) + itemsLength * itemGap);
                            //             }
                            //         }
                            //     }
                            // }, 150);
                        },
                        onInitialized: function(e) {
                            var owlWrapper = $(e.currentTarget).find('.owl-stage');
                            var itemWidth = 100;
                            var itemsLength = owlWrapper.find('.owl-item').length;
                            if(itemsLength > 2) {
                                owlWrapper.css('maxWidth', itemWidth*itemsLength+itemGap*(itemsLength-1));
                            }
                        }
                    });
                    var _owl = $(_self).find('.owl-item');
                    $(_owl).each(function(index, event) {
                        $(this).attr('data-position', (index));
                    })
                    $(_owl).on('click', toCarousel);

                    // move to active slideUp
                    setTimeout(function() {
                        var _currentNav = $(_owl).find('.item.selected').parent().data('position');
                        $(_self).trigger('to.owl.carousel',_currentNav);
                        //
                    }, 500);
                        
                }
            });
        })

        // online banking slider for both desktop and mobile
        $('.com__onlinebanking_whatsnewfeature-extended').each(function(index) {
            var _class = 'obCarouselExtended' + index;
            $(this).addClass(_class);

            VietinBank.onlineBankingCarousel({
                target: '.' + _class,
                type: 'extended'
            });
        });

        // online banking slider for mobile only
        $('.com__onlinebanking_whatsnewfeature-normal').each(function(index) {
            var _class = 'obCarouselNormal' + index;
            $(this).addClass(_class);

            VietinBank.onlineBankingCarousel({
                target: '.' + _class,
                type: 'normal'
            });
        });

        // for cards - lifestyle benefits
        VietinBank.enquire({
            between: 960,
            desktop: function() {
                $('.feature__image .owl-carousel').owlCarousel('destroy');
            },
            mobile: function() {
                $('.feature__image .owl-carousel').owlCarousel({
                    items: 1,
                    dots: true,
                    startPosition: ($('.feature__image .accordion__item.expanded').attr('accordion__index')-1),
                    onDragged: function(event) {
                        $('.feature__image .accordion__item.expanded').removeClass('expanded');
                        $('.feature__image .accordion__item').eq(event.item.index).addClass('expanded');
                    }
                });
            }
        });

        VietinBank.enquire({
            between: 767,
            desktop: function() {
                $('.feature__column.com__merchant_promotions .owl-carousel').owlCarousel('destroy');
                $('.feature__column.com__merchant_promotions .gh3').css({ minHeight: 0, transition: null });
            },
            mobile: function() {
                $('.feature__column.com__merchant_promotions .owl-carousel').owlCarousel({
                    dots: true,
                    onChanged: function() {
                        var self = this;
                        $('.feature__column.com__merchant_promotions .gh3').css({ minHeight: 0, transition: null });
                    },
                    responsive: {
                        0: {
                            items: 1,
                            slideBy: 1
                        },
                        480: {
                            items: 2,
                            slideBy: 2
                        }
                    }
                });
            }
        });

        // for cards - features & benefits
        VietinBank.enquire({
            desktop: function() {
                $('.list__col.com__sneak-slider').each(function() {
                    var _this = $(this),
                    _thisCar = $('.owl-carousel', this);
                    _thisCar.owlCarousel('destroy');
                });
            },
            mobile: function() {
                $('.list__col.com__sneak-slider').each(function() {
                    var _this = $(this),
                    _thisCar = $('.owl-carousel', this);
                    _thisCar.owlCarousel({
                        margin: 10,
                        dots: true,
                        items: 1,
                        smartSpeed: 700
                    });
                });           
            }
        });

        // for rounded animation button
        $('.btn-animation').each(function() {
            var buttonElem = $(this);
            if (buttonElem.hasClass('bordered')) {
                $(this).html('<span class="icon">' + $(this).html() + '</span><span class="circle"><span><em></em></span><span><em></em></span></span>');
            }
        });

        // for process
        VietinBank.process();

        // for select2
        VietinBank.select2();

        VietinBank.selectize();

        // for comslider
        VietinBank.comslider();

        // for form
        VietinBank.form();

        VietinBank.loans();
        
        // for packages
        VietinBank.packages();

        // load more
        VietinBank.loadmore();
        // for home
        VietinBank.home();

        // Help and support
        VietinBank.helpAndSupport();

        // Insurance
        VietinBank.insuranceTimeline();
        VietinBank.insuranceEndownment();
        VietinBank.insuranceDidYouKnow();
        VietinBank.insuranceTables();

        // Investments
        VietinBank.enquire({
            desktop: function() {
                $('.com__inv-tica').each(function() {
                    var _this = $(this),
                    _thisCar = $('.owl-carousel', this);
                    _thisCar.owlCarousel('destroy');
                });
            },
            mobile: function() {
                $('.com__inv-tica').each(function() {
                    var _this = $(this),
                    _thisCar = $('.owl-carousel', this);
                    _thisCar.owlCarousel({
                        margin: 10,
                        dots: true,
                        items: 1,
                        smartSpeed: 700
                    });
                });
            }
        });

        VietinBank.investmentGraph();

        // col table with header bar
        VietinBank.colTableWithHeaderBar();

        //online banking list internet banking
        VietinBank.onlineBankingListInternetBanking();


        VietinBank.file({target: ".com__general__form-file"});

        // for bar infographic
        $('.com__infographic-slider').each(function(index) {
            var _this = $(this),
            _class = 'infographicSlider' + index;
            _this.addClass(_class);

            VietinBank.infographicSlider({
                target: '.' + _class
            });
        });

        // for stick in parent
        VietinBank.stickinparent();

        //fittext h1
        // $('.com__onlinebanking_2col_image').each(function() {
        //     VietinBank.fittext($('.com__onlinebanking_2col_image h1'),0.5, {
        //         minFontSize: VietinBank.width >= 768 && VietinBank.height <= 800 ? (VietinBank.height <= 600 ? 30 : 42) : 42,
        //         maxFontSize: VietinBank.width >= 768 && VietinBank.height <= 800 ? (VietinBank.height <= 600 ? 36 : 48) : 58
        //     });
        // })
        $('.com__onlinebanking_2col_image').each(function() {
            VietinBank.fittext($('.com__onlinebanking_2col_image h1'),0.5, {
                minFontSize: VietinBank.width >= 768 && VietinBank.width <= 1536 ? 38 : 42,
                maxFontSize: VietinBank.width >= 768 && VietinBank.width <= 1536 ? 38 : 58
            });
        })
        $('.com__investment_datachart-data').each(function() {
            VietinBank.fittext($('.com__investment_datachart-data h2'),0.4, {
                minFontSize: 30,
                maxFontSize: 42
            });
        })
        // $('.page-masthead-desktop-fixed').each(function() {
        //     VietinBank.fittext($('.l-m-text h1', this),0.65, {
        //         minFontSize: VietinBank.width >= 768 && VietinBank.height <= 800 ? (VietinBank.height <= 600 ? 30 : 42) : 42,
        //         maxFontSize: VietinBank.width >= 768 && VietinBank.height <= 800 ? (VietinBank.height <= 600 ? 36 : 48) : 58
        //     });
        // })
        $('.page-masthead-desktop-fixed').each(function() {
            VietinBank.fittext($('.l-m-text h1', this),0.65, {
                minFontSize: VietinBank.width >= 768 && VietinBank.width <= 1536 ? 38 : 42,
                maxFontSize: VietinBank.width >= 768 && VietinBank.width <= 1536 ? 38 : 58
            });
        })

        // for pie chart
        VietinBank.chart();

        // for toggle height
        $('.com__toggle-height').each(function(index) {
            var _this = $(this),
            _class = 'toggleHeight' + index;
            _this.addClass(_class);

            VietinBank.toggleHeight({
                target: '.' + _class
            });
        });

        // for fund list
        VietinBank.fundList({
            target: '.com__inv-fu'
        });

        // for auto scroll
        VietinBank.autoScroll();

        VietinBank.simplyspoton();
        VietinBank.cookie();
        VietinBank.mapLocator();
        setTimeout(function() {
            // for header nav scrolling
            VietinBank.navscroller({
                target: '.hb-co-list',
                offset: '.navigation__product-anchor'
            });
        }, 200);
        window.onpopstate = function(event)
        {
            if(window.location.hash) {
                // location.reload();
            }
            else {
                VietinBank.popup({type: 'card', action: 'close'});
            }
        };

        $('.com__onlinebanking-step-by-step').each(function(index, item) {
            $('.com__onlinebanking-step-by-step__col', item).last().addClass('last-child');
        });

        $('.com_feedback').each(function(index) {
            var _class = 'feedback' + index;
            $(this).addClass(_class);

            VietinBank.feedback({
                target: '.' + _class
            });
        });

        // for entrance animation
        VietinBank.animation();
        VietinBank.listener();
        
    },
    load: function() {
        //accordion nav for mobile
        VietinBank.accordionNav();
        VietinBank.graphinterest();
        VietinBank.groupHeightInitial();
        VietinBank.groupHeightMobile();
        VietinBank.cardsListing();
        // for videos
        VietinBank.videos();
        // images carousel
        VietinBank.imagesCarousel();
        VietinBank.dispatchEvent(window, 'window_onload');
        VietinBank.inv_listing();
        VietinBank.inv_selected();
        VietinBank.inv_details();
        VietinBank.inv_compare();
    }
}; // closing bracket of var VietinBank

$.fn.extend({
    findClosetChildren: function(selector, parentClass) {
        var self = this;
        var elem = $(self).find(selector);
        if (elem && elem.length === 1) return elem;
        if (!parentClass) return elem;
        var filteredElems = elem.filter(function(a,b) {
            return $(b).closest(parentClass).is($(self));
        });
        return filteredElems.length ? filteredElems : elem;
    },
    hasClasses: function (selectors) {
        var self = this;
        if(typeof selectors == 'object') {
            var number = selectors.length;
            var checked = 0;
            for (var i in selectors) {
                if ($(self).hasClass(selectors[i]) || selectors[i].indexOf('all') >= 0) 
                    checked++;
            }
            if(checked == number) {
                return true;
            }
            return false;
        }
        else {
            return $(self).hasClass(selectors);
        }
    }
});
    
if(!$('body').hasClass('js_init')) {
    // Customized function
    VietinBank.init();
    $(document).ready(function() {
        VietinBank.ready();
    });
    $(window).resize(function() {
        width = window.innerWidth && document.documentElement.clientWidth ? Math.min(window.innerWidth, document.documentElement.clientWidth) : window.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName('body')[0].clientWidth;
        height = window.innerHeight && document.documentElement.clientHeight ? Math.min(window.innerHeight, document.documentElement.clientHeight) : window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight;
        if(VietinBank.width !== width || (!VietinBank.isMobile && VietinBank.height !== height)) {
            VietinBank.width = width;
            VietinBank.height = height;
            VietinBank.debouncev2(function() {
                VietinBank.resize();
                VietinBank.headersticky({ action: 'mobile-open' });
            }, 200, {
                trailing: true,
                leading: false
            })()
        }
    });
    $(window).on('load', function() {
        VietinBank.load();
    });
}

